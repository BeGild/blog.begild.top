<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>æ ‘è“æ´¾-èŠ±ç”Ÿå£³-å†…ç½‘ç©¿é€</title>
    <link href="/2018/09/01/%E6%A0%91%E8%8E%93%E6%B4%BE%E2%80%94%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"/>
    <url>/2018/09/01/%E6%A0%91%E8%8E%93%E6%B4%BE%E2%80%94%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="è¿œç¨‹è®¿é—®æ ‘è“æ´¾"><a href="#è¿œç¨‹è®¿é—®æ ‘è“æ´¾" class="headerlink" title="è¿œç¨‹è®¿é—®æ ‘è“æ´¾"></a>è¿œç¨‹è®¿é—®æ ‘è“æ´¾</h2><p>æ ‘è“æ´¾ä¸€èˆ¬éƒ½æ˜¯æ¥åœ¨è·¯ç”±å™¨ä¸‹é¢çš„ï¼Œå½“ç„¶æ˜¯å†…ç½‘å•¦ï¼Œåœ¨å¤–é¢çš„æ—¶å€™æ˜¯è®¿é—®ä¸äº†çš„ï¼Œè¿™æ—¶å€™å°±éœ€è¦<a href="http://service.oray.com/question/5571.html">å†…ç½‘ç©¿é€</a>æ‰èƒ½å®ç°å¤–ç½‘ä¾ç„¶èƒ½å¤Ÿè®¿é—®åˆ°æ ‘è“æ´¾ã€‚å†…ç½‘ç©¿é€çš„è½¯ä»¶ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œè¿™é‡Œé€‰æ‹©èŠ±ç”Ÿå£³ï¼Œè²Œä¼¼æŒºæœ‰åçš„ã€‚</p><h2 id="èŠ±ç”Ÿå£³æ³¨å†Œ"><a href="#èŠ±ç”Ÿå£³æ³¨å†Œ" class="headerlink" title="èŠ±ç”Ÿå£³æ³¨å†Œ"></a>èŠ±ç”Ÿå£³æ³¨å†Œ</h2><p>å®˜ç½‘<a href="https://hsk.oray.com/">https://hsk.oray.com/</a>.</p><ol><li>æ‰“å¼€ä¹‹ååœ¨å³ä¸Šè§’æœ‰ç™»å½•æ³¨å†Œã€‚</li><li>ç‚¹å‡»æ³¨å†Œï¼ŒåŒæ„éšç§æ”¿ç­–ï¼Œå¡«å†™è´¦å·å¯†ç æ‰‹æœºå·ï¼ŒæŒ‰ç…§æ­£å¸¸æµç¨‹èµ°å°±OKäº†ã€‚è²Œä¼¼åç»­æ˜¯ä¼šæç¤ºä½ è¿›è¡Œå®ååˆ¶çš„ï¼Œå«Œéº»çƒ¦å¯ä»¥ä¸ç”¨å®ååˆ¶æ‹ç…§ä¸Šä¼ å•¥çš„,ä¸æ“ä½œè¿™ä¸€æ­¥ã€‚</li><li>æ³¨å†ŒæˆåŠŸä¼šé€ä½ ä¸€ä¸ªå…è´¹çš„èŠ±ç”Ÿå£³åŸŸåç”¨ä½œä»¥åä½¿ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥å…è´¹æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰çš„å£³åŸŸåï¼Œä¸è¿‡åç¼€æ˜¯æŒ‡å®šçš„ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/%E6%B3%A8%E5%86%8C%E6%88%90%E5%8A%9F.png"></li></ol><h2 id="å®‰è£…æ ‘è“æ´¾èŠ±ç”Ÿå£³å®¢æˆ·ç«¯"><a href="#å®‰è£…æ ‘è“æ´¾èŠ±ç”Ÿå£³å®¢æˆ·ç«¯" class="headerlink" title="å®‰è£…æ ‘è“æ´¾èŠ±ç”Ÿå£³å®¢æˆ·ç«¯"></a>å®‰è£…æ ‘è“æ´¾èŠ±ç”Ÿå£³å®¢æˆ·ç«¯</h2><p>ä¸‹è½½æœ€æ–°å®‰è£…åŒ…<a href="https://hsk.oray.com/download">https://hsk.oray.com/download</a>ï¼Œé€‰æ‹©æ ‘è“æ´¾ä¸‹è½½ã€‚ä¹Ÿå¯ä»¥é€šè¿‡SSHè¿è¡Œä¸‹é¢å‘½ä»¤ç›´æ¥è·å¾—å¹¶å®‰è£…ã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-keyword">cd</span> <span class="hljs-string">/home/pi/Documents</span> &amp;&amp; mkdir hskoray &amp;&amp; <span class="hljs-keyword">cd</span> hskoray  <span class="hljs-string">//</span>åˆ›å»ºä¸‹è½½ç›®å½•<br>wget  https:<span class="hljs-string">//hsk.oray.com/download/download</span>?id=25 -O phddns_rapi.armhf.deb <span class="hljs-string">//</span>ä¸‹è½½<br>sudo dpkg -i phddns_rapi.armhf.deb <span class="hljs-string">//</span>å®‰è£…<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæ¯•ä¼šè¾“å‡ºSNç å’Œé»˜è®¤çš„ç™»å½•å¯†ç ï¼Œè¿™ä¸ªéœ€è¦ä¿å­˜ä¸€ä¸‹SNç ï¼Œä¹‹åæ·»åŠ è®¾å¤‡éœ€è¦ç”¨åˆ°ã€‚</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">pi@BeGild<span class="hljs-emphasis">_Raspi:~/Documents/hskoray $ sudo dpkg -i phddns_rapi_3.0.1.armhf.deb</span><br><span class="hljs-emphasis">æ­£åœ¨é€‰ä¸­æœªé€‰æ‹©çš„è½¯ä»¶åŒ… phddnsã€‚</span><br><span class="hljs-emphasis">(æ­£åœ¨è¯»å–æ•°æ®åº“ ... ç³»ç»Ÿå½“å‰å…±å®‰è£…æœ‰ 129540 ä¸ªæ–‡ä»¶å’Œç›®å½•ã€‚)</span><br><span class="hljs-emphasis">æ­£å‡†å¤‡è§£åŒ… phddns_rapi_3.0.1.armhf.deb  ...</span><br><span class="hljs-emphasis">æ­£åœ¨è§£åŒ… phddns (3.0.2) ...</span><br><span class="hljs-emphasis">æ­£åœ¨è®¾ç½® phddns (3.0.2) ...</span><br><span class="hljs-emphasis">2018-09-02 02:32:31     = Debug =       [http_call] attempt to connect server: rapi.ephapi.oray.net/device/register</span><br><span class="hljs-emphasis">2018-09-02 02:32:31     = Debug =       [http_call] create new stream because alive streams is empty.</span><br><span class="hljs-emphasis">2018-09-02 02:32:31     - Info  -       [http_</span>call] connect server: rapi.ephapi.oray.net:443(121.40.234.27)<br><span class="hljs-code">  . Performing the SSL/TLS handshake...</span><br><span class="hljs-code"> ok</span><br><span class="hljs-code">  . Verifying peer X.509 certificate...</span><br><span class="hljs-code"> ok</span><br>2018-09-02 02:32:32     - Info  -       register ok<br>SN : RA<span class="hljs-strong">***cac**</span><span class="hljs-strong">*4a4*</span>*<br>fastcode=2a868<span class="hljs-strong">****b29e267**</span><span class="hljs-strong">**be05ee803a5</span><br><span class="hljs-strong">SN : RA**</span><span class="hljs-strong">*cac*</span><span class="hljs-strong">**4a4**</span><br>2018-09-02 02:32:32     - Info  -       [Main] oraysl started as a daemon.<br>Phddns Service install success.<br><br><span class="hljs-code">+--------------------------------------------------+</span><br><span class="hljs-section">|             Oray PeanutHull Linux 3.0            |</span><br><span class="hljs-section">+--------------------------------------------------+</span><br><span class="hljs-section">|  SN: RA***cac***4a4**   Default password: admin  |</span><br><span class="hljs-section">+--------------------------------------------------+</span><br><span class="hljs-section">|    Remote Management Address http://b.oray.com   |</span><br><span class="hljs-section">+--------------------------------------------------+</span><br>æ­£åœ¨å¤„ç†ç”¨äº systemd (232-25+deb9u4) çš„è§¦å‘å™¨ ...<br>pi@BeGild_Raspi:~/Documents/hskoray $<br><br></code></pre></td></tr></table></figure><p>å…¶ä½™çš„ç›¸å…³åŠŸèƒ½å‘½ä»¤å¤§è‡´å¦‚ä¸‹ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥<code>phddns</code> è·å¾—ã€‚</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs coq">sudo dpkg -r phddns //å¸è½½èŠ±ç”Ÿå£³<br>phddns startï¼ˆå¯åŠ¨ï¼‰| <span class="hljs-type">stop</span>ï¼ˆåœæ­¢ï¼‰| <span class="hljs-type">restart</span>ï¼ˆé‡å¯ï¼‰<br>phddns statusï¼ˆçŠ¶æ€ï¼‰| <span class="hljs-type">version</span>ï¼ˆç‰ˆæœ¬ï¼‰|<span class="hljs-type">reset</span>ï¼ˆé‡ç½®ï¼‰<br></code></pre></td></tr></table></figure><p>æ—¥å¿—ä¿å­˜åœ¨<code>/var/log/phddns</code>ç›®å½•ä¸‹ã€‚å®˜æ–¹çš„æ•™ç¨‹è§<a href="http://service.oray.com/question/2680.html">èŠ±ç”Ÿå£³ 3.0 for æ ‘è“æ´¾ å®‰è£…ä½¿ç”¨æ”»ç•¥</a></p><h2 id="ç»‘å®šè®¾å¤‡"><a href="#ç»‘å®šè®¾å¤‡" class="headerlink" title="ç»‘å®šè®¾å¤‡"></a>ç»‘å®šè®¾å¤‡</h2><p>ç»‘å®šéœ€è¦å…ˆç™»å½•è¿œç¨‹ç®¡ç†è®¾å¤‡é¡µé¢ã€‚ç‚¹å‡»<a href="https://b.oray.com/">https://b.oray.com/</a>ï¼Œæ‰“å¼€è¿œç¨‹ç®¡ç†é¡µé¢ï¼Œè¾“å…¥åˆšç”Ÿæˆçš„æ ‘è“æ´¾çš„SNç ï¼Œè¾“å…¥é»˜è®¤å¯†ç adminè¿›è¡Œç™»å½•ã€‚ç¬¬ä¸€æ¬¡ç™»é™†ä¼šè®©ä½ å®Œå–„ä¿¡æ¯å¡«å†™æ‰‹æœºå·ç­‰ä¿¡æ¯ã€‚<br>ç™»å½•ä¹‹åä¼šæç¤ºä½ è¿™ä¸ªæ˜¯å†…éƒ¨çš„è´¦å·éœ€è¦å’Œä½ åˆšæ³¨å†Œçš„è´¦å·è¿›è¡Œâ€ç»‘å®šâ€ã€‚ç‚¹å‡»<code>ç«‹å³åˆ‡æ¢</code>å³å¯åˆ‡æ¢åˆ°ç™»å½•ç•Œé¢,è¾“å…¥ä½ æ³¨å†Œçš„è´¦å·å’Œå¯†ç ç™»å½•,è®¾å¤‡è‡ªç„¶å°±å½’å±åˆ°ä½ çš„åä¸‹äº†ã€‚<br><a href="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/%E8%AE%BE%E5%A4%87%E7%BB%91%E5%AE%9A.png"></a></p><h2 id="å¼€é€šå†…ç½‘ç©¿é€"><a href="#å¼€é€šå†…ç½‘ç©¿é€" class="headerlink" title="å¼€é€šå†…ç½‘ç©¿é€"></a>å¼€é€šå†…ç½‘ç©¿é€</h2><p>å¼€é€šå†…ç½‘ç©¿é€ä½“éªŒç‰ˆä»…éœ€6å…ƒï¼Œå¯ä»¥åœ¨ç»‘å®šè®¾å¤‡ååœ¨<a href="https://b.oray.com/forward/">è®¾å¤‡ç®¡ç†ç•Œé¢</a>ç‚¹å‡»å·¦è¾¹ä¾§æ çš„å†…ç½‘ç©¿é€è¿›è¡Œå¼€é€š.<br><img src="http://upload-cdn.oray.com/upload/help/1806/201806251335371098.png"><br>ä¹Ÿå¯ä»¥åœ¨<a href="https://hsk.oray.com/">é¦–é¡µ</a>å·¦ä¸‹è§’ç‚¹å‡»è¿›å…¥å¼€é€šé¡µé¢å¼€é€š.<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/%E5%BC%80%E9%80%9A%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F.png"></p><h2 id="è·¯ç”±å™¨æ‰“å¼€DDNS"><a href="#è·¯ç”±å™¨æ‰“å¼€DDNS" class="headerlink" title="è·¯ç”±å™¨æ‰“å¼€DDNS"></a><del>è·¯ç”±å™¨æ‰“å¼€DDNS</del></h2><p>emmmæˆ‘çœ‹åˆ«äººçš„æ•™ç¨‹éƒ½æ²¡è¯´è¦è®¾ç½®DDNSäº†ï¼Œä½†æ˜¯æˆ‘çš„ä¸è®¾ç½®çš„è¯å°±ä¸æˆåŠŸã€‚æ‰€ä»¥è¿™é‡Œæœ‰å¾…è€ƒç©¶[2018.10.04]è¿™é‡Œæ‰¾å®¢æœå’¨è¯¢è¿‡æ¥ï¼Œä¸éœ€è¦è®¾ç½®è·¯ç”±å™¨ DDNS ï¼Œä¸ä»…å¦‚æ­¤ï¼Œå¦‚æœè®¾ç½®äº†DDNSèŠ±ç”Ÿå£³ä¼šæç¤ºè´¦å·é‡å¤ç™»å½•çš„é—®é¢˜ï¼Œä¹‹å‰ä¸æˆåŠŸçš„åŸå› æ˜¯å› ä¸ºéœ€è¦ä¸€å®šçš„åˆ·æ–°(æ˜ å°„ï¼Ÿ)æ—¶é—´ã€‚</p><ul><li>è®¾ç½®è¿‡ç¨‹å°±æ˜¯åœ¨æµè§ˆå™¨è¾“å…¥è·¯ç”±å™¨ç®¡ç†åœ°å€ï¼Œä¸€èˆ¬å°±æ˜¯<code>192.168.1.0</code>æˆ–è€…<code>192.168.1.1</code>ï¼Œè¾“å…¥ç®¡ç†å‘˜å¯†ç ç™»å½•ï¼Œæˆ‘çš„æ˜¯TPLINK WR855Nï¼Œæ˜¯æ”¯æŒDDNSçš„ã€‚</li><li>ç™»å½•ä¹‹åçš„é¡µé¢é‡Œé€‰æ‹©åº”ç”¨ç®¡ç†-&gt; DDNS è¿›å…¥ï¼Œåœ¨æœåŠ¡æä¾›è€…é€‰æ‹©èŠ±ç”Ÿå£³ï¼Œè¾“å…¥è‡ªå·±çš„è´¦å·å’Œå¯†ç å‹¾é€‰è‡ªåŠ¨ç™»å½•ç„¶åç™»å½•å°±OKäº†ã€‚</li><li>å¯¹äº†è¿™é‡Œå»ºè®®ä½¿ç”¨è·¯ç”±å™¨çš„IPå’ŒMACåœ°å€ç»‘å®šåº”ç”¨ï¼Œå°†IPå›ºå®šåˆ†é…ç»™æ ‘è“æ´¾ï¼Œè¿™æ ·æ ‘è“æ´¾åœ¨å†…ç½‘çš„IPå°±å›ºå®šäº†.<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/TPLINK%E8%AE%BE%E7%BD%AEDDNS.png"></li></ul><h2 id="æ·»åŠ ç«¯å£æ˜ å°„"><a href="#æ·»åŠ ç«¯å£æ˜ å°„" class="headerlink" title="æ·»åŠ ç«¯å£æ˜ å°„"></a>æ·»åŠ ç«¯å£æ˜ å°„</h2><p>å¼€é€šäº†ç«¯å£æ˜ å°„ä¹‹åï¼Œåœ¨ç«¯å£æ˜ å°„é¡µé¢å³è¾¹ä¼šå‡ºç°ä¸€ä¸ªå¢åŠ ç«¯å£æ˜ å°„çš„æŒ‰é’®ã€‚ç‚¹å‡»å³å¯æ·»åŠ .<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/%E6%B7%BB%E5%8A%A0%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84.png"></p><h2 id="æ³¨å†Œå…è´¹çš„è‡ªå®šä¹‰å£³åŸŸ"><a href="#æ³¨å†Œå…è´¹çš„è‡ªå®šä¹‰å£³åŸŸ" class="headerlink" title="æ³¨å†Œå…è´¹çš„è‡ªå®šä¹‰å£³åŸŸ"></a>æ³¨å†Œå…è´¹çš„è‡ªå®šä¹‰å£³åŸŸ</h2><p>æ³¨å†Œäº†èŠ±ç”Ÿå£³è´¦å·ä¹‹åä¼šç»™ä¸€ä¸ªé€‰ä¸€ä¸ªè‡ªå®šä¹‰å£³åŸŸåçš„æœºä¼šã€‚åœ¨è®¾å¤‡ç®¡ç†é¡µé¢ç‚¹å‡»ä¾§è¾¹<code>æˆ‘çš„åŸŸå</code>,å·¦ä¸Šè§’æœ‰ä¸ª<code>æ³¨å†Œå£³åŸŸå</code>.ç‚¹å‡»ä¹‹åè¿›å…¥æ³¨å†Œç•Œé¢ï¼Œå†™ä¸€ä¸‹è‡ªå·±å–œæ¬¢çš„å‰ç¼€åœ¨å…è´¹çš„åç¼€é‡Œé€‰æ‹©ä¸€ä¸ªï¼Œç‚¹å‡»æœç´¢ï¼Œæ²¡æœ‰è¢«åˆ«äººæ³¨å†Œçš„è¯å°±å¯ä»¥è‡ªæ³¨å†Œäº†ã€‚<br>ç”¨è¿™ä¸ªå£³åŸŸåæ·»åŠ æ˜ å°„åŒæ ·å¯ä»¥ä½¿ç”¨ã€‚</p><h2 id="éªŒè¯è®¿é—®"><a href="#éªŒè¯è®¿é—®" class="headerlink" title="éªŒè¯è®¿é—®"></a>éªŒè¯è®¿é—®</h2><p>æ‰“å¼€SSHè½¯ä»¶ï¼Œæ–°å»ºä¸€ä¸ªè¿æ¥å¡«å†™ä¸»æœºåœ°å€(æ·»åŠ æ˜ å°„çš„å£³åŸŸå)ï¼Œç«¯å£(èŠ±ç”Ÿå£³ä¸ºä½ åˆ†é…çš„éšæœºç«¯å£ï¼Œåœ¨<a href="https://b.oray.com/">è®¾å¤‡ç®¡ç†é¡µé¢</a>-&gt;å†…ç½‘ç©¿é€-&gt;æ˜ å°„åˆ—è¡¨-&gt;å£³åŸŸå-&gt;åå¯ä»¥çœ‹åˆ°)ï¼Œè¾“å…¥ç™»å½•è´¦å·piå’Œä½ çš„æ ‘è“æ´¾å¯†ç å³å¯ï¼ŒåŒå‡»æ–°å»ºçš„è¿æ¥ï¼Œèƒ½è¿æ¥æˆåŠŸå°±æ˜¯é€šäº†çš„ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E8%8A%B1%E7%94%9F%E5%A3%B3-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/%E5%85%AC%E7%BD%91SSH%E9%AA%8C%E8%AF%81.png"></p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ç»è¿‡ä¸Šé¢çš„ä¸€ç³»åˆ—æ­¥éª¤æ ‘è“æ´¾å·²ç»å¯ä»¥åœ¨å¤–ç½‘è¢«è®¿é—®äº†ï¼Œè¿™é‡Œç«¯å£æ˜ å°„æ·»åŠ çš„æ˜¯SSHæŒ‡å®šçš„22ç«¯å£ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦æŒ‡å®šå…¶ä»–çš„ç«¯å£ï¼Œä¸è¿‡å…è´¹ç‰ˆæœ¬çš„åªæ”¯æŒä¸¤ä¸ªç«¯å£æ˜ å°„ã€‚ç»è¿‡ä½¿ç”¨ï¼Œè¿™ä¸ªä¸ºä½ åˆ†é…çš„ä¸´æ—¶ç«¯å£å…¶å®æ—¶é—´æŒºé•¿çš„ï¼Œä¸ä¼šå‡ å°æ—¶å°±å˜ä¸€æ¬¡ï¼Œä¸¤ä¸‰å¤©éƒ½ä¸å˜ä¸€æ¬¡çš„ã€‚<br>å¯ä»¥ä¸‹è½½å®˜æ–¹çš„èŠ±ç”Ÿå£³ç®¡ç†APP,<a href="https://hsk.oray.com/download/download?id=36">Android</a>&#x2F;<a href="https://hsk.oray.com/download/download?id=37">IOS</a>è¿›è¡Œç®¡ç†å’ŒæŸ¥çœ‹çŠ¶æ€ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ ‘è“æ´¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>èŠ±ç”Ÿå£³</tag>
      
      <tag>å†…ç½‘ç©¿é€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ‘è“æ´¾|äº‘æœåŠ¡å™¨-MQTTç¯å¢ƒæ­å»º</title>
    <link href="/2018/08/26/%E6%A0%91%E8%8E%93%E6%B4%BE%E2%80%94%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <url>/2018/08/26/%E6%A0%91%E8%8E%93%E6%B4%BE%E2%80%94%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="æ ‘è“æ´¾ä¹‹-MQTT-æ­å»º"><a href="#æ ‘è“æ´¾ä¹‹-MQTT-æ­å»º" class="headerlink" title="æ ‘è“æ´¾ä¹‹ MQTT æ­å»º"></a>æ ‘è“æ´¾ä¹‹ MQTT æ­å»º</h2><p>æ¯å¤©å‡ºé—¨æ€»æ€€ç–‘è‡ªå·±ç¯æ²¡å…³ã€ç©ºè°ƒæ²¡å…³ï¼Œæ™šä¸Šç¡è§‰çš„æ—¶å€™èººä¸‹æ‰æ„è¯†åˆ°ç¯æ²¡å…³ã€ç„¶è€Œå¼€å…³å´ç†æˆ‘ç‰¹åˆ«è¿œï¼Œè¿™æˆ‘å¯æ¥å—ä¸äº† 2333 ï¼Œæ‰€ä»¥äº§ç”Ÿäº†è¿™ç§åˆšéœ€ğŸ¤£ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æ­å»º<a href="https://baike.baidu.com/item/MQTT/3618851">MQTT</a>ç¯å¢ƒçš„è¿‡ç¨‹ã€‚</p><!---more----><h2 id="æ­å»ºçš„ä¸¤ç§æ–¹æ³•"><a href="#æ­å»ºçš„ä¸¤ç§æ–¹æ³•" class="headerlink" title="æ­å»ºçš„ä¸¤ç§æ–¹æ³•"></a>æ­å»ºçš„ä¸¤ç§æ–¹æ³•</h2><ol><li>æ ‘è“æ´¾ä½œä¸º MQTT æœåŠ¡å™¨ï¼Œç”¨èŠ±ç”Ÿå£³æ˜ å°„ç«¯å£( 6 å—é’±)å¯ä»¥ä¾›ç»™å¤–ç½‘è®¿é—®ï¼Œè¿™ä¸ªæ–¹æ³•çš„è¯æœ€ä¾¿å®œçš„æ–¹æ¡ˆå§ï¼Œä¸è¿‡å¤–ç½‘çš„ç«¯å£æ˜¯ä¸å›ºå®šçš„ï¼Œå¦‚æœè¢«æ”¹å˜äº†å°±å¾—æ‰“å¼€èŠ±ç”Ÿå£³ç®¡ç†å™¨æŸ¥çœ‹åˆ†é…çš„å…¬ç½‘ç«¯å£ï¼Œå«Œéº»çƒ¦çš„è¯å¯ä»¥ä¹°å›ºå®šçš„ç«¯å£ï¼Œå¾—å·®ä¸å¤š 100 å—è¿™æ ·å­ã€‚ä¸è¿‡è¿™ä¸¤ä¸ªéƒ½æ˜¯æ°¸ä¹…çš„åŠ èµ·æ¥ 100 å¤šä¸€ç‚¹ã€‚å½“ç„¶å¦‚æœä¸å«Œéº»çƒ¦ï¼Œé‚£å°±åªè¦ 6 å…ƒäº†ã€‚ç»“æ„å¤§æ¦‚å°±æ˜¯è¿™æ ·å­ï¼Œ23333 ç”»çš„ä¸å¤ªå¥½å°†å°±çœ‹ã€‚<br>æ ‘è“æ´¾åŒæ—¶è¿è¡Œä¸€ä¸ª MQTT æœåŠ¡å™¨å’Œä¸€ä¸ª MQTT å®¢æˆ·ç«¯ã€‚æ‰‹æœºè¿è¡Œä¸€ä¸ª MQTT å®¢æˆ·ç«¯ï¼Œé€šè¿‡è®¿é—®èŠ±ç”Ÿå£³æ˜ å°„ä¹‹åçš„åŸŸåå’Œç«¯å£æ¥è®¿é—®å†…ç½‘çš„æ ‘è“æ´¾ MQTT æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚æ ‘è“æ´¾è¿è¡Œçš„ MQTT å®¢æˆ·ç«¯ç›´æ¥é€šè¿‡å†…ç½‘å’ŒæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%A0%91%E8%8E%93%E6%B4%BEMQTT%E6%9C%8D%E5%8A%A1%E5%99%A8.jpg">  </li><li>äº‘ä¸»æœºä½œä¸º MQTT æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ–¹æ¡ˆçš„è¯å› ä¸ºæˆ‘ä¹‹å‰ä¹°äº†è…¾è®¯äº‘çš„æœåŠ¡å™¨ 120 ä¸€å¹´ï¼Œç»­äº†ä¸‰å¹´ã€‚é—²ç½®ç€ä¹Ÿæ˜¯æ²¡æœ‰ç”¨ï¼Œæ‰€ä»¥åˆ©ç”¨äº†èµ·æ¥ã€‚è¿™ä¸ªæ–¹æ³•çš„è¯æ¯”è¾ƒå®¹æ˜“å®ç°ï¼Œä¸æŠ˜è…¾é‚£äº›ä¸ªä»€ä¹ˆå†…ç½‘ç©¿é€ï¼Œä½†æ˜¯é’±ä¹Ÿä¼šå¤šå¾ˆå¤šï¼Œä¸è¿‡äº‘æœåŠ¡å™¨æœ‰å…¬ç½‘ IP è¿˜æœ‰ä»¥åå¯ä»¥æœ‰å¾ˆå¤šåˆ©ç”¨çš„åœ°æ–¹ã€‚å¤§æ¦‚çš„å…³ç³»å°±æ˜¯å¦‚ä¸‹å›¾ï¼Œæ¯”è¾ƒå®¹æ˜“ç†è§£çš„å§è¿˜æ˜¯ï¼Œæ ‘è“æ´¾è¿è¡Œçš„å®¢æˆ·ç«¯é€šè¿‡ç½‘ç»œå’Œäº‘ä¸»æœºä¸Šçš„æœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œæ‰‹æœºä¸Šçš„MQTTå®¢æˆ·ç«¯åŒæ ·å¦‚æ­¤ã€‚</li></ol><p><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8MQTT%E6%9C%8D%E5%8A%A1%E5%99%A8.jpg"></p><p>MQTT çš„æœåŠ¡å™¨æˆ‘é€‰æ‹©ä½¿ç”¨çš„æ˜¯å¼€æºçš„ EMQTT ,å®˜æ–¹æä¾›äº†å¾ˆå¤šç³»ç»Ÿçš„å®‰è£…åŒ…ï¼Œå¾ˆå®¹æ˜“æ­å»ºçš„ï¼Œç®¡ç†ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚å®˜ç½‘è§ <a href="http://emqtt.com/">http://emqtt.com/</a>.æ ‘è“æ´¾ä½œä¸ºæœåŠ¡å™¨çš„è¯å®‰è£…ä½¿ç”¨éœ€è¦é‡‡ç”¨æºç çš„æ–¹å¼è¿›è¡Œç¼–è¯‘å®‰è£…ã€‚</p><h2 id="äº‘ä¸»æœºä½œä¸ºMQTTæœåŠ¡å™¨"><a href="#äº‘ä¸»æœºä½œä¸ºMQTTæœåŠ¡å™¨" class="headerlink" title="äº‘ä¸»æœºä½œä¸ºMQTTæœåŠ¡å™¨"></a>äº‘ä¸»æœºä½œä¸ºMQTTæœåŠ¡å™¨</h2><p>ä¹‹å‰æä¼˜æƒ æ´»åŠ¨çš„æ—¶å€™ä¹°çš„è…¾è®¯äº‘çš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨çš„é…ç½®æ˜¯ 2G å†…å­˜ 1Mbps å¸¦å®½ 40GB ç¡¬ç›˜ï¼Œè·‘è¿™ä¸ªç»°ç»°æœ‰ä½™ã€‚å…·ä½“çš„è´­ä¹°æµç¨‹å°±ä¸è¯´äº†ï¼Œå‚»ç“œå¼çš„ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ centos 7 ä½œä¸ºç³»ç»Ÿï¼Œå› ä¸ºæ®è¯´è¿™ä¸ªç³»ç»ŸåšæœåŠ¡å™¨å¤šï¼Ÿè¿™ä¸ªåç»­åæ‚”äº†è¿˜å¯ä»¥å…è´¹æ”¹çš„ã€‚<br>ä¹°äº†æœåŠ¡å™¨ä¹‹åè¦<a href="https://www.yuntunpuzi.com/qcloud/178/">è®¾ç½®å®‰å…¨ç»„çš„è§„åˆ™</a>ï¼Œæˆ‘æ˜¯æŠŠæ‰€æœ‰ç«¯å£éƒ½æ‰“å¼€äº†çš„(å®‰å…¨ï¼Ÿä¸å­˜åœ¨è€ƒè™‘çš„)ï¼Œæœ€èµ·ç è¦æŠŠ 22 ç«¯å£å¼€æ”¾ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ SSH ç™»å½•è¦ç”¨çš„ç«¯å£ã€‚å®Œæˆåˆæ­¥çš„é…ç½®å°±å¯ä»¥ç”¨äº†ã€‚æåˆ°æœåŠ¡å™¨çš„å¯†ç å°±å¯ä»¥ç”¨è´¦æˆ· root + å¯†ç è¿›è¡Œ SSH è®¿é—®äº†ã€‚ä¹‹åçš„éƒ½æ˜¯ç”¨ SSH è¿›è¡Œé…ç½®çš„ã€‚SSH è½¯ä»¶çš„ä½¿ç”¨å¯ä»¥çœ‹ä¹‹å‰å†™çš„æ ‘è“æ´¾å®‰è£…ç³»ç»Ÿå’Œé…ç½®ä¸‹çš„-&gt;<a href="http://begild.top/article/fd8be0b3.html">ä½¿ç”¨SSHè¿›è¡Œæ ‘è“æ´¾çš„è¿æ¥</a><br>æ¥ä¸‹æ¥çš„æ“ä½œéƒ½æ˜¯åœ¨ centos 7ç³»ç»Ÿçš„ç»ˆç«¯é‡Œè¿è¡Œçš„ã€‚  </p><ol><li><p>é€šè¿‡ rpm å®‰è£…åŒ…è¿›è¡Œå®‰è£…ã€‚(ä½¿ç”¨ç®€å•å¿«æ·)æ•™ç¨‹å¯ä»¥çœ‹<a href="http://emqtt.com/docs/v2/install.html#rpm">è¿™é‡Œ</a>.    </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">yum install wget <span class="hljs-regexp">//</span>å®‰è£…ä¸‹è½½å·¥å…·è¿™ä¸ªåº”è¯¥éƒ½æ˜¯é¢„ç½®äº†çš„<br>yum install lksctp-tools  <span class="hljs-regexp">//</span>å®‰è£…Erlang/OTP R19ä¾èµ–åº“<br>wget http:<span class="hljs-regexp">//</span>emqtt.com<span class="hljs-regexp">/downloads/</span>latest<span class="hljs-regexp">/centos7-rpm -O emqttd-centos7-x86_64.rpm /</span>/ä¸‹è½½å®‰è£…åŒ…<br>rpm -ivh emqttd-centos7-x86_64.rpm <span class="hljs-regexp">//</span>å®‰è£…<br></code></pre></td></tr></table></figure><p>  å®‰è£…å®Œæˆä¹‹åå‘¢å°±å¯ä»¥è¿è¡Œäº†ï¼Œæ˜¯ä¸æ˜¯è¶…çº§ç®€å•ã€‚é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯ä»¥å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€æŸ¥çœ‹çŠ¶æ€æ•´ä¸ª EMQTT æœåŠ¡ã€‚è¿™ä¸ªæ–¹å¼å®‰è£…ï¼Œé…ç½®æ–‡ä»¶å­˜æ”¾åœ¨<code>/etc/emqttd/</code>ä¸‹çš„ã€‚</p><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">systemctl start|<span class="hljs-type">stop</span>|<span class="hljs-type">restart</span>|<span class="hljs-type">status</span> emqttd.service<br></code></pre></td></tr></table></figure></li><li><p>é€šç”¨åŒ…æ–¹å¼å®‰è£…ã€‚(ç»¿è‰²è§£å‹ç‰ˆ)ã€‚æ•™ç¨‹å¯ä»¥çœ‹<a href="http://emqtt.com/docs/v2/install.html#linux">è¿™é‡Œ</a>.ç»¿è‰²ç‰ˆå˜›å½“ç„¶æ˜¯è¦æ‰‹åŠ¨æ‰§è¡Œæ–‡ä»¶å¯åŠ¨çš„å•¦ã€‚è¿™ä¸ªæ–¹å¼ä¸‹çš„é…ç½®æ–‡ä»¶æ˜¯å­˜æ”¾åœ¨è§£å‹ç›®å½•ä¸‹çš„<code>etc</code>ä¸‹,ä¸åœ¨<code>/etc/emqttd/</code>ä¸‹ã€‚</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">wget http:<span class="hljs-string">//emqtt.com/downloads/latest/centos7</span> -O emqttd-centos7.zip <span class="hljs-string">//</span>ä¸‹è½½å‹ç¼©åŒ…<br>unzip emqttd-centos7.zip <span class="hljs-string">//</span>è§£å‹å®‰è£…<br><br><span class="hljs-keyword">cd</span> è§£å‹ç›®å½•<span class="hljs-string">/emqttd</span><br><span class="hljs-string">./bin/emqttd</span> console <span class="hljs-string">//</span>è¿è¡Œæ§åˆ¶å° ctrl+cé€€å‡º<br><span class="hljs-string">./bin/emqttd</span> start|stop|restart <span class="hljs-string">//</span>åå°å®ˆæŠ¤è¿›ç¨‹æ–¹å¼<br></code></pre></td></tr></table></figure></li><li><p>è®¿é—®æœåŠ¡å™¨æ§åˆ¶ç•Œé¢<br>Dashboard æ’ä»¶å¯æŸ¥è¯¢ EMQ æ¶ˆæ¯æœåŠ¡å™¨åŸºæœ¬ä¿¡æ¯ã€ç»Ÿè®¡æ•°æ®ã€åº¦é‡æ•°æ®ï¼ŒæŸ¥è¯¢ç³»ç»Ÿå®¢æˆ·ç«¯(Client)ã€ä¼šè¯(Session)ã€ä¸»é¢˜(Topic)ã€è®¢é˜…(Subscription)ã€‚EMQ æ¶ˆæ¯æœåŠ¡å™¨é»˜è®¤åŠ è½½ Dashboard æ’ä»¶ã€‚<br>å®‰è£…å®Œæˆä¹‹åè®¿é—®åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ æœåŠ¡å™¨IP:18083&#x2F; å³å¯è®¿é—®ç½‘é¡µç«¯çš„æ§åˆ¶ç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ä¼šæç¤ºä½ è¾“å…¥ç™»å½•è´¦æˆ·å’Œå¯†ç ï¼Œé»˜è®¤çš„è´¦æˆ·æ˜¯<code>admin</code> å¯†ç æ˜¯ <code>public</code>ã€‚ç™»å½•ä¹‹åç‚¹å‡»ä¾§è¾¹ <code>USER</code> æ ï¼Œå¯ä»¥çœ‹åˆ° <code>admin</code> è´¦æˆ·ç‚¹å‡» <code>Edit</code> å³å¯æ›´æ”¹å¯†ç ã€‚é¡µé¢å³ä¸Šè§’å¯ä»¥åˆ‡æ¢ä¸»é¢˜é…è‰²ï¼Œè¯­è¨€ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BB%AA%E8%A1%A8%E7%9B%98.png">  </p></li><li><p>MQTT æœåŠ¡å™¨çš„é…ç½®ã€‚<br>æ— è®ºé€šè¿‡ä½•ç§æ–¹å¼å®‰è£…éƒ½éœ€è¦ä¿®æ”¹æœåŠ¡å™¨çš„ä¸€äº›æ’ä»¶å’Œé…ç½®æ–‡ä»¶æ‰èƒ½ä¸ºä½ æ‰€ç”¨ã€‚è¿™é‡Œå‘¢ä¸»è¦æ˜¯é…ç½®å®¢æˆ·ç«¯çš„ç™»å½•æœåŠ¡å™¨éªŒè¯æ–¹å¼å’Œå®¢æˆ·ç«¯çš„IDç­‰ä¿¡æ¯ã€‚<br>å…¶è®¤è¯æ–¹å¼å¦‚ä¸‹ï¼Œå®¢æˆ·ç«¯æ¥å…¥æœåŠ¡å™¨å‘¢ï¼Œéœ€è¦è¿›è¡Œç”¨æˆ·åå¯†ç çš„è®¤è¯ï¼Œå®¢æˆ·ç«¯IDçš„è®¤è¯ï¼Œå¦‚æœä½ ä¸¤ä¸ªéƒ½ä¸å¼€(ignore)çš„è¯å°±æ˜¯åŒ¿åè®¤è¯ã€‚ç”¨æˆ·åçš„è®¤è¯éœ€è¦æ‰“å¼€  <code>emq_auth_username</code> æ’ä»¶ã€‚å®¢æˆ·ç«¯IDçš„è®¤è¯éœ€è¦æ‰“å¼€ <code>emq_auth_clientid</code> æ’ä»¶ã€‚æœåŠ¡å™¨é»˜è®¤æ‰“å¼€åŒ¿åè®¤è¯ï¼Œæˆ‘é€‰æ‹©æ‰“å¼€ç”¨æˆ·åå¯†ç è®¤è¯ï¼Œå®¢æˆ·ç«¯IDè®¤è¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">          ----------------           ----------------           ------------<br>Client --&gt; | Usernameè®¤è¯ | -ignore-&gt; | ClientIDè®¤è¯ | -ignore-&gt; | åŒ¿åè®¤è¯ |<br>          ----------------           ----------------           ------------<br>       |                         |                         |<br>      \|/                       \|/                       \|/<br> allow | deny              allow | deny              allow | deny<br></code></pre></td></tr></table></figure></li></ol><ul><li><p>æ·»åŠ é…ç½®åˆ—è¡¨-ç”¨æˆ·å&#x2F;å¯†ç .<br>  æ—¢ç„¶ä½¿èƒ½äº†ç”¨æˆ·åå¯†ç éªŒè¯ï¼Œå½“ç„¶æ˜¯éœ€è¦æ·»åŠ ç”¨æˆ·åå’Œå¯†ç çš„å•¦ï¼Œé…ç½®æ–‡ä»¶ä¸º <code>emq_auth_username.conf</code>,åœ¨å„è‡ªå­˜æ”¾é…ç½®æ–‡ä»¶çš„ç›®å½•ä¸‹çš„<code>plugins</code>ç›®å½•ä¸‹ã€‚è½¯ä»¶å®‰è£…ç‰ˆä¸º<code>/etc/emqttd/plugins/emq_auth_username.conf</code>ã€‚è§£å‹ç»¿è‰²ç‰ˆä¸º<code>è§£å‹ç›®å½•/emqttd/etc/plugins/emq_auth_username.conf</code>ã€‚  ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ‰“å¼€æ–‡ä»¶(è‡ªè¡Œå­¦ä¹ vim)ã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>emqttd<span class="hljs-regexp">/plugins/</span>emq_auth_username.conf   <span class="hljs-regexp">//</span>è½¯ä»¶å®‰è£…ç‰ˆ<br>vim è§£å‹ç›®å½•<span class="hljs-regexp">/emqttd/</span>etc<span class="hljs-regexp">/plugins/</span>emq_auth_username.conf  <span class="hljs-regexp">//</span>è§£å‹ç»¿è‰²ç‰ˆ<br></code></pre></td></tr></table></figure><p>æ‰“å¼€æ–‡ä»¶å¯ä»¥çœ‹åˆ°ç»™äº†ç¤ºä¾‹çš„æ¨¡æ¿ï¼ŒæŒ‰ç…§æ¨¡æ¿å¢åŠ å³å¯ã€‚ è´´ä¸€ä¸ªç¤ºä¾‹å¦‚ä¸‹ã€‚ä¿®æ”¹ä¹‹åä¿å­˜å°±å¥½äº†ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment">##--------------------------------------------------------------------</span><br><span class="hljs-comment">## Username Authentication Plugin</span><br><span class="hljs-comment">##--------------------------------------------------------------------</span><br><span class="hljs-attr">auth.user.1.username</span> = BeGild_test<br><span class="hljs-attr">auth.user.1.password</span> = <span class="hljs-number">123456</span><br><span class="hljs-attr">auth.user.2.username</span> = BeGild_test_1<br><span class="hljs-attr">auth.user.2.password</span> = <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ é…ç½®åˆ—è¡¨-å®¢æˆ·ç«¯ID<br>  æ—¢ç„¶ä½¿èƒ½äº†ç”¨å®¢æˆ·ç«¯ID éªŒè¯ï¼Œå½“ç„¶æ˜¯éœ€è¦æ·»åŠ å®¢æˆ·ç«¯IDåˆ—è¡¨å’Œå¯†ç çš„å•¦ï¼Œé…ç½®æ–‡ä»¶ä¸º <code>emq_auth_clientid.conf </code>,åœ¨å„è‡ªå­˜æ”¾é…ç½®æ–‡ä»¶çš„ç›®å½•ä¸‹çš„<code>plugins</code>ç›®å½•ä¸‹ã€‚è½¯ä»¶å®‰è£…ç‰ˆä¸º<code>/etc/emqttd/plugins/emq_auth_clientid.conf </code>ã€‚è§£å‹ç»¿è‰²ç‰ˆä¸º<code>è§£å‹ç›®å½•/emqttd/etc/plugins/emq_auth_clientid.conf </code>ã€‚  ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ‰“å¼€æ–‡ä»¶(è‡ªè¡Œå­¦ä¹ vim)ã€‚</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>emqttd<span class="hljs-regexp">/plugins/</span>emq_auth_clientid.conf    <span class="hljs-regexp">//</span>è½¯ä»¶å®‰è£…ç‰ˆ<br>vim è§£å‹ç›®å½•<span class="hljs-regexp">/emqttd/</span>etc<span class="hljs-regexp">/plugins/</span>emq_auth_clientid.conf   <span class="hljs-regexp">//</span>è§£å‹ç»¿è‰²ç‰ˆ<br></code></pre></td></tr></table></figure><p>æ‰“å¼€æ–‡ä»¶å¯ä»¥çœ‹åˆ°ç»™äº†ç¤ºä¾‹çš„æ¨¡æ¿ï¼ŒæŒ‰ç…§æ¨¡æ¿å¢åŠ å³å¯ã€‚ è´´ä¸€ä¸ªç¤ºä¾‹å¦‚ä¸‹ã€‚ä¿®æ”¹ä¹‹åä¿å­˜å°±å¥½äº†ã€‚çœ‹èµ·æ¥å’Œç”¨æˆ·åå¯†ç æ˜¯å·®ä¸å¤šçš„ï¼Œä»–ä¿©ä¹‹é—´çš„å¯¹åº”å…³ç³»è¿˜ä¸å¤ªæ¸…æ¥šï¼Œä¹‹åææ‡‚äº†ä¼šå†æ›´æ–°ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment">##--------------------------------------------------------------------</span><br><span class="hljs-comment">## ClientId Authentication Plugin</span><br><span class="hljs-comment">##--------------------------------------------------------------------</span><br><span class="hljs-attr">auth.client.1.clientid</span> = test1<br><span class="hljs-attr">auth.client.1.password</span> = test1_pwd<br><span class="hljs-attr">auth.client.2.clientid</span> = test2<br><span class="hljs-attr">auth.client.2.password</span> = test2_pwd<br></code></pre></td></tr></table></figure></li><li><p>æ‰“å¼€è®¤è¯æ’ä»¶<br>  æ’ä»¶æ‰“å¼€å¯ä»¥ç‚¹å‡»ç½‘é¡µçš„æ§åˆ¶å°ä¾§è¾¹æ’ä»¶æ é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šæ’ä»¶ç¬¬1,9ä¸ªå°±æ˜¯ï¼Œç‚¹å‡»å³ä¾§è¾¹å¯åŠ¨æŒ‰é’®è¿›è¡Œæ‰“å¼€ï¼Œæ‰“å¼€æˆåŠŸå°±ä¼šå˜æˆç»¿è‰²çš„<font color=#00cc00 size=3.7>è¿è¡Œä¸­</font>ã€‚<br>  å¯ç”¨æ’ä»¶ï¼Œé…ç½®å®Œæˆä¹‹åå³å¯æŠ•å…¥ä½¿ç”¨å•¦ã€‚EMQ2.0æ”¯æŒçš„è®¤è¯æ’ä»¶æœ‰å¯ä»¥çœ‹<a href="http://emqtt.com/docs/v2/guide.html#id1">è¿™é‡Œ</a>è¿™äº›.</p></li></ul><h2 id="æ ‘è“æ´¾ä½œä¸º-MQTT-æœåŠ¡å™¨"><a href="#æ ‘è“æ´¾ä½œä¸º-MQTT-æœåŠ¡å™¨" class="headerlink" title="æ ‘è“æ´¾ä½œä¸º MQTT æœåŠ¡å™¨"></a>æ ‘è“æ´¾ä½œä¸º MQTT æœåŠ¡å™¨</h2><p>æ ‘è“æ´¾ä½œä¸º MQTT æœåŠ¡å™¨åŒæ ·éœ€è¦å®‰è£…æœåŠ¡å™¨çš„è½¯ä»¶ï¼Œä¸è¿‡åªèƒ½é€šè¿‡æºç ç¼–è¯‘å®‰è£…çš„æ–¹å¼è¿›è¡Œï¼Œç¼–è¯‘æºç ä¾èµ–äº Erlang å·¥å…·ï¼Œæ‰€ä»¥å¾—èµ°ä¸¤æ­¥ï¼Œå®‰è£…ç¼–è¯‘å·¥å…·ï¼Œä¸‹è½½æºç ç¼–è¯‘å®‰è£…ã€‚</p><ol><li>å®‰è£… erlang ç¼–è¯‘ç¯å¢ƒ.emmmm è¿™ä¸ªå·¥å…·ç¼–è¯‘å®Œæ¯•ä¹‹åå°±å¯ä»¥å¸ç£¨æ€é©´ï¼<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">sudo apt-<span class="hljs-keyword">get</span> install erlang <span class="hljs-comment">//å®‰è£… erlang</span><br>sudo apt-<span class="hljs-keyword">get</span> autoremove erlang <span class="hljs-comment">//å¸è½½ erlang</span><br></code></pre></td></tr></table></figure></li><li>æŒ‘ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ç›®å½•æ‰§è¡Œä¸‹é¢æŒ‡ä»¤è¿›è¡Œæºç å…‹éš†å’Œç¼–è¯‘.<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/emqtt/emq-relx.git<br><span class="hljs-built_in">cd</span> emq-relx<br>make<br></code></pre></td></tr></table></figure></li><li>å¾…ç¼–è¯‘æˆåŠŸåä¼šç”Ÿæˆ<code>_rel</code>ç›®å½•å­˜æ”¾ç”Ÿæˆçš„ä¸€ç³»åˆ—å¯æ‰§è¡Œæ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ç­‰,æ‰§è¡Œä¸‹é¢è¯­å¥æ‰§è¡Œæ§åˆ¶å°æ–¹å¼å¯åŠ¨.<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> _rel/emqttd<br>./bin/emqttd console<br></code></pre></td></tr></table></figure>å¯æ”¯æŒçš„æŒ‡ä»¤å’Œç»„åˆæœ‰å¦‚ä¸‹.<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">Usage: emqttd &#123;start|<span class="hljs-type">start_boot</span> &lt;file&gt;|<span class="hljs-type">foreground</span>|<span class="hljs-type">stop</span>|<span class="hljs-type">restart</span>|<span class="hljs-type">reboot</span>|<span class="hljs-type">pid</span>|<span class="hljs-type">ping</span>|<span class="hljs-type">console</span>|<span class="hljs-type">console_clean</span>|<span class="hljs-type">console_boot</span> &lt;file&gt;|<span class="hljs-type">attach</span>|<span class="hljs-type">remote_console</span>|<span class="hljs-type">upgrade</span>|<span class="hljs-type">escript</span>|<span class="hljs-type">rpc</span>|<span class="hljs-type">rpcterms</span>|<span class="hljs-type">eval</span>&#125;<br></code></pre></td></tr></table></figure></li><li>åˆ—ä¸€ä¸‹å¸¸ç”¨æŒ‡ä»¤æ­£å¸¸çš„è¡¨ç°å§ã€‚</li></ol><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs elixir">//è¿™æ˜¯æ§åˆ¶å°æ–¹å¼å¯åŠ¨ <span class="hljs-title class_">EMQTT</span> ä¼šè¾“å‡ºä¸€äº›å¯åŠ¨ï¼Œè¿è¡Œçš„ä¿¡æ¯ã€‚<br>pi<span class="hljs-variable">@BeGild_Raspi</span><span class="hljs-symbol">:~/Documents/MQtt/server/emq-relx/_rel/emqttd</span> <span class="hljs-variable">$ </span>./bin/emqttd console<br><span class="hljs-symbol">Exec:</span> /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd/erts<span class="hljs-number">-8.2</span>.<span class="hljs-number">1</span>/bin/erlexec -boot /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd/releases/<span class="hljs-number">2.3</span>.<span class="hljs-number">11</span>/emqttd -mode embedded -boot_var <span class="hljs-title class_">ERTS_LIB_DIR</span> /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd/erts<span class="hljs-number">-8.2</span>.<span class="hljs-number">1</span>/../lib -mnesia dir <span class="hljs-string">&quot;/home/pi/Documents/MQtt/server/emq-relx/_rel/emqttd/data/mnesia/emq@127.0.0.1&quot;</span> -config /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd/data/configs/app.<span class="hljs-number">2018.08</span>.<span class="hljs-number">30.15</span>.<span class="hljs-number">18.31</span>.config -args_file /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd/data/configs/vm.<span class="hljs-number">2018.08</span>.<span class="hljs-number">30.15</span>.<span class="hljs-number">18.31</span>.args -vm_args /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd/data/configs/vm.<span class="hljs-number">2018.08</span>.<span class="hljs-number">30.15</span>.<span class="hljs-number">18.31</span>.args -- console<br><span class="hljs-symbol">Root:</span> /home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd<br>/home/pi/<span class="hljs-title class_">Documents</span>/<span class="hljs-title class_">MQtt</span>/server/emq-relx/_rel/emqttd<br><span class="hljs-title class_">Erlang</span>/<span class="hljs-title class_">OTP</span> <span class="hljs-number">19</span> [erts<span class="hljs-number">-8.2</span>.<span class="hljs-number">1</span>] [source] [<span class="hljs-symbol">smp:</span><span class="hljs-number">4</span><span class="hljs-symbol">:</span><span class="hljs-number">4</span>] [async-<span class="hljs-symbol">threads:</span><span class="hljs-number">32</span>] [kernel-<span class="hljs-symbol">poll:</span><span class="hljs-literal">true</span>]<br><br><br>=<span class="hljs-title class_">INFO</span> <span class="hljs-title class_">REPORT</span>==== <span class="hljs-number">30</span>-<span class="hljs-title class_">Aug</span><span class="hljs-number">-2018</span>::<span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> ===<br>    <span class="hljs-symbol">alarm_handler:</span> &#123;set,&#123;system_memory_high_watermark,[]&#125;&#125;<br>starting emqttd on node <span class="hljs-string">&#x27;emq@127.0.0.1&#x27;</span><br>emqttd ctl is starting...[ok]<br>emqttd hook is starting...[ok]<br>emqttd router is starting...[ok]<br>emqttd pubsub is starting...[ok]<br>emqttd stats is starting...[ok]<br>emqttd metrics is starting...[ok]<br>emqttd pooler is starting...[ok]<br>emqttd trace is starting...[ok]<br>emqttd client manager is starting...[ok]<br>emqttd session manager is starting...[ok]<br>emqttd session supervisor is starting...[ok]<br>emqttd wsclient supervisor is starting...[ok]<br>emqttd broker is starting...[ok]<br>emqttd alarm is starting...[ok]<br>emqttd mod supervisor is starting...[ok]<br>emqttd bridge supervisor is starting...[ok]<br>emqttd access control is starting...[ok]<br>emqttd system monitor is starting...[ok]<br>emqttd <span class="hljs-number">2.3</span>.<span class="hljs-number">11</span> is running now<br><span class="hljs-title class_">Eshell</span> <span class="hljs-title class_">V8</span>.<span class="hljs-number">2.1</span>  (abort <span class="hljs-keyword">with</span> ^G)<br>(emq<span class="hljs-variable">@127</span>.<span class="hljs-number">0.0</span>.<span class="hljs-number">1</span>)<span class="hljs-number">1</span>&gt; <span class="hljs-title class_">Load</span> emq_mod_presence module successfully.<br><span class="hljs-symbol">dashboard:</span>http listen on <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">18083</span> <span class="hljs-keyword">with</span> <span class="hljs-number">4</span> acceptors.<br><span class="hljs-symbol">mqtt:</span>tcp listen on <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span><span class="hljs-symbol">:</span><span class="hljs-number">11883</span> <span class="hljs-keyword">with</span> <span class="hljs-number">4</span> acceptors.<br><span class="hljs-symbol">mqtt:</span>tcp listen on <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">1883</span> <span class="hljs-keyword">with</span> <span class="hljs-number">16</span> acceptors.<br><span class="hljs-symbol">mqtt:</span>ws listen on <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">8083</span> <span class="hljs-keyword">with</span> <span class="hljs-number">4</span> acceptors.<br><span class="hljs-symbol">mqtt:</span>ssl listen on <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">8883</span> <span class="hljs-keyword">with</span> <span class="hljs-number">16</span> acceptors.<br><span class="hljs-symbol">mqtt:</span>wss listen on <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">8084</span> <span class="hljs-keyword">with</span> <span class="hljs-number">4</span> acceptors.<br><span class="hljs-symbol">mqtt:</span>api listen on <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">8080</span> <span class="hljs-keyword">with</span> <span class="hljs-number">4</span> acceptors.<br><br>(emq<span class="hljs-variable">@127</span>.<span class="hljs-number">0.0</span>.<span class="hljs-number">1</span>)<span class="hljs-number">1</span>&gt;<br>//è¿™æ˜¯åå°å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨ <span class="hljs-title class_">EMQTT</span> æœåŠ¡å™¨ å¯åŠ¨æœ‰ç‚¹æ…¢ï¼Œç¨ç­‰ç¨ç­‰ã€‚<br>pi<span class="hljs-variable">@BeGild_Raspi</span><span class="hljs-symbol">:~/Documents/MQtt/server/emq-relx/_rel/emqttd</span> <span class="hljs-variable">$ </span>./bin/emqttd start<br>emqttd <span class="hljs-number">2.3</span>.<span class="hljs-number">11</span> is started successfully!<br>//è¿™æ˜¯åœæ­¢å½“å‰å¯åŠ¨äº†çš„ <span class="hljs-title class_">EMQTT</span> æœåŠ¡å™¨<br>pi<span class="hljs-variable">@BeGild_Raspi</span><span class="hljs-symbol">:~/Documents/MQtt/server/emq-relx/_rel/emqttd</span> <span class="hljs-variable">$ </span>./bin/emqttd stop<br>ok<br>//è¿™æ˜¯é‡å¯å·²ç»å¯åŠ¨äº†çš„ <span class="hljs-title class_">EMQTT</span> æœåŠ¡å™¨<br>pi<span class="hljs-variable">@BeGild_Raspi</span><span class="hljs-symbol">:~/Documents/MQtt/server/emq-relx/_rel/emqttd</span> <span class="hljs-variable">$ </span>./bin/emqttd restart<br>ok<br><br></code></pre></td></tr></table></figure><p>å¦‚æœè¿è¡Œçš„æ—¶å€™å‡ºç°ä¸‹é¢é”™è¯¯,é‚£ä½ ä¸€å®šæ˜¯è¿è¡Œçš„ç›®å½•ä¸å¯¹ï¼Œä¸€å®šè¦æ˜¯ <code>_rel/emqttd/</code>ç›®å½•ä¸‹æ‰æ˜¯ç¼–è¯‘ç”Ÿæˆçš„ç›®å½•ï¼Œæ‰å¯ä»¥è¿è¡Œ EMQTT æœåŠ¡å™¨ï¼ï¼ï¼ã€‚</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">pi<span class="hljs-variable">@BeGild_Raspi</span><span class="hljs-symbol">:~/Documents/MQtt/server/emq-relx/bin</span> <span class="hljs-variable">$ </span>./emqttd restart<br>./<span class="hljs-symbol">emqttd:</span> <span class="hljs-number">20</span>: ./<span class="hljs-symbol">emqttd:</span> <span class="hljs-symbol">runner_log_dir:</span> <span class="hljs-keyword">not</span> found<br></code></pre></td></tr></table></figure><ol start="5"><li>è®¿é—®æœåŠ¡å™¨æ§åˆ¶ç•Œé¢ã€‚<br>åœ¨æµè§ˆå™¨è¾“å…¥æ ‘è“æ´¾IP:18083ï¼Œè¾“å…¥è´¦å· admin å’Œé»˜è®¤å¯†ç  public è¿›å…¥ç®¡ç†æ§åˆ¶ç•Œé¢ï¼Œå…¶ä½™æ“ä½œå’Œä»¥äº‘ä¸»æœºä½œä¸º MQTT æœåŠ¡å™¨ä¸Šä¸€æ ·ï¼Œæ‰“å¼€ä¸¤ä¸ªè®¤è¯æ’ä»¶å³å¯ã€‚</li><li>MQTT æœåŠ¡å™¨çš„é…ç½®ã€‚<br>é…ç½®æ–‡ä»¶çš„ä¿®æ”¹å‚ç…§ä¸Šé¢ä»¥äº‘ä¸»æœºä¸º MQTT æœåŠ¡å™¨çš„é…ç½®ä¾‹å­ï¼Œåªæ˜¯é…ç½®æ–‡ä»¶åœ¨<code>_rel/emqttd/etc/</code>ä¸‹é¢ã€‚</li><li>èŠ±ç”Ÿå£³å¤–ç½‘è®¿é—®çš„é…ç½®ã€‚å‚ç…§<a href="http://begild.top/article/3ac023e7.html">æ ‘è“æ´¾-èŠ±ç”Ÿå£³-å†…ç½‘ç©¿é€</a>ä¸­çš„æ·»åŠ ç«¯å£æ˜ å°„1883åˆ°å¤–ç½‘ã€‚</li></ol><h2 id="å®‰è£…-MQTT-å®¢æˆ·ç«¯ä¾èµ–åº“"><a href="#å®‰è£…-MQTT-å®¢æˆ·ç«¯ä¾èµ–åº“" class="headerlink" title="å®‰è£… MQTT å®¢æˆ·ç«¯ä¾èµ–åº“"></a>å®‰è£… MQTT å®¢æˆ·ç«¯ä¾èµ–åº“</h2><p>å®‰è£…å¥½æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨äº†ï¼Œå°±è¿›å…¥å®¢æˆ·ç«¯ä»£ç çš„ç¼–å†™äº†å‘€ï¼Œå®¢æˆ·ç«¯åœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œä¸€ä¸ªï¼Œåœ¨æ‰‹æœºä¸Šè¿è¡Œä¸€ä¸ªã€‚</p><ol><li><p>åœ¨æ ‘è“æ´¾ä¸Šä½¿ç”¨ MQTT å®¢æˆ·ç«¯å½“ç„¶æ˜¯è¦å®‰è£… MQTT å®¢æˆ·ç«¯çš„åº“å‘€ï¼Œé¦–å…ˆè¿è¡Œä¸‹é¢å‡ æ¡å‘½ä»¤åšä¸€äº›ç¼–è¯‘å‰çš„å‡†å¤‡ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arduino">cd /home/pi/Documents &amp;&amp; mkdir emqtt <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªmqttçš„ç›®å½•</span><br>cd emqtt &amp;&amp; git clone https:<span class="hljs-comment">//github.com/eclipse/paho.mqtt.c.git  //å…‹éš†mqttå®¢æˆ·ç«¯æºç </span><br>sudo apt-get install build-essential gcc make cmake cmake-gui cmake-curses-gui <span class="hljs-comment">//å®‰è£…ç¼–è¯‘å·¥å…·</span><br>sudo apt-get install fakeroot fakeroot devscripts dh-make lsb-release <span class="hljs-comment">//å®‰è£…è½¯ä»¶åŒ…æ„å»ºå·¥å…·</span><br>sudo apt-get install libssl-dev <span class="hljs-comment">//å®‰è£…openssl</span><br>sudo apt-get install doxygen graphviz <span class="hljs-comment">//å®‰è£…æ–‡æ¡£ç”Ÿæˆå·¥å…·</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–è¯‘ MQTT å®¢æˆ·ç«¯æºç ã€‚å®˜æ–¹çš„æ•™ç¨‹çœ‹è¿™é‡Œ<a href="https://github.com/eclipse/paho.mqtt.c">paho.mqtt.c</a>    </p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown">cd paho.mqtt.c &amp;&amp; make //è½¬åˆ°æºç ç›®å½•è¿›è¡Œç¼–è¯‘<br>/<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**<span class="hljs-emphasis">*ç­‰å¾…æ¼«é•¿çš„æ—¶é—´æ²¡æœ‰æŠ¥é”™å°±OKäº†*</span>**</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">**/</span><br><span class="hljs-strong">sudo make html //ç¼–è¯‘ç”Ÿæˆæ–‡æ¡£</span><br><span class="hljs-strong">sudo make install //å®‰è£…åˆ°ç³»ç»Ÿ</span><br></code></pre></td></tr></table></figure><p>å¤‡æ³¨:éœ€è¦ç¼–è¯‘ç”Ÿæˆæ–‡æ¡£ä¸ç„¶å®‰è£…æ—¶ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯çš„ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs swift">install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> build<span class="hljs-regexp">/output/</span>doc<span class="hljs-regexp">/MQTTClient/</span>man<span class="hljs-regexp">/man3/</span><span class="hljs-type">MQTTClient</span>.h.<span class="hljs-number">3</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/share/</span>man<span class="hljs-operator">/</span>man3<br>install: æ— æ³•è·å–&#x27;build<span class="hljs-regexp">/output/</span>doc<span class="hljs-regexp">/MQTTClient/</span>man<span class="hljs-regexp">/man3/</span><span class="hljs-type">MQTTClient</span>.h.<span class="hljs-number">3</span>&#x27; çš„æ–‡ä»¶çŠ¶æ€(stat): æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<br><span class="hljs-type">Makefile</span>:<span class="hljs-number">273</span>: recipe <span class="hljs-keyword">for</span> target &#x27;install&#x27; failed<br>make: [install] <span class="hljs-type">Error</span> <span class="hljs-number">1</span> (ignored)<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> build<span class="hljs-regexp">/output/</span>doc<span class="hljs-regexp">/MQTTAsync/</span>man<span class="hljs-regexp">/man3/</span><span class="hljs-type">MQTTAsync</span>.h.<span class="hljs-number">3</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/share/</span>man<span class="hljs-operator">/</span>man3<br>install: æ— æ³•è·å–&#x27;build<span class="hljs-regexp">/output/</span>doc<span class="hljs-regexp">/MQTTAsync/</span>man<span class="hljs-regexp">/man3/</span><span class="hljs-type">MQTTAsync</span>.h.<span class="hljs-number">3</span>&#x27; çš„æ–‡ä»¶çŠ¶æ€(stat): æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<br><span class="hljs-type">Makefile</span>:<span class="hljs-number">273</span>: recipe <span class="hljs-keyword">for</span> target &#x27;install&#x27; failed<br>make: [install] <span class="hljs-type">Error</span> <span class="hljs-number">1</span> (ignored)<br></code></pre></td></tr></table></figure><p>  å®‰è£…æˆåŠŸæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ã€‚</p>  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs swift">pi<span class="hljs-meta">@BeGild_Raspi</span>:<span class="hljs-operator">~/</span><span class="hljs-type">Documents</span><span class="hljs-regexp">/MQtt/</span>paho.mqtt.c $ sudo make install<br>mkdir <span class="hljs-operator">-</span>p build<span class="hljs-regexp">/output/</span>samples<br>mkdir <span class="hljs-operator">-</span>p build<span class="hljs-regexp">/output/</span>test<br>echo <span class="hljs-type">OSTYPE</span> <span class="hljs-keyword">is</span> <span class="hljs-type">Linux</span><br><span class="hljs-type">OSTYPE</span> <span class="hljs-keyword">is</span> <span class="hljs-type">Linux</span><br>mkdir <span class="hljs-operator">-</span>p <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>include<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span>  build<span class="hljs-regexp">/output/</span>libpaho<span class="hljs-operator">-</span>mqtt3c.so.<span class="hljs-number">1.0</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>lib<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span>  build<span class="hljs-regexp">/output/</span>libpaho<span class="hljs-operator">-</span>mqtt3cs.so.<span class="hljs-number">1.0</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>lib<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span>  build<span class="hljs-regexp">/output/</span>libpaho<span class="hljs-operator">-</span>mqtt3a.so.<span class="hljs-number">1.0</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>lib<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span>  build<span class="hljs-regexp">/output/</span>libpaho<span class="hljs-operator">-</span>mqtt3as.so.<span class="hljs-number">1.0</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>lib<br>install  build<span class="hljs-regexp">/output/</span>paho_c_version <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>bin<br>install  build<span class="hljs-regexp">/output/</span>samples<span class="hljs-regexp">/paho_c_pub /</span>usr<span class="hljs-regexp">/local/</span>bin<br>install  build<span class="hljs-regexp">/output/</span>samples<span class="hljs-regexp">/paho_c_sub /</span>usr<span class="hljs-regexp">/local/</span>bin<br>install  build<span class="hljs-regexp">/output/</span>samples<span class="hljs-regexp">/paho_cs_pub /</span>usr<span class="hljs-regexp">/local/</span>bin<br>install  build<span class="hljs-regexp">/output/</span>samples<span class="hljs-regexp">/paho_cs_sub /</span>usr<span class="hljs-regexp">/local/</span>bin<br><span class="hljs-regexp">/sbin/</span>ldconfig <span class="hljs-regexp">/usr/</span>local<span class="hljs-operator">/</span>lib<br>ln <span class="hljs-operator">-</span>s libpaho<span class="hljs-operator">-</span>mqtt3c.so.<span class="hljs-number">1</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/lib/</span>libpaho<span class="hljs-operator">-</span>mqtt3c.so<br>ln <span class="hljs-operator">-</span>s libpaho<span class="hljs-operator">-</span>mqtt3cs.so.<span class="hljs-number">1</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/lib/</span>libpaho<span class="hljs-operator">-</span>mqtt3cs.so<br>ln <span class="hljs-operator">-</span>s libpaho<span class="hljs-operator">-</span>mqtt3a.so.<span class="hljs-number">1</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/lib/</span>libpaho<span class="hljs-operator">-</span>mqtt3a.so<br>ln <span class="hljs-operator">-</span>s libpaho<span class="hljs-operator">-</span>mqtt3as.so.<span class="hljs-number">1</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/lib/</span>libpaho<span class="hljs-operator">-</span>mqtt3as.so<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> src<span class="hljs-regexp">/MQTTAsync.h /</span>usr<span class="hljs-regexp">/local/</span>include<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> src<span class="hljs-regexp">/MQTTClient.h /</span>usr<span class="hljs-regexp">/local/</span>include<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> src<span class="hljs-regexp">/MQTTClientPersistence.h /</span>usr<span class="hljs-regexp">/local/</span>include<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> src<span class="hljs-regexp">/MQTTProperties.h /</span>usr<span class="hljs-regexp">/local/</span>include<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> src<span class="hljs-regexp">/MQTTReasonCodes.h /</span>usr<span class="hljs-regexp">/local/</span>include<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> src<span class="hljs-regexp">/MQTTSubscribeOpts.h /</span>usr<span class="hljs-regexp">/local/</span>include       <br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> doc<span class="hljs-regexp">/man/</span>man1<span class="hljs-regexp">/paho_c_pub.1 /</span>usr<span class="hljs-regexp">/local/</span>share<span class="hljs-regexp">/man/</span>man1<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> doc<span class="hljs-regexp">/man/</span>man1<span class="hljs-regexp">/paho_c_sub.1 /</span>usr<span class="hljs-regexp">/local/</span>share<span class="hljs-regexp">/man/</span>man1<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> doc<span class="hljs-regexp">/man/</span>man1<span class="hljs-regexp">/paho_cs_pub.1 /</span>usr<span class="hljs-regexp">/local/</span>share<span class="hljs-regexp">/man/</span>man1<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> doc<span class="hljs-regexp">/man/</span>man1<span class="hljs-regexp">/paho_cs_sub.1 /</span>usr<span class="hljs-regexp">/local/</span>share<span class="hljs-regexp">/man/</span>man1<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> build<span class="hljs-regexp">/output/</span>doc<span class="hljs-regexp">/MQTTClient/</span>man<span class="hljs-regexp">/man3/</span><span class="hljs-type">MQTTClient</span>.h.<span class="hljs-number">3</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/share/</span>man<span class="hljs-operator">/</span>man3<br>install <span class="hljs-operator">-</span>m <span class="hljs-number">644</span> build<span class="hljs-regexp">/output/</span>doc<span class="hljs-regexp">/MQTTAsync/</span>man<span class="hljs-regexp">/man3/</span><span class="hljs-type">MQTTAsync</span>.h.<span class="hljs-number">3</span> <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/share/</span>man<span class="hljs-operator">/</span>man3<br></code></pre></td></tr></table></figure></li></ol><h2 id="ç¼–å†™-MQTT-å®¢æˆ·ç«¯ä»£ç "><a href="#ç¼–å†™-MQTT-å®¢æˆ·ç«¯ä»£ç " class="headerlink" title="ç¼–å†™ MQTT å®¢æˆ·ç«¯ä»£ç "></a>ç¼–å†™ MQTT å®¢æˆ·ç«¯ä»£ç </h2><ol><li>å®¢æˆ·ç«¯ä»£ç ã€‚æµç¨‹å°±æ˜¯ï¼Œæ ¹æ®æœåŠ¡å™¨åœ°å€ï¼Œç”¨æˆ·åã€å¯†ç ã€å®¢æˆ·ç«¯IDç™»å½•åˆ°æœåŠ¡å™¨ï¼Œè¿›è¡Œä¸»é¢˜çš„è®¢é˜…æˆ–è€…å‘æŸä¸ªä¸»é¢˜è¿›è¡Œæ¶ˆæ¯çš„å‘å¸ƒè¿™æ ·å­ã€‚ä»ç½‘ä¸ŠæŠ„äº†ä»£ç (åªæœ‰ctrl+c ctrl+væ‰èƒ½å¤Ÿå‹‰å¼ºç»´æŒç”Ÿæ´»è¿™æ ·å­)ï¼Œé­”æ”¹äº†ä¸€ä¸‹è´´ä¸Šã€‚è¿™ä¸ªç¨‹åºåœ¨è¿è¡Œä¹‹åä¼šåˆ›å»ºä¸€ä¸ªå‘é€çº¿ç¨‹<code>TestSend</code>ï¼Œæ¯éš” 3s å‘é€ä¸€æ¬¡ä¿¡æ¯,å‘é€æˆåŠŸä¼šé€šè¿‡å›è°ƒå‡½æ•°<code>MQTTClient_deliveryToken</code>è¿›è¡Œæ‰“å°æŠ¥å‘Šã€‚æ”¶åˆ°ä¿¡æ¯ä¼šé€šè¿‡å›è°ƒå‡½æ•°<code>MsgArrived_CallBack</code>è¿›è¡Œä¿¡æ¯çš„æ‰“å°ã€‚</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;pthread.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;MQTTClient.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-comment">/*ç±»å‹å…¼å®¹***********************************************/</span><br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span>      <span class="hljs-type">uint64_t</span>;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>       <span class="hljs-type">uint32_t</span>;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">short</span>     <span class="hljs-type">uint16_t</span>;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>      <span class="hljs-type">uint8_t</span>;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span>      u64;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>       u32;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">short</span>     u16;<br><span class="hljs-keyword">typedef</span>  <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>      u8;<br><span class="hljs-comment">/***********************************************ç±»å‹å…¼å®¹*/</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> NUM_THREADS 2 <span class="hljs-comment">//çº¿ç¨‹ä¸ªæ•°</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> ADDRESS         <span class="hljs-string">&quot;tcp://*.*.*.*:1883&quot;</span> <span class="hljs-comment">//äº‘ä¸»æœºä½œä¸ºmqttæœåŠ¡å™¨åœ°å€</span></span><br><span class="hljs-comment">//#define ADDRESS         &quot;tcp://localhost:1883&quot; //æ ‘è“æ´¾ä½œä¸ºmqttæœåŠ¡å™¨åœ°å€ï¼Œç›´æ¥é€šè¿‡å†…ç½‘è®¿é—®ã€‚</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> CLIENTID        <span class="hljs-string">&quot;test_1&quot;</span> <span class="hljs-comment">//å®¢æˆ·ç«¯ID</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TOPIC_PUBLISH   <span class="hljs-string">&quot;Hello_1&quot;</span>  <span class="hljs-comment">//å‘é€çš„ä¸»é¢˜</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TOPIC_SUBSCRIBE <span class="hljs-string">&quot;Hello_2&quot;</span>  <span class="hljs-comment">//è®¢é˜…çš„ä¸»é¢˜</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> PAYLOAD         <span class="hljs-string">&quot;Hello! My Name is &quot;</span>CLIENTID  <span class="hljs-comment">//å‘é€çš„ä¿¡æ¯</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> QOS             1           <span class="hljs-comment">//æœåŠ¡è´¨é‡ &lt;&lt;0-æœ€å¤šå‘é€ä¸€æ¬¡ 1-è‡³å°‘ä¿è¯é€è¾¾ä¸€æ¬¡ 2-ä¿è¯åªé€è¾¾1æ¬¡</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TIMEOUT         10000L      <span class="hljs-comment">//è¶…æ—¶æ—¶é—´</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> USERNAME        <span class="hljs-string">&quot;username&quot;</span>    <span class="hljs-comment">//ç™»å½•ç”¨æˆ·å</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> PASSWORD        <span class="hljs-string">&quot;password&quot;</span>    <span class="hljs-comment">//ç™»å½•ç”¨æˆ·åå¯¹åº”å¯†ç </span></span><br><br><span class="hljs-keyword">volatile</span> MQTTClient_deliveryToken gDeliveredToken;<br><span class="hljs-comment">/** void deliveryComplete_CallBack(void *context, MQTTClient_deliveryToken deliveryToken)</span><br><span class="hljs-comment"> * @brief MQTTå‘é€ä¿¡æ¯æˆåŠŸå›è°ƒå‡½æ•°</span><br><span class="hljs-comment"> * @note å®¢æˆ·ç«¯å‘é€ä¿¡æ¯æˆåŠŸæ—¶å°†ä¼šè°ƒç”¨è¯¥å‡½æ•°</span><br><span class="hljs-comment"> * @param[in] context ä¸Šä¸‹æ–‡æŒ‡é’ˆ</span><br><span class="hljs-comment"> * @param[in] deliveryToken å‘é€ä¿¡æ¯çš„Tokenå€¼</span><br><span class="hljs-comment"> * @date 2018/08/25 17:20</span><br><span class="hljs-comment"> * @auth BeGild</span><br><span class="hljs-comment"> * @email yucang_bao@126.com</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">deliveryComplete_CallBack</span><span class="hljs-params">(<span class="hljs-type">void</span> *context, MQTTClient_deliveryToken deliveryToken)</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\rMessage with token %5d Send Success\n&quot;</span>, deliveryToken);<br>    gDeliveredToken = deliveryToken;<br>&#125;<br><span class="hljs-comment">/** int MsgArrived_CallBack(void *context, char *topicName, int topicLen, MQTTClient_message *message)</span><br><span class="hljs-comment"> * @brief æ¥æ”¶åˆ°MQTTæ•°æ®çš„å›è°ƒå‡½æ•°</span><br><span class="hljs-comment"> * @param[in] context ä¸Šä¸‹æ–‡æŒ‡é’ˆ</span><br><span class="hljs-comment"> * @param[in] topicName æœ¬æ¬¡æ¥æ”¶åˆ°ä¿¡æ¯çš„ä¸»é¢˜</span><br><span class="hljs-comment"> * @param[in] topicLen æœ¬æ¬¡æ¥æ”¶åˆ°ä¿¡æ¯çš„ä¸»é¢˜é•¿åº¦</span><br><span class="hljs-comment"> * @param[in] message æœ¬æ¬¡æ¥æ”¶åˆ°æ•°æ®çš„å­˜å‚¨ç»“æ„ä½“</span><br><span class="hljs-comment"> *                    æ•°æ®å®ä½“å­˜æ”¾äº message-&gt;payload</span><br><span class="hljs-comment"> *                    æ•°æ®é•¿åº¦ä¸º message-&gt;payloadlen</span><br><span class="hljs-comment"> * @date 2018/08/25 17:20</span><br><span class="hljs-comment"> * @auth BeGild</span><br><span class="hljs-comment"> * @email yucang_bao@126.com</span><br><span class="hljs-comment"> * return è¿”å›å€¼</span><br><span class="hljs-comment"> */</span><br> <span class="hljs-type">int</span> <span class="hljs-title function_">MsgArrived_CallBack</span><span class="hljs-params">(<span class="hljs-type">void</span> *context, <span class="hljs-type">char</span> *topicName, <span class="hljs-type">int</span> topicLen, MQTTClient_message *message)</span><br> &#123;<br>     <span class="hljs-type">int</span> i;<br>     <span class="hljs-type">uint8_t</span> *payloadptr;<br>     <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Recive Message\n&quot;</span>);<br>     <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;     topic: %s\n&quot;</span>, topicName);<br>     <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;     message: \n&gt;&gt;\n&quot;</span>);<br>     payloadptr = message-&gt;payload;<br>     <span class="hljs-comment">//æ‰“å°æ¥å—åˆ°çš„æ•°æ®</span><br>     <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;message-&gt;payloadlen; i++)<br>     &#123;<br>         <span class="hljs-built_in">putchar</span>(*payloadptr++);<br>     &#125;<br>     <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&lt;&lt;\n&quot;</span>);<br>     MQTTClient_freeMessage(&amp;message);<br>     MQTTClient_free(topicName);<br>     <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br> &#125;<br><span class="hljs-comment">/** void ConnectLost_CallBack(void *context, char *cause)</span><br><span class="hljs-comment"> * @brief è¿æ¥ä¸¢å¤±å›è°ƒå‡½æ•°</span><br><span class="hljs-comment"> * @note å¯èƒ½åŸå› :</span><br><span class="hljs-comment"> *1.è¢«æŒ¤ä¸‹çº¿</span><br><span class="hljs-comment"> *2.ç½‘ç»œå¼‚å¸¸</span><br><span class="hljs-comment"> * @date 2018/08/25 16:18</span><br><span class="hljs-comment"> * @auth BeGild</span><br><span class="hljs-comment"> * @email yucang_bao@126.com</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">ConnectLost_CallBack</span><span class="hljs-params">(<span class="hljs-type">void</span> *context, <span class="hljs-type">char</span> *cause)</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\nConnection lost &quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\t cause: %s\n&quot;</span>, cause);<br>&#125;<br><span class="hljs-comment">/** void PublishMessage(MQTTClient client,uint8_t* TopicName, uint8_t *DataBuf,uint32_t BufLen)</span><br><span class="hljs-comment"> * @brief æ¨é€ä¿¡æ¯</span><br><span class="hljs-comment"> * @param[in] client å‘é€çš„å®¢æˆ·ç«¯ID</span><br><span class="hljs-comment"> * @param[in] TopicName å‘é€çš„ä¸»é¢˜</span><br><span class="hljs-comment"> * @param[in] DataBuf å‘é€çš„æ•°æ®ç¼“å†²åŒº</span><br><span class="hljs-comment"> * @param[in] BufLen å‘é€çš„æ•°æ®é•¿åº¦</span><br><span class="hljs-comment"> * @date 2018/08/25 17:49</span><br><span class="hljs-comment"> * @auth BeGild</span><br><span class="hljs-comment"> * @email yucang_bao@126.com</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">PublishMessage</span><span class="hljs-params">(MQTTClient client,<span class="hljs-type">uint8_t</span>* TopicName, <span class="hljs-type">uint8_t</span> *DataBuf,<span class="hljs-type">uint32_t</span> BufLen)</span><br>&#123;<br>    MQTTClient_message Publishmsg = MQTTClient_message_initializer;<br>    <span class="hljs-comment">//å£°æ˜æ¶ˆæ¯token</span><br>    MQTTClient_deliveryToken token;<br>    Publishmsg.payload = DataBuf;<br>    Publishmsg.payloadlen = BufLen;<br>    Publishmsg.qos = QOS;<br>    Publishmsg.retained = <span class="hljs-number">0</span>;<br>    MQTTClient_publishMessage(client, TopicName, &amp;Publishmsg, &amp;token);<span class="hljs-comment">//å‘é€æ•°æ®</span><br>    <span class="hljs-comment">// rc = MQTTClient_waitForCompletion(client, token, TIMEOUT);</span><br>    <span class="hljs-comment">// printf(&quot;Message with delivery token %d delivered\n&quot;, token);</span><br>&#125;<br><span class="hljs-comment">/** void *TestSend(void *arg)</span><br><span class="hljs-comment"> * @brief æµ‹è¯•å‘é€</span><br><span class="hljs-comment"> * @param[in] arg ä¼ å…¥å‚æ•°æŒ‡é’ˆ</span><br><span class="hljs-comment"> * @return è¿”å›å€¼</span><br><span class="hljs-comment"> * @date 2018/08/25 18:58</span><br><span class="hljs-comment"> * @auth BeGild</span><br><span class="hljs-comment"> * @email yucang_bao@126.com</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">void</span> *<span class="hljs-title function_">TestSend</span><span class="hljs-params">(<span class="hljs-type">void</span> *arg)</span><br>&#123;<br>  <span class="hljs-type">char</span> MsgBuff [] = PAYLOAD;<br>  MQTTClient *client = (MQTTClient *)arg;<span class="hljs-comment">//å®¢æˆ·ç«¯å¥æŸ„</span><br>  <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>  &#123;<br>    PublishMessage(*client,TOPIC_PUBLISH,MsgBuff,<span class="hljs-built_in">strlen</span>(MsgBuff));<span class="hljs-comment">//å‘é€ä¿¡æ¯</span><br>    usleep(<span class="hljs-number">3000000L</span>);<span class="hljs-comment">//ç¡çœ 3s</span><br>  &#125;<br>   pthread_exit(<span class="hljs-literal">NULL</span>);<span class="hljs-comment">//é€€å‡ºçº¿ç¨‹</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>&#125;<br><span class="hljs-comment">/**int main(int argc, char* argv[])</span><br><span class="hljs-comment"> * @brief ä¸»å‡½æ•°</span><br><span class="hljs-comment"> * @param[in] argcå‚æ•°ä¸ªæ•°</span><br><span class="hljs-comment"> * @param[in] argv å‚æ•°åˆ—è¡¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span><br>&#123;<br>    <span class="hljs-type">pthread_t</span> threads[NUM_THREADS];<br>    <span class="hljs-type">char</span> SubTopic[] = TOPIC_SUBSCRIBE;<br>    <span class="hljs-type">char</span> ClientID [] = CLIENTID;<br>    <span class="hljs-type">long</span> t;<br>    MQTTClient client;<span class="hljs-comment">//å®¢æˆ·ç«¯å¥æŸ„</span><br>    MQTTClient_connectOptions conn_opts = MQTTClient_connectOptions_initializer;<span class="hljs-comment">//è¿æ¥å‚æ•°</span><br>    <span class="hljs-type">int</span> rc;<br>    <span class="hljs-type">int</span> ch;<br><br>    MQTTClient_create(&amp;client, ADDRESS, ClientID,<br>        MQTTCLIENT_PERSISTENCE_NONE, <span class="hljs-literal">NULL</span>);<span class="hljs-comment">//æ ¹æ®æœåŠ¡å™¨åœ°å€å®¢æˆ·ç«¯IDåˆ›å»ºä¸€ä¸ªå¯ç”¨è¿æ¥</span><br>    <span class="hljs-comment">/*å¡«å†™è¿æ¥å‚æ•°*/</span><br>    conn_opts.keepAliveInterval = <span class="hljs-number">20</span>;<br>    conn_opts.cleansession = <span class="hljs-number">1</span>;<br>    conn_opts.username = USERNAME;<br>    conn_opts.password = PASSWORD;<br>    <span class="hljs-comment">/*è®¾ç½®å›è°ƒå‡½æ•°*/</span><br>    MQTTClient_setCallbacks(client, <span class="hljs-literal">NULL</span>,<br>                                    ConnectLost_CallBack,<span class="hljs-comment">/*è¿æ¥ä¸¢å¤±*/</span><br>                                    MsgArrived_CallBack,<span class="hljs-comment">/*æ”¶åˆ°ä¿¡æ¯*/</span><br>                                    deliveryComplete_CallBack);<span class="hljs-comment">/*ä¿¡æ¯æˆåŠŸå‘å‡º*/</span><br>    <span class="hljs-comment">/*å°è¯•è¿æ¥æœåŠ¡å™¨*/</span><br>    <span class="hljs-keyword">if</span> ((rc = MQTTClient_connect(client, &amp;conn_opts)) != MQTTCLIENT_SUCCESS)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Failed to connect, return code %d\n&quot;</span>, rc);<br>        <span class="hljs-built_in">exit</span>(EXIT_FAILURE);<span class="hljs-comment">//è¿æ¥å¤±è´¥é€€å‡º</span><br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;[-------------------------------&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; Connect to EMQTT server complete&quot;</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;--------------------------------]\n\n&quot;</span>);<br>    <span class="hljs-comment">//è®¢é˜…ä¸»é¢˜</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Client [%s] ---- using QoS[%d] ---- Subscribing to topic [%s]\n\n&quot;</span>, ClientID,QOS,SubTopic);<br>    MQTTClient_subscribe(client, SubTopic, QOS);<br><br>    <span class="hljs-comment">//åˆ›å»ºæµ‹è¯•å‘é€çº¿ç¨‹</span><br>    pthread_create(&amp;threads[<span class="hljs-number">0</span>], <span class="hljs-literal">NULL</span>, TestSend,&amp;client);<br><br>    <span class="hljs-comment">/*ä¸»å¾ªç¯loop*/</span><br>    <span class="hljs-built_in">printf</span>( <span class="hljs-string">&quot;Press Q&lt;Enter&gt; to quit\n\n&quot;</span>);<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>      ch = getchar();<br>    &#125; <span class="hljs-keyword">while</span>(ch!=<span class="hljs-string">&#x27;Q&#x27;</span> &amp;&amp; ch != <span class="hljs-string">&#x27;q&#x27;</span>);<br>    pthread_exit(&amp;threads[<span class="hljs-number">0</span>]);<br>    MQTTClient_unsubscribe(client, SubTopic);<span class="hljs-comment">//å–æ¶ˆè®¢é˜…</span><br>    MQTTClient_disconnect(client, <span class="hljs-number">10000</span>);<span class="hljs-comment">//æ–­å¼€è¿æ¥</span><br>    MQTTClient_destroy(&amp;client);<span class="hljs-comment">//é”€æ¯å½“å‰clien</span><br>    pthread_exit(<span class="hljs-literal">NULL</span>);<span class="hljs-comment">//é€€å‡ºä¸»çº¿ç¨‹main</span><br>&#125;<br></code></pre></td></tr></table></figure><p>   ç‚¹å‡»ä¸Šè¿°ä»£ç æ®µå³ä¸Šè§’æ‹·è´ä¿å­˜ä¸º<code>mqtttest_1.c</code>ï¼Œæ‰§è¡Œä¸€é¢è¿™æ¡è¯­å¥ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶<code>mqtttest_1</code>ã€‚</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">gcc -o mqtttest_<span class="hljs-number">1</span> mqtttest_<span class="hljs-number">1</span>.<span class="hljs-keyword">c</span> -lpaho-mqtt<span class="hljs-number">3</span><span class="hljs-keyword">c</span> -lpthread<br></code></pre></td></tr></table></figure><h2 id="MQTT-å®¢æˆ·ç«¯é€šä¿¡æµ‹è¯•"><a href="#MQTT-å®¢æˆ·ç«¯é€šä¿¡æµ‹è¯•" class="headerlink" title="MQTT å®¢æˆ·ç«¯é€šä¿¡æµ‹è¯•"></a>MQTT å®¢æˆ·ç«¯é€šä¿¡æµ‹è¯•</h2><p>MQTT çš„æµ‹è¯•çš„è¯å°±æ˜¯çœ‹ä¸¤ä¸ªå®¢æˆ·ç«¯ä¹‹é—´æ˜¯å¦å¯ä»¥äº’ç›¸é€šä¿¡å˜›ã€‚è¿™é‡Œé‡‡ç”¨çš„æ–¹å¼æ˜¯æ ‘è“æ´¾è¿è¡Œä¸Šé¢çš„å®¢æˆ·ç«¯ç¨‹åºä½œä¸ºå®¢æˆ·ç«¯1ï¼Œç”¨ä¸€ä¸ªæµ‹è¯•å·¥å…·ä½œä¸ºå®¢æˆ·ç«¯2ã€‚å®¢æˆ·ç«¯1è®¢é˜… <code>Hello_2</code> ä¸»é¢˜ å‘ <code>Hello_1</code> ä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œå®¢æˆ·ç«¯2è®¢é˜…ä¸»é¢˜ <code>Hello_1</code> å‘ä¸»é¢˜ <code>Hello_2</code> å‘é€æ¶ˆæ¯ã€‚  </p><ol><li>æ‰§è¡Œ<code>./mqtttest_1</code>è¿è¡Œæ ‘è“ä¸Šçš„å®¢æˆ·ç«¯1ï¼ŒæˆåŠŸè¿è¡Œä¼šæ‰“å°å¤§è‡´å¦‚ä¸‹çš„ä¿¡æ¯ã€‚  <figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs elixir">pi<span class="hljs-variable">@BeGild_Raspi</span><span class="hljs-symbol">:~/Documents/MQtt/mqtttest</span> <span class="hljs-variable">$ </span>./mqtttest_1<br>[------------------------------- <span class="hljs-title class_">Connect</span> to <span class="hljs-title class_">EMQTT</span> server complete--------------------------------]<br><br><span class="hljs-title class_">Client</span> [test_1] ---- using <span class="hljs-title class_">QoS</span>[<span class="hljs-number">1</span>] ---- <span class="hljs-title class_">Subscribing</span> to topic [<span class="hljs-title class_">Hello_2</span>]<br><br><span class="hljs-title class_">Press</span> Q&lt;<span class="hljs-title class_">Enter</span>&gt; to quit<br><br><span class="hljs-title class_">Message</span> <span class="hljs-keyword">with</span> token     <span class="hljs-number">2</span> <span class="hljs-title class_">Send</span> <span class="hljs-title class_">Success</span><br></code></pre></td></tr></table></figure>  å¦‚æœè¿æ¥å¤±è´¥è¿”å›é”™è¯¯ç -1ã€4 æ£€æŸ¥</li></ol><ul><li>æ˜¯å¦è¿è¡Œäº† EMQTT æœåŠ¡å™¨ã€æœåŠ¡å™¨åœ°å€æ˜¯å¦å¡«å†™æ­£ç¡®ã€‚</li><li>æœåŠ¡å™¨æ˜¯å¦å¯è¾¾(ping ä¸€ä¸‹)ï¼Œå¦‚æœæ˜¯äº‘ä¸»æœºæŸ¥çœ‹ç«¯å£(1883)æ˜¯å¦æ‰“å¼€å…è®¸è®¿é—®ã€‚</li><li>æ£€æŸ¥ EMQTT æœåŠ¡å™¨é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦æ·»åŠ äº†å¯¹åº”çš„<code>username</code>ã€<code>password</code> ä»¥åŠ<code>clientid</code>ã€<code>password</code>ã€‚</li></ul><ol start="2"><li>è¿è¡Œ Mqtt å®¢æˆ·ç«¯æµ‹è¯•å·¥å…· MQTT.fx ä½œä¸ºå®¢æˆ·ç«¯2ã€‚</li></ol><ul><li><p>ç‚¹å‡»<a href="http://www.jensd.de/apps/mqttfx/">http://www.jensd.de/apps/mqttfx/</a>ä¸‹è½½ä½ æƒ³è¦çš„ç‰ˆæœ¬ã€‚</p></li><li><p>ç‚¹å‡»å®‰è£…ç¨‹åºã€‚</p></li><li><p>ä¸€ä¸ªç´«è‰²çš„æ¸…ç§€å°å›¾æ ‡ï¼Œæ‰“å¼€ MQTT.fx ç¨ç­‰ç‰‡åˆ»ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/MQTT.fx.png"></p></li><li><p>ç‚¹å‡»ä¸»ç•Œé¢å°é½¿è½®æŒ‰é’®è¿›è¡Œç›¸å…³æœåŠ¡å™¨ç™»å½•é…ç½®ã€‚å¦‚æœæ˜¯æ ‘è“æ´¾ä½œä¸ºMQTTæœåŠ¡å™¨çš„è¯è¿™é‡Œçš„æœåŠ¡å™¨åœ°å€å°±æ›¿æ¢ä¸ºåœ¨èŠ±ç”Ÿå£³é‡Œæ·»åŠ æ˜ å°„çš„å£³åŸŸåå’Œåˆ†é…çš„ç«¯å£å·(ä¸æ˜¯1883)ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE-%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-EMQTT-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/MQTT.fx%E9%85%8D%E7%BD%AE.png"></p></li><li><p>ç‚¹å‡»å°é½¿è½®å·¦è¾¹çš„è¿æ¥åˆ—è¡¨ï¼Œé€‰æ‹©åˆšåˆ›å»ºçš„è¿æ¥ã€‚</p></li><li><p>ç‚¹å‡»å°é½¿è½®å³è¾¹çš„è¿æ¥æŒ‰é’®è¿›è¡Œè¿æ¥æœåŠ¡å™¨ã€‚è¿æ¥æˆåŠŸåï¼Œä¸‹é¢çš„è®¢é˜…å’Œå‘å¸ƒåŠŸèƒ½å°±éƒ½å¯ä»¥ç”¨äº†ã€‚</p></li></ul><ol start="3"><li>åŠŸèƒ½æµ‹è¯•</li></ol><ul><li>MQTT.fx ç‚¹å‡»åˆ‡æ¢åˆ°è®¢é˜…(Subscribe)ç•Œé¢ï¼Œåœ¨è¾“å…¥æ¡†è¾“å…¥éœ€è¦è®¢é˜…çš„ä¸»é¢˜ï¼Œå› ä¸ºè¿™é‡Œæ˜¯ä½œä¸ºå®¢æˆ·ç«¯2å½“ç„¶æ˜¯è®¢é˜…<code>Hello_1</code>ã€‚è®¢é˜…å®Œæˆä¹‹ååº”è¯¥å°±å¯ä»¥åœ¨å³ä¸‹è§’çš„ç•Œé¢çœ‹åˆ°æ”¶åˆ°äº†å®¢æˆ·ç«¯1æ¯éš”3så‘è¿‡æ¥çš„ <code>Hello! My Name is test_1</code> ã€‚</li><li>MQTT.fx åˆ‡æ¢åˆ°å‘å¸ƒ(Pubilsh)ç•Œé¢ï¼Œåœ¨è¾“å…¥æ¡†è¾“å…¥éœ€è¦æ¨é€æ¶ˆæ¯çš„ä¸»é¢˜ã€‚å› ä¸ºæ ‘è“æ´¾è¿è¡Œå®¢æˆ·ç«¯1è®¢é˜…çš„æ˜¯ä¸»é¢˜<code>Hello_2</code>æ‰€ä»¥è¿™é‡Œè¾“å…¥<code>Hello_2</code>ã€‚åœ¨å³ä¾§é€‰æ‹©æ¶ˆæ¯é€šä¿¡çš„è´¨é‡ Qos1 (ä¿è¯è‡³å°‘ä¸€æ¬¡é€è¾¾),åœ¨ä¸‹æ–¹è¾“å…¥æ¡†ä»»æ„æ•²å…¥å­—ç¬¦ã€‚ç‚¹å‡» Pubilsh æŒ‰é’®è¿›è¡Œå‘å¸ƒã€‚å¯ä»¥åœ¨æ ‘è“æ´¾ç«¯çœ‹åˆ°å…¶æ¥æ”¶åˆ°äº†æ¥è‡ª<code>Hello_2</code>çš„æ¶ˆæ¯ã€‚</li><li>éƒ½èƒ½æ”¶å‘å°±æµ‹è¯•æˆåŠŸäº†ã€‚</li></ul><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœè®¢é˜…çš„ä¸»é¢˜å°±æ˜¯å‘é€çš„ä¸»é¢˜çš„è¯ï¼Œè‡ªå·±ä¹Ÿä¼šæ”¶åˆ°è‡ªå·±å‘é€çš„æ¶ˆæ¯çš„ã€‚æ¯ä¸ªè®¢é˜…äº†åŒä¸€ä¸»é¢˜çš„å®¢æˆ·ç«¯éƒ½èƒ½æ”¶åˆ°å‘å¸ƒè€…çš„æ¶ˆæ¯ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æˆ‘å‘ç°è®°å½•è¿‡ç¨‹å¯æ¯”å®ç°è¿˜éš¾ï¼Œè¿™æˆ‘éƒ½æ–­æ–­ç»­ç»­å†™äº†ä¸€ä¸ªæ˜ŸæœŸäº†ï¼Œè®°å½•äº†MQTTæœåŠ¡å™¨çš„æ­å»ºã€æ’ä»¶å¯åŠ¨ã€é…ç½®æ–‡ä»¶ä¿®æ”¹ã€MQTT å®¢æˆ·ç«¯åœ¨æ ‘è“æ´¾ä¸Šçš„å®‰è£…å’Œä½¿ç”¨ã€ä¸¤ä¸ªå®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚è¿™ä¸€ç³»åˆ—å·¥ä½œå®ŒæˆåŸºæœ¬çš„è¿œç¨‹é€šä¿¡åŠŸèƒ½å°±é€šäº†ã€‚<br>åç»­å†å¢åŠ æ‰‹æœºç«¯ MQTT å®¢æˆ·ç«¯çš„å¼€å‘(æœ¬æ¥æ˜¯æ‰“ç®—ç”¨å®‰å“ APP çš„ï¼Œåæ¥æƒ³æˆ‘åšçš„ APP ç•Œé¢æƒ¨ä¸å¿ç¹ï¼Œå·²ç”³è¯·å¾®ä¿¡å°ç¨‹åºæ˜æ—¥å¼€å‘)ã€é€šä¿¡åè®®åˆ¶å®šã€MCU ç«¯çš„å¼€å‘å’Œç¡¬ä»¶çš„åˆ¶ä½œï¼Œç„¶åå°±å¯ä»¥è¿œç¨‹æ§åˆ¶äº†ã€‚æˆ‘å¯çœŸæ˜¯ä¸ªå°æœºçµé¬¼ã€‚    </p>]]></content>
    
    
    <categories>
      
      <category>æ ‘è“æ´¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MQTT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ‘è“æ´¾å®‰è£…ç³»ç»Ÿå’Œé…ç½®</title>
    <link href="/2018/08/19/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%92%8C%E9%85%8D%E7%BD%AE/"/>
    <url>/2018/08/19/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%92%8C%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æ‰“ç®—ç©ä¸€ç©æ ‘è“æ´¾ï¼Œæ„Ÿè§‰ä»æ¯•ä¸šä¹‹åè’äº†è›®ä¹…æ²¡æœ‰æ–°çš„ä¸œè¥¿æ³¨å…¥äº†ã€‚å…¶å®æœ‰åœ¨è€ƒè™‘è¦ä¸è¦è®°å½•è¿™ä¸ªå®‰è£…çš„è¿‡ç¨‹ï¼Œå› ä¸ºå…¶å®æ•™ç¨‹å·²ç»æ¼«å¤©é£äº†ï¼Œæœ‰é‡å¤é€ è½®å­ä¹‹å«Œã€‚ä¸è¿‡å¬è¯´å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œè®°ä¸€ä¸‹æ–¹ä¾¿å›é¡¾ä¹Ÿå¾ˆæœ‰æˆå°±æ„Ÿä¸æ˜¯å—ï¼Ÿé¡ºä¾¿è¯´ä¸€ä¸‹æˆ‘çš„æœºå™¨ï¼šæ ‘è“æ´¾3B+ï¼Œå› ä¸ºç©·ï¼Œåªä¹°äº†è£¸æ¿å˜¤å˜¤å˜¤ã€‚<!---more---></p><h2 id="ä¸‹è½½æ ‘è“æ´¾ç³»ç»Ÿ"><a href="#ä¸‹è½½æ ‘è“æ´¾ç³»ç»Ÿ" class="headerlink" title="ä¸‹è½½æ ‘è“æ´¾ç³»ç»Ÿ"></a>ä¸‹è½½æ ‘è“æ´¾ç³»ç»Ÿ</h2><ol><li>ä»å®˜ç½‘çš„ä¸‹è½½é¡µé¢<a href="https://www.raspberrypi.org/downloads/">https://www.raspberrypi.org/downloads/</a>å¯ä»¥çœ‹åˆ°æ ‘è“æ´¾æ”¯æŒçš„ç³»ç»Ÿæœ‰å¥½å¤šç§ï¼Œè¿™é‡Œä¸‹è½½å®˜æ–¹çš„ RASPBIAN ç³»ç»Ÿï¼Œè¿™ä¸ªæ˜¯åŸºäº Debian è¿›è¡Œå¼€å‘çš„ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥å°è¯•ä¸€ä¸‹ Ubuntu MATE ä¹Ÿè›®ä¸é”™çš„ã€‚</li><li>ç‚¹å‡»å¤§å¤§çš„ PASPBIAN å›¾æ ‡å¯ä»¥è¿›å…¥é€‰æ‹©ä¸‹è½½ PASPBIAN DESKTOP ç‰ˆè¿˜æ˜¯ Mini ç‰ˆã€‚è¿™é‡Œé€‰æ‹©DESKTOPå§ï¼Œå®‰è£…å¥½ä¹‹åå¯ä»¥é€‰æ‹©å…³é—­è§†é¢‘è¾“å‡ºç”¨ VNC è¿œç¨‹æ¡Œé¢çš„ã€‚</li><li>ç‚¹å‡» RASPBIAN STRETCH WITH DESKTOP æ¿å—çš„<a href="https://downloads.raspberrypi.org/raspbian_latest">Download Zip</a> æŒ‰é’®å³å¯å¼€å§‹ä¸‹è½½ã€‚ç‚¹å‡»-&gt;<a href="https://downloads.raspberrypi.org/raspbian_latest">è¿™é‡Œ</a>å¯ä»¥ä¸‹è½½æœ€æ–°çš„æ¡Œé¢ç‰ˆ PASPIAN ç³»ç»Ÿã€‚</li><li>ä¸‹è½½å®Œæˆä¹‹åå°±å¯ä»¥å¼€å§‹ä¸‹ä¸€æ­¥äº†ï¼Œä¸ç”¨è§£å‹ï¼Œå°±ä¿æŒä¸º zip æ ¼å¼ã€‚</li></ol><h2 id="å®‰è£…çƒ§å½•é•œåƒçš„å·¥å…·-Etcher"><a href="#å®‰è£…çƒ§å½•é•œåƒçš„å·¥å…·-Etcher" class="headerlink" title="å®‰è£…çƒ§å½•é•œåƒçš„å·¥å…· Etcher"></a>å®‰è£…çƒ§å½•é•œåƒçš„å·¥å…· Etcher</h2><p>è¿™ä¸ªå·¥å…·æ˜¯linux macOS Windowséƒ½å¯ä»¥æ”¯æŒçš„ï¼Œæ¯”èµ· Win32DiskImageræ¥ï¼Œé•¿çš„è¿˜ä¸é”™ï¼Œç•Œé¢ä¹Ÿå¾ˆç®€å•(è¶…çº§ç®€å•)ã€‚</p><ol><li>å»å®˜ç½‘<a href="https://etcher.io/">https://etcher.io/</a> ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ã€‚</li><li>ä¸‹è½½å®Œæ¯•ä¹‹åå®‰è£…ï¼Œå®‰è£…å®Œæ¯•æ‰“å¼€å°±å¯ä»¥ä½¿ç”¨äº†ã€‚</li></ol><h2 id="çƒ§å†™ç³»ç»Ÿé•œåƒ"><a href="#çƒ§å†™ç³»ç»Ÿé•œåƒ" class="headerlink" title="çƒ§å†™ç³»ç»Ÿé•œåƒ"></a>çƒ§å†™ç³»ç»Ÿé•œåƒ</h2><ol><li>é€‰æ‹©ä½ ä¸‹è½½çš„ç³»ç»Ÿé•œåƒæ–‡ä»¶(.zip)</li><li>é€‰æ‹©ä½ å†™çš„SDå¡æ‰€åœ¨çš„ç›˜ç¬¦ã€‚</li><li>ç‚¹å‡» Flashï¼Œç­‰å¾…è¿›åº¦çš„å®Œæˆã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/etcher%E4%BD%BF%E7%94%A8.gif" alt="etcherä½¿ç”¨"></li></ol><p>çƒ§å½•å®Œæ¯•ä¹‹åï¼ŒSDå¡ä¼šè¢«åˆ†åŒºä¸ºä¸¤ä¸ªç›˜ç¬¦ï¼Œä¸€ä¸ªåå­—å« boot(å¯åŠ¨åˆ†åŒº) å¦ä¸€ä¸ªå« rootfs(æ ¹æ–‡ä»¶ç³»ç»Ÿ)ã€‚bootåˆ†åŒºåªæœ‰å‡ åMï¼Œé™¤å» rootfs ä¹‹å¤–å‰©ä¸‹çš„SDå¡ç©ºé—´éƒ½æ˜¯æœªè¢«åˆ†é…çš„çŠ¶æ€æ‰€ä»¥ rootfs åªæ¯”ç³»ç»Ÿå¤§ä¸€ç‚¹ï¼Œç­‰å¯åŠ¨æ ‘è“æ´¾ä¹‹ååœ¨æ ‘è“æ´¾çš„é…ç½®é¡¹é‡Œé€‰æ‹© SD å¡æ‰©å®¹æŠŠæ•´ä¸ª SD å¡å‰©ä½™ç©ºé—´åˆå¹¶åˆ° rootfs é‡Œã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/%E7%A9%BA%E9%97%B4%E6%9C%AA%E5%88%86%E9%85%8D.png"></p><h2 id="ç³»ç»Ÿè§†é¢‘è¾“å‡ºçš„é…ç½®"><a href="#ç³»ç»Ÿè§†é¢‘è¾“å‡ºçš„é…ç½®" class="headerlink" title="ç³»ç»Ÿè§†é¢‘è¾“å‡ºçš„é…ç½®"></a>ç³»ç»Ÿè§†é¢‘è¾“å‡ºçš„é…ç½®</h2><p>è¿™ä¸ªé…ç½®æ˜¯ç”¨äºæ­£ç¡®è¾“å‡ºè§†é¢‘ä¿¡å·ç»™æ˜¾ç¤ºå™¨æ˜¾ç¤ºï¼Œæ ‘è“æ´¾ä¼šè‡ªåŠ¨æ£€æµ‹æ˜¾ç¤ºå™¨å±æ€§è‡ªåŠ¨è°ƒæ•´çš„ï¼Œå½“ä½ çš„æ˜¾ç¤ºæ•ˆæœæ²¡æœ‰è¾¾åˆ°é¢„æœŸ(HDMI-&gt;VGA)æ—¶å¯ä»¥é€šè¿‡æ‰‹åŠ¨é…ç½®ä¸€ä¸‹ã€‚<br>é…ç½®é¡¹åœ¨  <font color=#00ffff size=4>&#x2F;boot&#x2F;config.txt</font>æ–‡ä»¶é‡Œã€‚æ‰“å¼€è¯¥é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å³å¯ã€‚<br>å…³äºé…ç½®çš„ä»‹ç»å¯ä»¥åœ¨<a href="http://rpf.io/configtxt">è¿™é‡Œ</a>çœ‹åˆ°ã€‚è¿™é‡Œçš„é…ç½®éœ€è¦è´´åˆä½ æ˜¾ç¤ºå™¨çš„å±æ€§ï¼Œè®¾ç½®çš„æ•™ç¨‹å¯ä»¥å‚ç…§-&gt;<a href="http://shumeipai.nxez.com/2013/08/31/custom-display-resolution-raspberry-pie.html">è‡ªå®šä¹‰æ ‘è“æ´¾çš„æ˜¾ç¤ºåˆ†è¾¨ç‡</a> è¿›è¡Œæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡<code>hdmi_mode</code>çš„è°ƒæ•´ã€‚æˆ‘çš„æ˜¾ç¤ºå™¨æ˜¯2Kå±ï¼Œè®¡ç®—æœºæ˜¾ç¤ºå™¨ï¼Œé…ç½®é¡¹å¦‚ä¸‹ã€‚</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># uncomment if you get no picture on HDMI for a default &quot;safe&quot; mode</span><br><span class="hljs-attr">hdmi_safe</span>=<span class="hljs-number">1</span><br><span class="hljs-comment"># uncomment this if your display has a black border of unused pixels visible</span><br><span class="hljs-comment"># and your display can output without overscan</span><br><span class="hljs-attr">disable_overscan</span>=<span class="hljs-number">1</span><br><span class="hljs-comment"># uncomment if hdmi display is not detected and composite is being output</span><br><span class="hljs-attr">hdmi_force_hotplug</span>=<span class="hljs-number">1</span><br><span class="hljs-comment"># uncomment to force a specific HDMI mode (this will force VGA)</span><br><span class="hljs-attr">hdmi_group</span>=<span class="hljs-number">2</span><br><span class="hljs-attr">hdmi_mode</span>=<span class="hljs-number">76</span><br><span class="hljs-attr">hdmi_ignore_edid</span>=<span class="hljs-number">0</span>xa5000080<br><span class="hljs-comment"># uncomment to force a HDMI mode rather than DVI. This can make audio work in</span><br><span class="hljs-comment"># DMT (computer monitor) modes</span><br><span class="hljs-attr">hdmi_drive</span>=<span class="hljs-number">2</span><br><span class="hljs-comment"># uncomment to increase signal to HDMI, if you have interference, blanking, or</span><br><span class="hljs-comment"># no display</span><br><span class="hljs-attr">config_hdmi_boost</span>=<span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p>é…ç½®å®Œæ¯•ï¼Œæ’ä¸ŠSDå¡ã€hdmiçº¿ã€ç”µæºå³å¯çœ‹åˆ°æ ‘è“æ´¾å¯åŠ¨ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯HDMIè½¬VGAä¸ºäº†ä¿è¯è§†é¢‘çš„ç¨³å®šè¿™é‡Œæœ€å¥½ä½¿ç”¨å•ç‹¬ç”µæºä¾›ç”µçš„è½¬æ¢å¤´ã€‚å¼€æœºæ˜¾ç¤ºå¦‚ä¸‹ï¼š<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%BC%80%E6%9C%BA.jpg"></p><h2 id="ç³»ç»Ÿé€‰é¡¹é…ç½®"><a href="#ç³»ç»Ÿé€‰é¡¹é…ç½®" class="headerlink" title="ç³»ç»Ÿé€‰é¡¹é…ç½®"></a>ç³»ç»Ÿé€‰é¡¹é…ç½®</h2><p>æ’ä¸Šé¼ æ ‡é”®ç›˜,å¯åŠ¨ç³»ç»Ÿä¹‹åæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥<code>sudo raspi-config</code>å‘½ä»¤å³å¯è¿›è¡Œé…ç½®ï¼Œç•Œé¢å¦‚ä¸‹ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/raspi-config.jpg"><br>é…ç½®ç•Œé¢çš„è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">1.</span> ä¿®æ”¹ç™»å½•å¯†ç ã€‚<br><span class="hljs-bullet">2.</span> ç½‘ç»œé€‰é¡¹ï¼š<br><span class="hljs-bullet">    1.</span> æ ‘è“æ´¾åœ¨ç½‘ç»œä¸Šçš„åå­—(åœ¨è·¯ç”±å™¨ç®¡ç†ç•Œé¢å¯ä»¥çœ‹åˆ°)<br><span class="hljs-bullet">    2.</span> WIFIåç§°å’Œå¯†ç <br><span class="hljs-bullet">    3.</span> ç½‘ç»œæ˜¯å¦å¯ä»¥è¢«æ¢æµ‹ã€‚<br><span class="hljs-bullet">3.</span> å¯åŠ¨é€‰é¡¹ï¼š<br><span class="hljs-bullet">    1.</span> å¯åŠ¨é€‰æ‹©æ¡Œé¢è¿˜æ˜¯æ§åˆ¶å°ï¼Œæ§åˆ¶å°å°±æ²¡æœ‰ç•Œé¢é»‘ä¹ä¹çš„ã€‚<br><span class="hljs-bullet">       1.</span> æ§åˆ¶å°ä¸è‡ªåŠ¨ç™»å½•<br><span class="hljs-bullet">       2.</span> æ§åˆ¶å°è‡ªåŠ¨ç™»å½•<br><span class="hljs-bullet">       3.</span> æ¡Œé¢ç¯å¢ƒä¸è‡ªåŠ¨ç™»å½•<br><span class="hljs-bullet">       4.</span> æ¡Œé¢ç¯å¢ƒè‡ªåŠ¨ç™»å½•<br><span class="hljs-bullet">    2.</span> æ˜¯å¦åœ¨å¯åŠ¨æ˜¯ç­‰å¾…ç½‘ç»œè¿æ¥å®Œæˆã€‚<br><span class="hljs-bullet">    3.</span> æ˜¯å¦å¯ç”¨ç”»é¢è¿‡æ¸¡ã€‚ç”¨ç”»é¢è¿‡æ¸¡å¼€æœºè¿‡ç¨‹ï¼Œè¿˜æ˜¯ä½¿ç”¨æ–‡æœ¬è¿‡æ¸¡(å¼€æœºçš„æ—¶å€™åˆ·åˆ·åˆ·çš„æ–‡æœ¬å¯åŠ¨ä¿¡æ¯)ã€‚<br><span class="hljs-bullet">4.</span> æœ¬åœ°åŒ–é€‰é¡¹ï¼š<br><span class="hljs-bullet">    1.</span> é€‰æ‹©è¯­è¨€ã€‚åœ¨å¼¹å‡ºçš„åˆ—è¡¨é‡Œä¸Šä¸‹ç§»åŠ¨ç›´è‡³æ‰¾åˆ° zh<span class="hljs-emphasis">_CN.UTF-8 UTF-8ã€‚ç©ºæ ¼è¿›è¡Œé€‰æ‹©ï¼Œå›è½¦è¿›è¡Œç¡®è®¤ã€‚</span><br><span class="hljs-emphasis">    2. é€‰æ‹©æ—¶åŒºã€‚Etc</span><br><span class="hljs-emphasis">    3. é€‰æ‹©é”®ç›˜å¸ƒå±€ã€‚å›½é™…æ ‡å‡†105é”®ã€‚</span><br><span class="hljs-emphasis">    4. é€‰æ‹©WIFIåœ°åŒºã€‚CN-China</span><br><span class="hljs-emphasis">5. æ¥å£é€‰é¡¹ï¼šè¿™é‡Œä¸»è¦æ˜¯æ ‘è“æ´¾å¯¹å¤–çš„æ¥å£åŠŸèƒ½ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    1. æ‘„åƒå¤´ã€‚é€‰æ‹©æ˜¯å¦ä½¿ç”¨æ‘„åƒå¤´ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    2. SSHã€‚é€‰æ‹©æ˜¯å¦å¯ç”¨SSHè¿›è¡Œè¿œç¨‹è¿æ¥ã€‚é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    3. VNC.é€‰æ‹©æ˜¯å¦å¯ç”¨VNCä½œä¸ºè¿œç¨‹æ¡Œé¢è¿æ¥ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    4. SPIã€‚é€‰æ‹©æ˜¯å¦å¯ç”¨SPIæ¥å£ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    5. IICã€‚é€‰æ‹©æ˜¯å¦å¯ç”¨IICæ¥å£ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    6. ä¸²å£Serialã€‚é€‰æ‹©æ˜¯å¦å¯ç”¨ä¸²å£ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    7. 1-Wireã€‚é€‰æ‹©æ˜¯å¦å¯ç”¨å•çº¿æ¥å£ã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">    8. Remote GPIOã€‚é€‰æ‹©æ˜¯å¦å…è®¸è¿œç¨‹æ§åˆ¶GPIOã€‚æ ¹æ®éœ€è¦é€‰æ‹©ä½¿èƒ½ã€‚</span><br><span class="hljs-emphasis">6. è¶…é¢‘é€‰é¡¹ï¼šCPUè¶…é¢‘ã€‚</span><br><span class="hljs-emphasis">7. é«˜çº§é€‰é¡¹ï¼š</span><br><span class="hljs-emphasis">   1. æ‰©å±•SDå¡æ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯åœ¨åˆ·å…¥æ ‘è“æ´¾ç³»ç»Ÿæ—¶å€™ä¼šæœ‰æ²¡åˆ†é…çš„ç©ºé—²ç©ºé—´ï¼Œé€šè¿‡è¿™ä¸ªé€‰é¡¹å°±å¯ä»¥å°†SDå¡å®Œå…¨æ•´åˆèµ·æ¥ã€‚</span><br><span class="hljs-emphasis">   2. è¿‡æ‰«æé€‰é¡¹ã€‚å¦‚æœæ˜¾ç¤ºå™¨æ˜¾ç¤ºæœ‰é»‘è¾¹å¯ä»¥å¼€å¯è¿™ä¸ªé€‰é¡¹ã€‚å…³äºè¿‡æ‰«æå¯ä»¥çœ‹http://bbs.a9vg.com/thread-2358167-1-1.htmlã€‚</span><br><span class="hljs-emphasis">   3. ä¿®æ”¹æ˜¾å¡å¯ç”¨å†…å­˜å¤§å°ã€‚é»˜è®¤å€¼64</span><br><span class="hljs-emphasis">   4. å£°éŸ³é€‰é¡¹ã€‚é€‰æ‹©å£°éŸ³çš„è¾“å‡ºæ–¹å‘ã€‚</span><br><span class="hljs-emphasis">      1. è‡ªåŠ¨ã€‚æ ¹æ®æœ‰æ•ˆçš„è¾“å‡ºæºè¾“å‡ºã€‚</span><br><span class="hljs-emphasis">      2. é€šè¿‡3.5è€³æœºæ¥å£è¾“å‡º</span><br><span class="hljs-emphasis">      3. é€šè¿‡HDMIä¼ è¾“éŸ³é¢‘ã€‚</span><br><span class="hljs-emphasis">   5. åˆ†è¾¨ç‡é€‰é¡¹ã€‚é€‰æ‹©ç‰¹å®šçš„åˆ†è¾¨ç‡ä½œä¸ºè¾“å‡ºè§†é¢‘çš„åˆ†è¾¨ç‡ã€‚æ ¹æ®æ˜¾ç¤ºå™¨é…ç½®è¿›è¡Œé€‰æ‹©ã€‚</span><br><span class="hljs-emphasis">   6. åƒç´ ç‚¹åŠ å€é€‰é¡¹ã€‚é€‰æ‹©æ˜¯å¦å°†åƒç´ è¿›è¡Œ2*2æ˜ å°„ã€‚æˆ‘é€‰æ‹©ä¹‹åç”»é¢æ˜¾ç¤ºä¸å…¨ï¼Œå¾ˆæ¨¡ç³Šã€‚ä¸çŸ¥é“å¹²å˜›ç”¨çš„æ„Ÿè§‰åƒæ˜¯åˆ†è¾¨ç‡å˜ä½äº†ã€‚</span><br><span class="hljs-emphasis">   7. Open GLé©±åŠ¨é€‰é¡¹ã€‚é€‰æ‹©æ˜¯å¦å¯ç”¨open GLæ¡Œé¢é©±åŠ¨ç¨‹åºã€‚è¿™ä¸ªæ˜¯ç¡¬ä»¶åŠ é€Ÿçš„é€‰é¡¹ï¼Œå¦‚æœä½¿ç”¨æ¡Œé¢å¯ä»¥é€‰æ‹©å¯ç”¨è¯¥åŠŸèƒ½ã€‚è¿™ä¸ªé€‰é¡¹æˆ‘å…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆæ„Ÿè§‰ï¼Œæ²¡æœ‰è¯•è¿‡ã€‚å¯ä»¥çœ‹ä¸‹https://www.jianshu.com/p/2438d2c76cdbã€‚</span><br><span class="hljs-emphasis">      1. Full KMS è¿™ä¸ªæ•ˆç‡æ›´é«˜å…¨éƒ¨é€šè¿‡å†…æ ¸ç›´æ¥è¾“å‡ºï¼Œä½†æ˜¯å…¼å®¹æ€§å·®ä¸€äº›ï¼Œé‡åˆ°ä¸€äº›è¿œç¨‹æ¡Œé¢è½¯ä»¶å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚</span><br><span class="hljs-emphasis">      2. FAKE KMS è¯¥é€‰é¡¹å…¼å®¹æ€§å¥½ä¸€äº›ã€‚</span><br><span class="hljs-emphasis">      3. ä½¿ç”¨è½¯ä»¶æ¸²æŸ“ã€‚ä¸ä½¿ç”¨Open GLã€‚</span><br><span class="hljs-emphasis">8. å‡çº§ã€‚æ£€æŸ¥å‡çº§ç³»ç»Ÿã€‚</span><br><span class="hljs-emphasis">9. å…³äºæ ‘è“æ´¾é…ç½®å·¥å…·çš„è¯´æ˜ã€‚</span><br></code></pre></td></tr></table></figure><p>æˆ‘ç”¨çš„ç³»ç»Ÿ2018-06-27-raspbian-stretchæ˜¯å¯ä»¥é€šè¿‡æ¡Œé¢å·¦ä¸Šè§’çš„å°æ ‘è“å›¾æ ‡-&gt;é¦–é€‰é¡¹-&gt;æ ‘è“æ´¾é…ç½®è¿›è¡Œé…ç½®çš„ã€‚<br>é…ç½®å®Œæ¯•ä¹‹åé€‰æ‹© Finish æŒ‰é’®è¿›è¡Œé‡å¯ï¼Œç”Ÿæ•ˆæ›´æ”¹ã€‚<br>æˆ‘çš„é…ç½®å¤§è‡´å¦‚ä¸‹ï¼š<br>    ä¿®æ”¹ç™»å½•å¯†ç ã€ä½¿ç”¨æ§åˆ¶å°è‡ªåŠ¨ç™»å½•ã€å¯ç”¨ SSH å’Œ VNC ã€ä¸è¶…é¢‘ã€æ‰©å±•SDå¡ã€ä¸è¿›è¡Œåƒç´ ç‚¹åŠ å€ã€ä¸ä½¿ç”¨Open GL(ä¸å¥½æ„æ€æˆ‘åªç”¨SSHè¿æ¥)ï¼Œå¦å¤–GPUå†…å­˜æˆ‘å°±æŒ‰ç…§çš„é»˜è®¤64Mæ¥ï¼Œä¹‹åéœ€è¦å†ä¿®æ”¹å§ã€‚</p><h2 id="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•"><a href="#å®‰è£…ä¸­æ–‡è¾“å…¥æ³•" class="headerlink" title="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•"></a>å®‰è£…ä¸­æ–‡è¾“å…¥æ³•</h2><p>è™½ç„¶ä¹‹åéƒ½æ˜¯ä½¿ç”¨SSHè¿›è¡Œè¿æ¥ï¼Œä½†æ˜¯ï¼ï¼ï¼å¶å°”ä½¿ç”¨æ¡Œé¢æ—¶ä¾ç„¶ä¸èƒ½å¿å—æ²¡æœ‰ä¸­æ–‡çš„æƒ…å†µå•¦ã€‚è¿è¡Œä¸‹é¢çš„ä¸‰æ¡å‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œæœ€åä½¿ç”¨rebooté‡å¯ç³»ç»Ÿç”Ÿæ•ˆæ›´æ”¹ã€‚é€šè¿‡ ctrl+space å¯ä»¥åˆ‡æ¢ã€‚</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs applescript">sudo apt-<span class="hljs-keyword">get</span> install fcitx <span class="hljs-comment">#å®‰è£… fctix è¾“å…¥æ³•æ¡†æ¶</span><br>sudo apt-<span class="hljs-keyword">get</span> install fcitx-pinyin     <span class="hljs-comment"># å®‰è£…fcitxæ‹¼éŸ³</span><br>sudo apt-<span class="hljs-keyword">get</span> install fcitx-googlepinyin  <span class="hljs-comment"># å®‰è£…googleæ‹¼éŸ³</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å®Œæˆäº†æ ‘è“æ´¾ä¸ªæ€§åŒ–çš„é…ç½®å•¦ã€‚</p><h2 id="ä½¿ç”¨SSHè¿›è¡Œæ ‘è“æ´¾çš„è¿æ¥"><a href="#ä½¿ç”¨SSHè¿›è¡Œæ ‘è“æ´¾çš„è¿æ¥" class="headerlink" title="ä½¿ç”¨SSHè¿›è¡Œæ ‘è“æ´¾çš„è¿æ¥"></a>ä½¿ç”¨SSHè¿›è¡Œæ ‘è“æ´¾çš„è¿æ¥</h2><p>è¿™é‡Œæ¨èä½¿ç”¨Finall shellè¿™ä¸ªè¿œç¨‹è¿æ¥è½¯ä»¶ã€‚å¯ä»¥å®æ—¶ç›‘æ§CPUã€å†…å­˜ã€ç£ç›˜ç­‰çš„ä½¿ç”¨ï¼Œå¯ä»¥æœ‰å‘½ä»¤å†å²ï¼Œè‡ªåŠ¨è¡¥å…¨ç­‰ã€‚å…è´¹ç‰ˆæœ¬å·²ç»å¤Ÿä½¿ç”¨äº†ã€‚</p><ol><li>Windows ç‚¹å‡»<a href="http://www.hostbuf.com/downloads/finalshell_install.exe">ä¸‹è½½</a>Finall shellæœ€æ–°ç‰ˆæœ¬ã€‚å®˜ç½‘:<a href="http://www.hostbuf.com/">http://www.hostbuf.com/</a>ã€‚å®˜ç½‘çœ‹èµ·æ¥æ¯«æ— ç¾æ„Ÿï¼Œèƒœåœ¨ç®€å•æ²¡æœ‰å¹¿å‘Š.</li><li>ä¸‹è½½ä¹‹åè¿è¡Œå®‰è£…ã€‚å®‰è£…å®Œæ¯•æ‰“å¼€è½¯ä»¶ã€‚å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå³è¾¹æ˜¯ä¸€äº›å›¾è¡¨æ ï¼Œç”¨äºæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸€äº›ä¿¡æ¯ã€‚å³è¾¹æ˜¯å‘½ä»¤è¡Œçª—å£ï¼Œä¸‹é¢æ˜¯è¿œç¨‹æ–‡ä»¶ç®¡ç†ç³»ç»Ÿå¯ä»¥ç”¨æ¥ä¼ è¾“æ–‡ä»¶ã€‚</li><li>ç‚¹å‡»å³ä¸Šè§’æ–‡ä»¶å¤¹æ ·å¼çš„å°å›¾æ ‡æ‰“å¼€è¿æ¥ç®¡ç†å™¨ï¼Œç‚¹å‡»å·¦ä¸Šè§’ç™½è‰²æ–‡ä»¶å¤¹åŠ å·å»ºç«‹ä¸€ä¸ªSSHè¿æ¥ã€‚<ol><li>è¾“å…¥è¿æ¥åç§°(æ ‡è¯†ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ¯”å¦‚ï¼šæ ‘è“æ´¾)ã€‚  </li><li>ä¸»æœºï¼Œå¡«å…¥æ ‘è“æ´¾çš„IPåœ°å€ã€‚  <ul><li>è¿™é‡Œå¯ä»¥ç”¨æ ‘è“æ´¾è¿è¡Œ <code>ifconfig</code> å‘½ä»¤æŸ¥çœ‹ipåœ°å€,åº”è¯¥æ˜¯<code>192.168.1.*</code></li><li>ä¹Ÿå¯ä»¥é€šè¿‡æµè§ˆå™¨è¾“å…¥<code>192.168.1.1ï¿½ï¿½?92.168.1.0</code> è¿›å…¥è·¯ç”±å™¨ç®¡ç†ç•Œé¢æŸ¥çœ‹æ ‘è“æ´¾çš„IPåœ°å€ã€‚</li></ul></li><li>ç«¯å£é»˜è®¤22.æ–¹æ³•ä½¿ç”¨å¯†ç ï¼Œç”¨æˆ·åä¸º pi (æ ‘è“æ´¾é»˜è®¤ç”¨æˆ·å)ï¼Œå¯†ç ä¸ºä½ çš„ç™»å½•å¯†ç ã€‚  </li><li>ç‚¹å‡»<code>ç¡®å®š</code>å»ºç«‹è¿æ¥æˆåŠŸã€‚</li></ol></li><li>åŒå‡»æ–°å»ºçš„è¿æ¥è¿›è¡Œè¿æ¥ï¼Œä¼šåœ¨ä¸»çª—å£çš„å³è¾¹å‘½ä»¤è¡Œæ æ–°å»ºä¸€ä¸ªè¿æ¥åˆ†é¡µï¼Œè¿æ¥æˆåŠŸå°±èƒ½çœ‹åˆ°å¤§è‡´å¦‚ä¸‹çš„ç•Œé¢ã€‚<br><img src="http://begild-one.top/%E6%A0%91%E8%8E%93%E6%B4%BE%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/SSH%E8%BF%9E%E6%8E%A5%E6%A0%91%E8%8E%93%E6%B4%BE.png"></li><li>è½¯ä»¶çš„å…¶ä»–ä¸ªæ€§åŒ–é…ç½®è‡ªè¡Œæ‘¸ç´¢ï¼Œå¤§è‡´æœ‰å‘½ä»¤è¡Œä¸»é¢˜ï¼Œé¢œè‰²ç­‰çš„é…ç½®å§ã€‚ç‚¹å‡»è½¯ä»¶å³ä¸Šè§’çš„ä¸‰æ¡æ¨ªçº¿å›¾æ ‡-&gt;é€‰é¡¹å¯ä»¥æ‰¾åˆ°ã€‚</li></ol><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™æ ·å°±å®Œæˆæ ‘è“æ´¾çš„åŸºæœ¬é…ç½®å’Œä½¿ç”¨äº†ï¼Œåˆ©ç”¨ SSH æ•´ä¸ªæ ‘è“æ´¾åªéœ€è¦è¿æ¥ä¸€æ ¹USBç”µæºçº¿å°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†ï¼Œå½“ç„¶è¿™é‡Œçš„ç”µæºé€‚é…å™¨ä¸€å®šè¦ç¨³å®šç”µæµè¶³é‡(2Aä»¥ä¸Š)ï¼Œä¸è¦æ‹¿é‚£ç§10å—é’±åŒ…é‚®çš„ç”µæºé€‚é…å™¨ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ ‘è“æ´¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ ‘è“æ´¾å®‰è£…ç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸€ç§åˆ†å±‚ã€é«˜æ‰©å±•æ€§é€šä¿¡åè®®çš„æ€»ç»“</title>
    <link href="/2018/07/22/%E4%B8%80%E7%A7%8D%E5%88%86%E5%B1%82%E9%AB%98%E6%89%A9%E5%B1%95%E6%80%A7%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%80%BB%E7%BB%93/"/>
    <url>/2018/07/22/%E4%B8%80%E7%A7%8D%E5%88%86%E5%B1%82%E9%AB%98%E6%89%A9%E5%B1%95%E6%80%A7%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h2 id="æ¸Šæº"><a href="#æ¸Šæº" class="headerlink" title="æ¸Šæº"></a>æ¸Šæº</h2><p>å¤§æ¦‚å› ä¸ºè‡ªå·±ä¸“ä¸šæ˜¯é€šä¿¡å·¥ç¨‹ï¼Œæ‰€ä»¥ä¸€ç›´ä»¥æ¥å¯¹é€šä¿¡éƒ½è¿˜æ˜¯å¾ˆæœ‰å…´è¶£çš„ï¼Œé€šä¿¡åè®®çš„ä½œç”¨å°±æ˜¯è®©é€šä¿¡çš„åŒæ–¹æ˜ç¡®çŸ¥é“é€šä¿¡å®ä½“çš„æ„ä¹‰ã€‚é€šä¿¡åè®®çš„èŒƒç•´å¤ªå¤§äº†ï¼Œä»æœ€åº•å±‚çš„ç¡¬ä»¶ä¹‹é—´æ¥å£çš„åè®®åˆ°æœ€ä¸Šå±‚çš„åº”ç”¨å±‚çš„åè®®æ— ä¸€ä¸æ˜¯ä¸ºäº†ä¼ è¾“æ•°æ®æ‰€åšçš„å·¥ä½œ <!---more----></p><h2 id="ç¡¬ä»¶çš„æ¥å£åè®®"><a href="#ç¡¬ä»¶çš„æ¥å£åè®®" class="headerlink" title="ç¡¬ä»¶çš„æ¥å£åè®®"></a>ç¡¬ä»¶çš„æ¥å£åè®®</h2><ul><li>ç¡¬ä»¶çš„æ¥å£åè®®ä¸»è¦æ˜¯ä¸ºäº†æ­£ç¡®çš„ä¼ è¾“æ•°æ®çš„é€»è¾‘0å’Œ1ï¼Œåœ¨ä¸åŒçš„ç‰©ç†å®ä½“æ¥å£ä¸­é€šè¿‡ä¸åŒçš„ç”µå¹³æ ‡å‡†ï¼Œä¸åŒçš„æ—¶åºï¼Œä¸åŒçš„ç‰©ç†çº¿æ•°æ¥å®Œæˆæ•´ä¸ªå·¥ä½œã€‚å¹³æ—¶æ¥è§¦åˆ°æœ€å¤šçš„IICã€SPIã€UARTã€USBä»–ä»¬éƒ½æœ‰ç€è‡ªå·±ä¸€å¥—ç‰©ç†å±‚çš„é€šä¿¡æ¥å£ä¸è¿‡çº¿æ•°å’Œæ—¶åºæ¯”è¾ƒç®€å•ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒSATAæ¥å£ï¼ŒRJ45ç½‘å£ï¼ŒHDMIæ¥å£ç­‰ä¹Ÿæœ‰è‡ªå·±çš„ä¸€å¥—ç‰©ç†å±‚çš„æ¥å£åè®®ä»–ä»¬çš„æ¥å£çº¿æ•°å’Œæ—¶åºé€šå¸¸éƒ½æ¯”è¾ƒå¤æ‚ã€‚å¦‚æœä½ ä¸æŒ‰ç…§ç‰©ç†å±‚çš„æ¥å£åè®®æ¥ä¼ è¾“æ•°æ®é‚£ä¹ˆå¯¹æ–¹è¿è·å–æ­£ç¡®æ•°æ®çš„èƒ½åŠ›éƒ½ä¸å…·å¤‡ã€‚  </li><li>å½“ä¸¤ç§ä¸åŒçš„æ¥å£é—´ç›¸äº’å…¼å®¹æ—¶å°±éœ€è¦è½¬æ¢å™¨ï¼Œè¿™ä¸ªè½¬æ¢å™¨å…¶å®å°±æ˜¯å…·å¤‡ä¸¤ç§ç¡¬ä»¶æ¥å£åè®®çš„è®¾å¤‡ï¼Œå°†ä¸€ç§æ¥å£çš„æ•°æ®æ­£ç¡®æ¥æ”¶å›æ¥è½¬åŒ–ä¸ºå¦å¤–ä¸€ç§æ¥å£å¯ä»¥è¯†åˆ«çš„ç‰©ç†ç”µå¹³æ•°æ®ç„¶åé€šè¿‡æ—¶åºå’Œæ¥å£çº¿å‘é€å‡ºå»ã€‚å½“ç„¶æœ‰äº›æ—¶å€™æ˜¯éœ€è¦è¿›è¡Œå–èˆæˆ–å¡«è¡¥çš„ï¼ŒåƒVGAå’ŒHDMIï¼Œä»–ä»¬éƒ½å±äºä¼ è¾“è§†é¢‘çš„æ¥å£ï¼Œä½†æ˜¯VGAå¹¶ä¸å…·å¤‡ä¼ è¾“éŸ³é¢‘çš„èƒ½åŠ›æ‰€ä»¥HDMIè½¬VGAå¿…ç„¶ä¼šä¸¢å¤±éŸ³é¢‘çš„æ•°æ®ï¼ŒåŒæ—¶å› ä¸ºVGAä¼ è¾“çš„æ˜¯æ¨¡æ‹Ÿçš„æ•°æ®å½“è½¬ä¸ºHDMIæ—¶å¿…ç„¶ä¼šä¸¢å¤±ç»†èŠ‚æ•°æ®ã€‚</li><li>ç¡¬ä»¶çš„æ¥å£åè®®ç±»æ¯”äºå£°å¸¦å’Œè€³æœµï¼Œå£°å¸¦å‘å£°ï¼Œè€³æœµæ”¶å¬å£°éŸ³ã€‚å£°éŸ³å¯é€šè¿‡ç©ºæ°”ä¼ æ’­ï¼Œç©ºæ°”å°±æ˜¯ç‰©ç†çº¿ï¼Œå£°å¸¦å’Œè€³æœµå°±æ˜¯ä¸€å¥—æ”¶å‘çš„ç‰©ç†è®¾å¤‡ï¼Œä»–ä»¬ä¹‹é—´çš„é€šä¿¡é€šè¿‡å£°å¸¦éœ‡åŠ¨ç©ºæ°”å‘å°„ï¼Œè€³æœµé€šè¿‡è€³è†œæ¥æ”¶éœ‡åŠ¨è¿›è¡Œè·å–ã€‚</li></ul><h2 id="ä¸Šå±‚çš„é€šä¿¡åè®®"><a href="#ä¸Šå±‚çš„é€šä¿¡åè®®" class="headerlink" title="ä¸Šå±‚çš„é€šä¿¡åè®®"></a>ä¸Šå±‚çš„é€šä¿¡åè®®</h2><ul><li>å®Œæˆäº†ç¡¬ä»¶çš„æ¥å£åè®®å°±èƒ½æ­£ç¡®çš„ä¼ è¾“ä½ æƒ³è¦å‘é€çš„æ•°æ®äº†å¯¹æ–¹ä¹Ÿèƒ½æ­£ç¡®çš„æ¥æ”¶åˆ°ä½ çš„æ•°æ®ï¼Œç›¸å½“äºä½ æ‹¥æœ‰ä¸€ä¸ªå®Œå¥½çš„è€³æœµï¼Œèƒ½æ¥æ”¶åˆ°å„ç§ç¬¦åˆäººè€³èƒ½å¬åˆ°çš„å£°éŸ³äº†(è¶…å£°æ³¢æ¬¡å£°æ³¢å¬ä¸åˆ°).</li><li>æ­¤æ—¶ä½ è¿˜æ˜¯è¯­è¨€ä¸é€šï¼å› ä¸ºåœ¨ä½ çœ¼é‡Œéƒ½æ˜¯å£°éŸ³ä½†æ˜¯ä½ æ— æ³•çŸ¥é“å¯¹é¢æ‰€è¯´çš„æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦ä¸€ä¸ªå­¦ä¹ çš„è¿‡ç¨‹ï¼Œå­¦ä¹ å¯¹æ–¹çš„è¯­è¨€ã€‚è¿™ä¸ªè¯­è¨€å…¶å®å°±æ˜¯è§„å®šäº†å„ç§å‘éŸ³çš„ç»„åˆæ„æˆçš„æ„ä¹‰ä¹Ÿå°±æ˜¯â€é€šä¿¡åè®®â€,æˆ‘ä»¬åªæœ‰çŸ¥é“æ¯ä¸ªå‘éŸ³ä»¥åŠæ„æˆçš„æ„ä¹‰æ‰èƒ½æ­£ç¡®äº†è§£å¯¹æ–¹æ‰€è¯´çš„å«ä¹‰.</li></ul><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¿ƒä½¿æœ¬æ–‡äº§ç”Ÿçš„æºå¤´å°±æ˜¯å…¥èŒè¿™æ®µæ—¶é—´é‡Œè´Ÿè´£çš„ä¸€ä¸ªæµ‹è¯•å·¥å…·çš„å¼€å‘ä¸­æ‰€ç”¨åˆ°çš„é€šä¿¡åè®®ï¼Œå› ä¸ºä¹‹å‰è‡ªå·±ä¹Ÿåšè¿‡ä¸€äº›é€šä¿¡åè®®ä¸è¿‡æ„Ÿè§‰çœ‹äº†é¡¹ç›®ç»„é‡Œå¤§ä½¬ç»™çš„è¿™ä¸ªåè®®ä»¥åŠæ€æƒ³æ„Ÿè§‰å¾ˆå—ç”¨ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚è¿™é‡Œè¯´çš„æ˜¯(ä¸²å£)UARTä¸ºé€šä¿¡ç¡¬ä»¶è½½ä½“è¿›è¡Œè¯´æ˜.</p><h2 id="è‡ªå·±åšè¿‡çš„ä¸€äº›åè®®"><a href="#è‡ªå·±åšè¿‡çš„ä¸€äº›åè®®" class="headerlink" title="è‡ªå·±åšè¿‡çš„ä¸€äº›åè®®"></a>è‡ªå·±åšè¿‡çš„ä¸€äº›åè®®</h2><ul><li>ä¹‹å‰è‡ªå·±åœ¨æœ¬ç§‘æœŸé—´åšè¿‡çš„ä¸€äº›é¡¹ç›®ä¹Ÿéœ€è¦æ ¹æ®ä¼ è¾“çš„ä¸œè¥¿åˆ¶å®šä¸€äº›é€šä¿¡åè®®ï¼Œä¸è¿‡éƒ½æ¯”è¾ƒç®€å•è€ƒè™‘çš„ç‚¹ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šï¼Œæœ‰åŸºäº16è¿›åˆ¶ä¼ è¾“çš„ä¹Ÿæœ‰åŸºäºå­—ç¬¦ä¸²ä¼ è¾“çš„16è¿›åˆ¶ä¼ è¾“çš„åŸºæœ¬å°±æ˜¯ä¸ºäº†æœºå™¨æ›´å¥½è¯†åˆ«ï¼Œè§£ææ•ˆç‡ä¹Ÿä¼šé«˜å¾ˆå¤šã€‚å­—ç¬¦ä¸²ä¸ºè½½ä½“çš„ä¼ è¾“å°±æ˜¯ä¸ºäº†æ›´å¥½çš„è§‚å¯Ÿï¼Œæ›´åŠ å®¹æ˜“åˆ†æ16è¿›åˆ¶çš„ä¼ è¾“æ¯”å¦‚SDHï¼Œç½‘ç»œéŸ³è§†é¢‘æµç­‰ï¼›å­—ç¬¦ä¸²ä¼ è¾“æ¯”å¦‚JSONï¼ŒHTTPåŒ…ã€‚</li><li>ä¸€ä¸ªç®€16è¿›åˆ¶ä¼ è¾“çš„æ§åˆ¶åè®®ï¼Œ16è¿›åˆ¶ä¼ è¾“ï¼Œé€šè¿‡è§£æå¤´å°¾æå–å‡ºå¸§ï¼Œä½†æ˜¯æ²¡æœ‰å·®é”™æ ¡éªŒã€‚è¿™å¯ä»¥å½“æˆä¸€ä¸ªæ•°ç»„ç„¶ååˆ†ææ¯ä¸€éƒ¨åˆ†å°±å¯ä»¥è¿›è¡Œè§£æäº†ï¼Œå› ä¸ºå®ç°çš„åŠŸèƒ½æ¯”è¾ƒç®€å•æ‰€ä»¥ä¹Ÿç”¨ä¸ç€å¾ˆå¤æ‚ã€‚è¿™ç§æ–¹å¼åœ¨ä¸æ˜“è°ƒè¯•ä½†æ˜¯æ•°æ®é‡å°å¹¶ä¸”è§£æè¾ƒå¿«ã€‚</li></ul><p>|å¸§å¤´|å—æ§è®¾å¤‡ç±»å‹|å—æ§è®¾å¤‡ç¼–å·|ç½‘å…³è®¾å¤‡è¯†åˆ«å·|å‘½ä»¤&#x2F;æ•°æ®|å¸§å°¾ |<br>| :â€”: | :â€”: | :â€”: | :â€”: | :â€”: | :â€”: | :â€”: |<br>|0XAA|è®¾å¤‡å±æ€§|ç½‘å…³åˆ†é…|ç½‘å…³|æ§åˆ¶å’Œäº¤äº’|0X55|<br>|8bit|8bit|8bit|16bit|8bit|8bit|</p><ul><li>ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ä¼ è¾“çš„æ§åˆ¶åè®®ç¤ºä¾‹,ç”¨äºæ§åˆ¶æŒ‡ç¤ºç¯çš„çŠ¶æ€ï¼Œè¯¸å¦‚å……ç”µï¼Œè¯­éŸ³äº¤äº’ç­‰æ¨¡å¼ã€‚é‡‡ç”¨JSONä¸ºè½½ä½“ï¼Œæ–¹ä¾¿è°ƒè¯•å’ŒæŸ¥çœ‹ï¼Œä½†æ˜¯è§£ææ•ˆç‡è¾ƒ16è¿›åˆ¶ä¼ è¾“ä½ã€‚<br> <img src="http://begild-one.top/%E4%B8%80%E7%A7%8D%E5%88%86%E5%B1%82%E9%AB%98%E6%89%A9%E5%B1%95%E6%80%A7%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%80%BB%E7%BB%93/JSON%E5%8D%8F%E8%AE%AE%E5%AE%9E%E4%BE%8B.png" alt="JSONè½½ä½“é€šä¿¡åè®®å®ä¾‹"></li><li>å…¶å®è‡ªå·±åšçš„æ—¶å€™ä¹Ÿæœ‰è€ƒè™‘è¿‡å…¼å®¹å’Œæ‰©å±•çš„é—®é¢˜ï¼Œä¸è¿‡å…¶å®éƒ½æ²¡æœ‰å¾ˆå¥½çš„è§£å†³åŠæ³•ï¼Œå› ä¸ºæœ€å¥½çš„å°±æ˜¯å˜é•¿çš„æ•°æ®ä¼ è¾“å¯ä»¥ä»»æ„æ‰©å±•æ•°æ®çš„å¤§å°å’Œæ•°æ®å½¢å¼ï¼Œä½†æ˜¯ä¾ç„¶æ²¡æœ‰èƒ½è§£å†³åç»­æ‰©å±•åè®®å’Œå‰æœŸåè®®ä¹‹é—´çš„æ½œåœ¨å†²çªã€‚ä½†æ˜¯æ¥ä¸‹æ¥çš„è¿™ä¸ªåè®®ç»„ç»‡æ–¹å¼å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªéº»çƒ¦ã€‚è¯»å®Œä¸‹é¢è¿™ä¸ªåè®®ä½ å°±ä¼šè§‰å¾—ä¹‹å‰æˆ‘åšçš„ï¼Œå¤šæå“¦ã€‚</li></ul><h2 id="åˆ†å±‚ã€é«˜æ‰©å±•åè®®"><a href="#åˆ†å±‚ã€é«˜æ‰©å±•åè®®" class="headerlink" title="åˆ†å±‚ã€é«˜æ‰©å±•åè®®"></a>åˆ†å±‚ã€é«˜æ‰©å±•åè®®</h2><ul><li><font color=#FF0FFF size=4>åˆ†å±‚</font>ï¼šåˆ†å±‚çš„æ€æƒ³ç±»æ¯”äºè®¡ç®—æœºç½‘ç»œåˆ†å±‚ï¼Œä¸åŒçš„å±‚æ¬¡è´Ÿè´£ä¸åŒçš„åŠŸèƒ½ã€‚ä¸è¿‡è¿™é‡Œæ²¡æœ‰é‚£ä¹ˆå¤æ‚åªæ˜¯æ€æƒ³ä¸Šä¸€è‡´ï¼Œé‚£å°±æ˜¯å°†ä»¥åè®®å¸§åˆ†ä¸ºä¸åŒçš„å±‚æ¬¡ï¼Œä¾¿äºæ•°æ®çš„æ§åˆ¶å’Œåˆ†æã€‚æ‰€æœ‰çš„æ•°æ®éƒ½æŒ‰1å­—èŠ‚å¯¹é½ ã€‚</li></ul><ol><li>é¡¶çº§ï¼šæ§åˆ¶ä¼ è¾“å±‚ï¼ŒåŸºæœ¬åŒ…æ‹¬ï¼Œå¸§è¯†åˆ«å¤´ã€å¸§æ ¡éªŒ(CRC)ã€å‘½ä»¤ç ã€æ“ä½œç ã€æ•°æ®æ®µé•¿åº¦ã€æ•°æ®æ®µè½½ä½“ã€‚æ ¹æ®éœ€è¦å¯ä»¥å¢åŠ ç›®çš„åœ°å€ï¼Œæºåœ°å€ï¼Œè¿”å›ç ï¼Œæ¶ˆæ¯ç ç­‰ç”¨ä½œé€ä¼ å’Œåé¦ˆçš„å­—æ®µã€‚å…¶å±•ç°ç»“æ„ç¤ºä¾‹ä¸ºï¼š  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c">  <span class="hljs-class"><span class="hljs-keyword">struct</span>&#123;</span><br>  type Head;     <span class="hljs-comment">//å¸§è¯†åˆ«å¤´ï¼Œç”¨äºæ ‡è¯†å¸§çš„å¼€å§‹</span><br>  type CRC;      <span class="hljs-comment">//CRCæ ¡éªŒï¼Œç”¨äºéªŒè¯å¸§çš„å®Œæ•´æ€§</span><br>  type Cmd;      <span class="hljs-comment">//å‘½ä»¤ç ï¼Œç”¨äºæ ‡è¯†å¸§çš„ç±»å‹æˆ–è€…å¸§çš„ä½œç”¨</span><br><span class="hljs-comment">//  type MsgID;    //æ¶ˆæ¯ç ï¼Œç”¨äºæ ‡è¯†æœ¬é€šä¿¡åè®®å¸§çš„è¯†åˆ«ç ã€‚</span><br>  type Operat;   <span class="hljs-comment">//æ“ä½œç ï¼Œç”¨äºæ ‡è¯†å¸§çš„ä¸€äº›ä½¿ç”¨æ“ä½œï¼Œæ¯”å¦‚æ˜¯å¦æ˜¯éœ€è¦æ¥æ”¶æ–¹è¿›è¡Œå“åº”ã€‚</span><br><span class="hljs-comment">//  type SrcAddr;  //æºåœ°å€ï¼Œç”¨äºå­˜å‚¨å‘é€æ–¹çš„è¯†åˆ«å·ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨å¤šä¸ªè®¾å¤‡è¿›è¡Œæ•°æ®äº¤äº’ã€‚</span><br><span class="hljs-comment">//  type DstAddr;  //ç›®çš„åœ°å€ï¼Œç”¨äºå­˜å‚¨æ¥æ”¶æ–¹çš„è¯†åˆ«å·ï¼Œå› ä¸ºå¯èƒ½éœ€è¦ä¸­é—´è®¾å¤‡è¿›è¡Œé€ä¼ ã€‚</span><br><span class="hljs-comment">//  type Ret;      //è¿”å›ç ï¼Œç”¨äºåé¦ˆæ¥æ”¶æ–¹çš„å¤„ç†ç»“æœæ˜¯å¦æˆåŠŸæˆ–è€…é”™è¯¯ç ã€‚</span><br>  type Reserve;   <span class="hljs-comment">//é¢„ç•™</span><br>  type Datalen;  <span class="hljs-comment">//æ•°æ®æ®µçš„é•¿åº¦ï¼Œç”¨äºè¿›è¡Œæ•°æ®æ®µçš„å‡†ç¡®è¯»å–ã€‚</span><br>  type Data[<span class="hljs-number">1</span>];  <span class="hljs-comment">//æ•°æ®æ®µçš„è½½ä½“ï¼Œè¿™é‡Œåªæ ‡è¯†æ•°æ®æ®µçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä½¿å…¶å†…å­˜è¿ç»­ï¼Œå¯è¿ç»­è¯»å–æ•°æ®ã€‚</span><br>&#125;;<br></code></pre></td></tr></table></figure></li><li>äºŒçº§ï¼šç”¨äºç»Ÿè®¡ä¸‰çº§æ•°æ®å­åŒ…çš„ä¸ªæ•°ï¼Œå› ä¸ºæ¯ä¸ªå¸§å¯èƒ½åŒ…å«è‹¥å¹²ä¸ªæ•°æ®åŒ…ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç»Ÿè®¡æœ¬æ¬¡æ•°æ®åŒ…çš„æ€»æ•°ï¼Œä¾¿äºæ•°æ®åŒ…çš„åˆ†åŒ…ã€‚è¿™é‡Œæ˜¯ä¸éœ€è¦å¢åŠ æ•°æ®é•¿åº¦å­—æ®µçš„å› ä¸ºæ¯ä¸ªæ•°æ®åŒ…çš„é•¿åº¦æ˜¯ä¸ä¸€å®šçš„ï¼Œå…¶å±•ç°ç»“æ„ç¤ºä¾‹ä¸ºï¼š  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">  <span class="hljs-class"><span class="hljs-keyword">struct</span>&#123;</span><br>  type CellCnt;  <span class="hljs-comment">//æ•°æ®ç»†èƒå•å…ƒæ•°é‡ï¼Œç”¨äºç»Ÿè®¡ä¸‰çº§æ•°æ®ç»†èƒå•å…ƒçš„ä¸ªæ•°</span><br>  type Data[<span class="hljs-number">1</span>];  <span class="hljs-comment">//æ•°æ®æ®µçš„è½½ä½“ï¼Œè¿™é‡Œåªæ ‡è¯†æ•°æ®æ®µçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä½¿å…¶å†…å­˜è¿ç»­ï¼Œå¯è¿ç»­è¯»å–æ•°æ®ã€‚</span><br>&#125;;<br></code></pre></td></tr></table></figure></li><li>ä¸‰çº§ï¼šåœ¨è¯¥å±‚çº§ç”¨äºå­˜å‚¨æ¯ä¸ªæ•°æ®ç»†èƒå•å…ƒçš„å®ä½“ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæ•°æ®åŒ…æ„ä¹‰å­—æ®µï¼Œä¸€ä¸ªæ•°æ®é•¿åº¦å­—æ®µï¼Œä¸€ä¸ªæ•°æ®è½½ä½“å­—æ®µæ„æˆã€‚è¿™é‡Œæ˜¯å¿…é¡»è¦ä½¿ç”¨æ•°æ®é•¿åº¦å­—æ®µçš„ï¼Œå› ä¸ºæ¯ä¸ªæ•°æ®åŒ…çš„é•¿åº¦æ˜¯ä¸å®šé•¿çš„ä½†æ˜¯åœ¨å†…å­˜é‡Œæ˜¯è¿ç»­çš„ï¼Œå¦‚æœæ²¡æœ‰è¯¥å­—æ®µå°†æ— æ³•è¿›è¡Œä¸‹ä¸€ä¸ªæ•°æ®åŒ…çš„å‡†ç¡®è¯»å–ã€‚å…¶å±•ç°ç»“æ„ç¤ºä¾‹ä¸ºï¼š  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">  <span class="hljs-class"><span class="hljs-keyword">struct</span>&#123;</span><br>  type CellCmd;  <span class="hljs-comment">//æ•°æ®ç»†èƒå•å…ƒçš„æ„ä¹‰æˆ–å‘½ä»¤ï¼Œç”¨äºè¯†åˆ«è¯¥æ•°æ®åŒ…çš„å…·ä½“æ„ä¹‰ï¼Œåšç›¸åº”å…·ä½“çš„æ“ä½œå’Œå¤„ç†ã€‚</span><br>  type Datalen;  <span class="hljs-comment">//æ•°æ®æ®µçš„é•¿åº¦ï¼Œç”¨äºè¿›è¡Œæ•°æ®æ®µçš„å‡†ç¡®è¯»å–ã€‚</span><br>  type Data[<span class="hljs-number">1</span>];  <span class="hljs-comment">//æ•°æ®æ®µçš„è½½ä½“ï¼Œè¿™é‡Œåªæ ‡è¯†æ•°æ®æ®µçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä½¿å…¶å†…å­˜è¿ç»­ï¼Œå¯è¿ç»­è¯»å–æ•°æ®ã€‚</span><br>&#125;;<br></code></pre></td></tr></table></figure></li></ol><ul><li><font color=#FF0FFF size=4> é«˜æ‰©å±•æ€§ </font>ï¼šå› ä¸ºåˆ†å±‚ä¹‹åæ¯ä¸€ä¸ªçº§åˆ«éƒ½æœ‰ä¸åŒçš„ä½œç”¨ï¼Œé¡¶å±‚å’ŒäºŒå±‚æ˜¯ä¸ä¼šå˜çš„,ä½†æ˜¯ä¸‰å±‚çš„æ•°æ®ç»“æ„æ˜¯å¯ä»¥è‡ªç”±æ‰©å±•å¹¶ä¸”ä¸å½±å“ä¹‹å‰çš„å·²æœ‰çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¢åŠ å››çº§äº”çº§ç­‰ç­‰ï¼Œä½†æ˜¯å¯¹äºä¸Šå±‚æ¥è¯´éƒ½æ˜¯ä¸‰çº§æ•°æ®åŒ…éƒ½å»æŒ‰ç…§ <code>CellCmd</code> å»è¯†åˆ«æ˜¯å¦æ˜¯è‡ªå·±å·²æœ‰çš„ï¼Œèƒ½å¤„ç†çš„åŒ…ï¼Œä¸èƒ½å¤„ç†å°±ä¸¢å¼ƒï¼Œä¸ä¼šå½±å“ç°æœ‰çš„åŠŸèƒ½ã€‚</li></ul><h2 id="æŠ›ç –å¼•ç‰"><a href="#æŠ›ç –å¼•ç‰" class="headerlink" title="æŠ›ç –å¼•ç‰"></a>æŠ›ç –å¼•ç‰</h2><p>ä¸€å¼€å§‹è¯»å–è¿™ä¸ªåè®®çš„æ˜¯å¦è§‰å¾—æ™¦æ¶©éš¾æ‡‚ï¼Œæ˜æ˜å°±é‚£ä¹ˆç‚¹åŠŸèƒ½è¿˜è¦å¤§è´¹å‘¨æŠ˜ï¼Œåˆæ˜¯å°è£…åˆæ˜¯åˆæ˜¯åˆ†å±‚ï¼Œè§£æçš„éš¾åº¦å¤§å¤§åŠ å¤§ï¼Œç›´æ¥ç”¨æ•°ç»„ä¸‹æ ‡å®å»è§£æä¸å°±OKäº†ã€‚<br>åæ¥æé€šäº†ï¼Œä¸å¾—ä¸è¯´çœŸçš„å¤ªæœ‰ç”¨äº†ï¼Œæ— è®ºä½ æ˜¯å¤šå¤æ‚çš„æ•°æ®ç»“æ„ï¼ŒæŒ‰ç…§è¿™ä¸ªæ¥ç»„åŒ…å…¼å®¹æ€§æå¼ºï¼Œå¹¶ä¸”ä»£ç é˜…è¯»æ›´åŠ æ¸…æ™°ã€‚å…¶ä¼ è¾“é‡‡ç”¨16è¿›åˆ¶ä¼ è¾“ï¼Œæ‰¾åˆ°å¸§å¤´ï¼Œå¼ºåˆ¶ç±»å‹è½¬åŒ–ä¸ºç»“æ„ä½“æŒ‡é’ˆï¼Œç„¶åä¸€å±‚ä¸€å±‚çš„å‰–æä¸‹å»ï¼Œæ‰©å±•çš„æ•°æ®åŒ…è§£æï¼Œå°±ä¾æ¬¡æŒ‰ç…§å‰¥æ´‹è‘±çš„æ–¹å¼å±‚å±‚é€’å‡ã€‚<br>å½“ç„¶ä¸Šé¢çš„è¿™ä¸ªåªæ˜¯ä¸€ç§æ€æƒ³ï¼Œè‡³äºæ‰€æœ‰çš„æ•°æ®çš„åˆ†å±‚ç»“æ„ï¼Œä½“ç³»éƒ½å¯ä»¥åƒå˜ä¸‡åŒ–ï¼Œæ¯”å¦‚äºŒçº§çš„æ•°æ®åŒ…ä¸ªæ•°å°±å¯ä»¥å½’åœ¨é¡¶çº§é‡Œé¢ä»è€Œå–æ¶ˆäºŒçº§ç»“æ„ã€‚<br>æ„Ÿè°¢å®‰ç»´å¤§ä½¬ä»¥åŠç››åŸ¹å¤§å“¥çš„ä»£ç ã€æ–‡æ¡£</p>]]></content>
    
    
    <categories>
      
      <category>é€šä¿¡åè®®</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä¸²å£(UART)</tag>
      
      <tag>åˆ†å±‚ã€é«˜æ‰©å±•é€šä¿¡åè®®</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤šç³»ç»ŸGRUBå¼•å¯¼ä¸¢å¤±ä¿®å¤</title>
    <link href="/2018/05/10/%E5%A4%9A%E7%B3%BB%E7%BB%9Fgrub%E5%BC%95%E5%AF%BC%E4%B8%A2%E5%A4%B1%E4%BF%AE%E5%A4%8D/"/>
    <url>/2018/05/10/%E5%A4%9A%E7%B3%BB%E7%BB%9Fgrub%E5%BC%95%E5%AF%BC%E4%B8%A2%E5%A4%B1%E4%BF%AE%E5%A4%8D/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€-åƒåœ¾è¯"><a href="#å‰è¨€-åƒåœ¾è¯" class="headerlink" title="å‰è¨€(åƒåœ¾è¯)"></a>å‰è¨€(åƒåœ¾è¯)</h2><p>è¿™æ®µè¯å¿½ç•¥ä¸å½±å“æ•™ç¨‹ã€‚æœ¬æ–‡ä¸»è¦è®°å½•ä¸€ä¸‹æˆ‘ç²—å¿ƒå¤§æ„ä¹‹ä¸‹é€ æˆçš„å¤§å‡ºè¡€äº‹ä»¶ã€‚å‰å‡ å¤©åšäº†ä¸€ä¸ªç»™ç”µè„‘ä¾›ç”µçš„ç§»åŠ¨ç”µæº(ï¼Ÿï¼Ÿï¼Ÿ)å¬èµ·æ¥å¾ˆå¥‡æ€ªä½†æ˜¯è¿™ä¸ªéœ€æ±‚ç¡®å®å‘ç”Ÿäº†ã€‚emmmm å¯èƒ½æ˜¯æˆ‘å’Œç”µæºæœ‰ç€ä¸å¯ç†è§£çš„å¯¹ç«‹å…³ç³»(æˆåŠŸåœ¨å®éªŒå®¤é€ æˆäº†ä¸¤æ¬¡ç”µæ± äº‹æ•…ğŸ˜ª)ï¼Œå› ä¸ºè¦å®é™…æµ‹è¯•â€å……ç”µå®â€çš„ç»­èˆªå’Œå……ç”µæƒ…å†µï¼Œæ‰€ä»¥æˆ‘æˆåŠŸçš„çŒ®ç¥­äº†æˆ‘çš„ç”µè„‘ï¼Œæˆ‘è‡ªè®¤ä¸ºå·²ç»æ£€æŸ¥äº†çº¿è·¯ï¼Œæ¥å£ï¼Œç”µå‹ï¼Œä¿è¯ç”µæµä¸è¶…è¿‡é™é¢ï¼Œä½†æ˜¯æˆ‘ä¸‡ä¸‡æ²¡æœ‰æƒ³åˆ°ï¼Œææ€§æé”™äº†ã€‚æˆ‘TMğŸ™ƒâ€¦æŠŠæ­£è´Ÿææåäº†æ¥ä¸Šå»ç¬é—´é»‘å±(å®Œå…¨ä¸æ…Œ.jpg)ï¼Œæ‰€å¹¸çš„æ˜¯åªæ˜¯çƒ§äº†ç¬”è®°æœ¬çš„ç”µæºç®¡ç†èŠ¯ç‰‡ï¼Œæ²¡æœ‰ä¼¤åŠæ— è¾œã€‚é€å»ç”µè„‘åº—ï¼Œæ²¡æœ‰è¿™ç§èŠ¯ç‰‡ï¼Œä¸Šæ·˜å®ä¹°èŠ¯ç‰‡å‘é¡ºä¸°ä¿®ä¿®ä¿®ï¼Œä¸€æ¥ä¸€å»å°±æ˜¯3å¤©ï¼ŒæœŸé—´åªèƒ½å‹‰å¼ºé æ ‘è“æ´¾è¿‡è¿‡æ—¥å­ã€‚ä½†æ˜¯ä¿®å¥½äº†ä¹‹åå‡ºç°äº†æ–°çš„é—®é¢˜ï¼Œå¼€ä¸äº†æœºè¿›ä¸å»ç³»ç»Ÿï¼Œç„¶åç»è¿‡3ä¸ªå¤šå°æ—¶çš„æœæŸ¥æ”¹ï¼Œç»ˆäºä¿®å¥½äº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚<!---more---></p><h2 id="é—®é¢˜çš„å…·ä½“æè¿°"><a href="#é—®é¢˜çš„å…·ä½“æè¿°" class="headerlink" title="é—®é¢˜çš„å…·ä½“æè¿°"></a>é—®é¢˜çš„å…·ä½“æè¿°</h2><p>è¿™ä¸ªé—®é¢˜çš„è¡¨ç°å°±æ˜¯ï¼Œå¼€æœºè‡ªæ£€èƒ½é€šè¿‡ï¼Œä½†æ˜¯å‡ºç°ä¸äº†å¼•å¯¼ç•Œé¢åè€Œå‡ºç°çš„æ˜¯ä¸€ä¸ªå«åš grub rescueçš„ç•Œé¢ï¼Œæˆ‘è¿™é‡Œå› ä¸ºä¿®çš„æ—¶å€™å¹¶æ²¡æœ‰æ‹ç…§ï¼Œæ‰€ä»¥åªèƒ½ç”¨æ–‡å­—å¤§æ¦‚æè¿°ä¸€ä¸‹ã€‚</p><ul><li>å¼€æœºä¹‹åé€šè¿‡è‡ªæ£€ï¼Œç„¶åæ£€æµ‹å¼•å¯¼ä»€ä¹ˆçš„ï¼Œä½†æ˜¯ä»–æç¤º <code>erro:file&#39;/boot/grub/i386-pc/normal.mod&#39; not found</code> è¿™ä¸ªé”™è¯¯ã€‚</li><li>æ¥ä¸‹æ¥å°±æ˜¯å¦‚ä¸‹çš„ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ï¼Œ<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">grub rescue&gt;&gt;<span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">__</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="é—®é¢˜çš„åŸå› "><a href="#é—®é¢˜çš„åŸå› " class="headerlink" title="é—®é¢˜çš„åŸå› "></a>é—®é¢˜çš„åŸå› </h2><p>è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šå°±æ˜¯æ‰¾ä¸åˆ°å¼•å¯¼çš„æ–‡ä»¶ï¼Œè¿·è·¯äº†æ‰¾ä¸åˆ°ä»»ä½•å¯¼èˆªçš„ä¸œè¥¿ã€‚ä½†æ˜¯æœ‰ä¸¤ç§ä¸åŒçš„æƒ…å†µ(æ®æˆ‘æœç´¢çš„ç»“æœ)ã€‚</p><ol><li>grub æ–‡ä»¶è¿˜åœ¨ç³»ç»Ÿé‡Œï¼Œä½†æ˜¯å¼•å¯¼è‡³è¯¥æ–‡ä»¶çš„è®¾ç½®å‡ºé”™ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ–‡ä»¶çš„è·¯å¾„ä¸è§äº†ã€‚</li><li>grub çš„æ–‡ä»¶å·²ç»ä¸¢å¤±äº†ï¼Œä¹Ÿå°±æ˜¯ç¡¬ç›˜é‡Œä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶äº†ã€‚</li></ol><h2 id="éªŒè¯æ˜¯å“ªç§æƒ…å†µ"><a href="#éªŒè¯æ˜¯å“ªç§æƒ…å†µ" class="headerlink" title="éªŒè¯æ˜¯å“ªç§æƒ…å†µ"></a>éªŒè¯æ˜¯å“ªç§æƒ…å†µ</h2><p>ä¸‹é¢å‡ æ­¥å³å¯å®Œæˆã€‚</p><ol><li><code>grub rescue&gt;&gt;</code> è¾“å…¥ <code>ls</code> ã€‚å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†å¾ˆå¤š hd*ï¼Œmsdos* ä¹‹ç±»çš„ä¸œè¥¿ï¼Œhd* å°±æ˜¯ç¬¬å‡ å—å­˜å‚¨è®¾å¤‡ï¼Œmsdos*ä¹Ÿå°±æ˜¯åˆ†åŒºã€‚ </li><li>é€šè¿‡  <code>ls (hd*,msdos*)/boot/grub</code> å¯ä»¥æŸ¥çœ‹æ˜¯ä¸æ˜¯grubæ‰€åœ¨çš„åˆ†åŒºä»¥åŠæ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚æ¯”å¦‚æˆ‘æŸ¥çœ‹ hd0ï¼Œmsdos5 é‚£ä¹ˆå‘½ä»¤å°±æ˜¯ <code>ls (hd0,msdos5)/boot/grub</code>ï¼Œè¿™é‡Œæˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰äº›ç›´æ¥è¾“å…¥<code>ls (hd0,msdos5)/grub</code> (grubæ‘†æ”¾çš„ä½ç½®ä¸ä¸€æ ·)ã€‚<ul><li>å¦‚æœç»“æœæ˜¾ç¤º <code>error:unknown filesystem</code> ä»£è¡¨å¹¶ä¸æ˜¯ grub æ‰€åœ¨çš„åˆ†åŒºã€‚</li><li>å¦‚æœç»“æœé‡Œæœ‰<code>i386-pc</code> æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆä»£è¡¨ä½ çš„æ˜¯ç¬¬ä¸€ç§æƒ…å†µã€‚</li><li>å¦‚æœç»“æœé‡Œæ²¡æœ‰é”™è¯¯æç¤ºä½†æ˜¯ä¹Ÿæ²¡æœ‰æ˜¾ç¤º<code>i386-pc</code> æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆä½ çš„æƒ…å†µå°±æ˜¯ç¬¬äºŒç§ï¼ˆæˆ‘çš„æ°å¥½ä¹Ÿå°±æ˜¯ç¬¬äºŒç§ï¼‰ã€‚</li></ul></li></ol><h2 id="è®¾ç½®-grub-è·¯å¾„"><a href="#è®¾ç½®-grub-è·¯å¾„" class="headerlink" title="è®¾ç½® grub è·¯å¾„"></a>è®¾ç½® grub è·¯å¾„</h2><p>æˆ‘ä¸çŸ¥é“ç¬¬äºŒç§æƒ…å†µéœ€ä¸éœ€è¦è¿™æ ·è®¾ç½®ï¼Œç»è¿‡æˆ‘çš„åæ¥æ€è€ƒè§‰å¾—åº”è¯¥ä¸éœ€è¦çš„ï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®è®¾ç½®ä¸€ä¸‹é˜²æ­¢å‡ºé—®é¢˜ã€‚</p><ol><li>åœ¨<code>grub rescue&gt;&gt;</code> è¾“å…¥ <code>set root=(hd*,msdos*)</code> è®¾ç½®æ ¹ç›®å½•ã€‚</li><li>åœ¨<code>grub rescue&gt;&gt;</code> è¾“å…¥ <code>set prefix=(hd*,msdos*)/boot/grub</code> è®¾ç½® grub ç›®å½•ã€‚</li><li>é€šè¿‡åœ¨<code>grub rescue&gt;&gt;</code> è¾“å…¥ <code>set</code>å¯ä»¥çœ‹åˆ°è®¾ç½®çš„ç»“æœã€‚</li></ol><h2 id="ç¬¬ä¸€ç§æƒ…å†µè§£å†³åŠæ³•"><a href="#ç¬¬ä¸€ç§æƒ…å†µè§£å†³åŠæ³•" class="headerlink" title="ç¬¬ä¸€ç§æƒ…å†µè§£å†³åŠæ³•"></a>ç¬¬ä¸€ç§æƒ…å†µè§£å†³åŠæ³•</h2><p>ä¸‹é¢çš„æ­¥éª¤æ˜¯ç½‘ä¸Šæ¬è¿‡æ¥çš„ï¼Œå› ä¸ºæˆ‘ä¸æ˜¯è¿™ä¸ªæƒ…å†µï¼ŒåŸæ–‡è§<a href="https://blog.csdn.net/peerless1994/article/details/52226169">åšå®¢</a></p><ol><li>è¾“å…¥ <code> insmod normal</code> å›è½¦</li><li>è¾“å…¥ <code>normal</code>å›è½¦ å°±èƒ½è¿›å…¥ grub å¼•å¯¼èœå•ç•Œé¢ã€‚</li><li>å¦‚æœä½ èƒ½é€‰æ‹© linux å¹¶å¯åŠ¨é‚£ä¹ˆè·³åˆ°ç¬¬5æ­¥å¦åˆ™ç¬¬4æ­¥ã€‚</li><li>åœ¨ grub ç•Œé¢æŒ‰ä¸‹é”®ç›˜ <code>C</code> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼è¾“å…¥å¦‚ä¸‹å‘½ä»¤ã€‚* å°±æ˜¯ä½ åˆšæ‰¾åˆ°çš„æ­£ç¡®çš„å¼•å¯¼åˆ†åŒºçš„ç›¸å…³åºå·ã€‚<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> root=(hd*,msdos*)<br><span class="hljs-built_in">Set</span> prefix=(hd*,msdos*)<br></code></pre></td></tr></table></figure></li><li>å¯åŠ¨ linux åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œ(å…¶å®æˆ‘æ›´æ¨èä½¿ç”¨ boot-repair æ›´å‚»ç“œï¼Œæ›´å®‰å…¨~ ~)ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo update-grub<br>sudo grub-install /dev/sda (é€šè¿‡ <span class="hljs-built_in">ls</span> /dev/sd* æŸ¥çœ‹ç£ç›˜æƒ…å†µ)<br></code></pre></td></tr></table></figure></li></ol><h2 id="ç¬¬äºŒç§æƒ…å†µè§£å†³åŠæ³•"><a href="#ç¬¬äºŒç§æƒ…å†µè§£å†³åŠæ³•" class="headerlink" title="ç¬¬äºŒç§æƒ…å†µè§£å†³åŠæ³•"></a>ç¬¬äºŒç§æƒ…å†µè§£å†³åŠæ³•</h2><p>å¯¹äºäºŒç§æƒ…å†µç¨æ˜¾å¤æ‚ã€‚éœ€è¦é€šè¿‡ä¸€ä¸ª liveCD æ¥æ‹¯æ•‘ã€‚</p><ol><li>éœ€è¦<br> ç¡¬ä»¶ï¼šä¸€ä¸ªå¯ä»¥ç”¨çš„ç”µè„‘ã€ä¸€ä¸ªUç›˜(ä¼šæ ¼å¼åŒ–æ³¨æ„å¤‡ä»½)ï¼›<br> è½¯ä»¶ï¼šä¸€ä¸ª Ubuntu ç³»ç»Ÿé•œåƒã€UltraISOè½¯ç¢Ÿé€š(äº²æµ‹Uæ·±åº¦ä¸€é”®è£…æœºæ²¡ç”¨)ã€‚ </li><li>æ‰“å¼€è½¯ç¢Ÿé€šèœå•æ â€“&gt;æ–‡ä»¶â€“&gt;æ‰“å¼€ä¸‹è½½æ¥çš„isoé•œåƒã€‚ </li><li>è½¯ç¢Ÿé€šèœå•æ â€“&gt;å¯åŠ¨â€“&gt;å†™å…¥ç¡¬ç›˜é•œåƒï¼Œåœ¨å¼¹å‡ºçš„é€‰é¡¹é‡Œé€‰æ‹©Uç›˜ç„¶åç‚¹å‡»æ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–å®Œæˆä¹‹åç‚¹å‡»å†™å…¥ã€‚ç­‰å¾…å†™å…¥å®Œæˆã€‚ </li><li>æ’å…¥Uç›˜ï¼Œè¿›å…¥ä½ ç”µè„‘çš„ bios ,æˆ‘çš„æ˜¯åœ¨æŒ‰ä¸‹ç”µæºé”®å¯åŠ¨ä¹‹åç‹‚æŒ‰ F2 è¿™é‡Œä½ éœ€è¦ä¸Šç½‘æœä¸€ä¸‹ä½ ç”µè„‘å¯¹åº”çš„æŒ‰é”®æ˜¯å•¥ï¼Œè¿›å»æ—¶å€™æ‰¾åˆ° boot è®¾ç½®å°†Uç›˜åˆ—ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹(è¿™é‡Œå› ç”µè„‘è€Œå¼‚å¸Œæœ›ä½ æœ‰ç‚¹çµæ€§)ï¼Œè¿™é‡Œä¸æ‡‚çš„è¯ä¸Šç½‘æœä¸€ä¸‹æ€ä¹ˆå¼€æœºè¿›å…¥Uå¯åŠ¨ç›˜ã€‚ </li><li>é¡ºåˆ©çš„è¯å°±è¿›å…¥äº†ä¸€ä¸ª linux çš„å®‰è£…ç•Œé¢ã€‚åœ¨å³è¾¹çš„è¯­è¨€åˆ—è¡¨é‡Œæ»‘åˆ°æœ€ä¸‹é¢é€‰æ‹©ä¸­æ–‡ã€‚ç„¶ååœ¨å³è¾¹çš„ä¸¤ä¸ªå¤§å›¾æ ‡é€‰é¡¹é‡Œé€‰æ‹©è¯•ç”¨ Ubuntu ï¼Œè¿™æ ·å°±è¿›å…¥äº†ä¸€ä¸ªçœ‹èµ·æ¥å’Œæ­£å¸¸å®‰è£…æ²¡æœ‰åŒºåˆ«çš„ Ubuntu ç³»ç»Ÿã€‚ </li><li><code>Ctrl+alt+T</code> å‘¼å‡ºç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£… boot-repair å¹¶å¯åŠ¨ã€‚<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs smali">sudo<span class="hljs-built_in"> add-apt-repository </span>ppa:yannubuntu/boot-repair //æ·»åŠ  boot-repair è½¯ä»¶æº<br>sudo apt-get update  //æ›´æ–°è½¯ä»¶åˆ—è¡¨ <br>sudo apt-get install -y boot-repair  //å®‰è£… boot-repair<br>boot-repair //å¯åŠ¨ boot-repair<br></code></pre></td></tr></table></figure></li><li>æŒ‰ç…§æç¤ºå‚»ç“œå¼çš„æ“ä½œå³å¯å®Œæˆä¿®å¤ï¼Œè€å¿ƒç­‰å¾…ã€‚<ul><li>åœ¨è¿‡ç¨‹ä¸­å¦‚æœæç¤ºæŸä¸ªç¡¬ç›˜æ˜¯å¦æ˜¯å¯æ‹†å¸çš„é€‰æ‹©å¦ï¼Œå¦‚æœæ˜¯ç§»åŠ¨ç¡¬ç›˜å°±é€‰æ‹©æ˜¯ã€‚</li><li>ä¿®å¤å®Œæˆä¼šé—®ä½ æ˜¯å¦é€‰æ‹©ç”ŸæˆæŠ¥å‘Šï¼Œç‚¹å‡»æ˜¯ï¼Œç”ŸæˆæŠ¥å‘Šç„¶åç»™ä½ ä¸€ä¸ªç½‘å€ï¼Œå¤åˆ¶ç½‘å€åˆ°æµè§ˆå™¨å³å¯è®¿é—®ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ä½ çš„åˆ†åŒºå’Œå¼•å¯¼ä»¥åŠå¼•å¯¼çš„ç³»ç»Ÿã€‚</li></ul></li><li>å…³é—­è®¡ç®—æœºï¼Œæ‹”æ‰Uç›˜ï¼Œé‡å¯è®¡ç®—æœºå³å¯è¿›å…¥å¼•å¯¼~ ~ã€‚windows å’Œ linux éƒ½å¯ä»¥è¿›å…¥äº†ï¼Œç¾æ»‹æ»‹ã€‚</li><li>å¯åŠ¨ windows å¯èƒ½ä¼šæç¤ºæ˜¯å¦è¦è·³è¿‡ç³»ç»Ÿæ£€æŸ¥ï¼Œè¿™ä¸ªå¾ˆå¿«çš„ï¼Œä¹Ÿå°±20å‡ ç§’å°±å¥½äº†ã€‚</li></ol><h2 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h2><ol><li>æˆ‘è¿™é‡Œå‡ºç°ä¸€ä¸ªæƒ…å†µï¼Œæˆ‘åŸæœ¬çš„é»˜è®¤å¼•å¯¼æ˜¯ç”¨é‚£ç§é»‘ç™½å±çš„å¼•å¯¼ï¼Œç„¶åå¦‚æœç‚¹å‡» Ubuntu ä¼šè·³è½¬åˆ° grub å¼•å¯¼ä½†æ˜¯ç»è¿‡è¿™ä¸ªæ“ä½œä¹‹åï¼Œgrubå˜æˆäº†é»˜è®¤çš„å¼•å¯¼ç‚¹å‡»windowsä¹‹åä¼šè·³åˆ°é»‘ç™½å±çš„å¼•å¯¼ã€‚<br>è§£å†³åŠæ³•ï¼šä¸‹è½½EasyBCDç¼–è¾‘å¼•å¯¼èœå•åˆ é™¤ Ubuntu çš„å¼•å¯¼é€‰é¡¹å°±OKäº†ï¼Œå°±é»˜è®¤ä½¿ç”¨ grub å¼•å¯¼(ä¹‹å‰å°±æƒ³è¿™ä¹ˆææ¥ç€è¯¯æ‰“è¯¯æ’ç¾æ»‹æ»‹)ã€‚</li><li>grubé»˜è®¤çš„ä¸æ˜¯windowså¯åŠ¨ï¼Œé€šè¿‡è¯¥<a href="https://jingyan.baidu.com/article/f71d60379e16021ab641d1ab.html">æ•™ç¨‹</a> å³å¯è°ƒæ•´é»˜è®¤çš„å¯åŠ¨ç³»ç»Ÿï¼Œå¦‚æœé“¾æ¥å¤±æ•ˆæœç´¢ä¸€ä¸‹ grub è°ƒæ•´å¯åŠ¨é¡ºåº~ ~ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>grub</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç§‘å­¦ä¸ŠGoogle</title>
    <link href="/2018/04/22/KeXueShangWangJiaoCheng/"/>
    <url>/2018/04/22/KeXueShangWangJiaoCheng/</url>
    
    <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><ul><li>å¦‚æœä½ åœ¨åœ¨æœç´¢èµ„æ–™æ–¹é¢åœ¨ç™¾åº¦é‡åˆ°äº†å·¨å¤§æŒ«æŠ˜ï¼Œæˆ‘ç›¸ä¿¡googleèƒ½è§£å†³ä½ é—®é¢˜ã€‚</li><li>åœ¨æˆ‘ä¸ªäººçœ‹æ¥ç™¾åº¦é€‚ç”¨äºæ‰¾è´´è¿‘äºç”Ÿæ´»å¸¸è¯†ç®€å•çš„ä¸œè¥¿(å½“ç„¶ä½ å¿…é¡»å…·å¤‡ä¸€å®šçš„è¾¨è¯†èƒ½åŠ›ä¸è¦ç›²ç›®ç›¸ä¿¡ï¼Œè†ç”°ç³»çš„æƒ¨å‰§ä¸æ˜¯ä¸èƒ½é‡æ¼”)ï¼Œå°±è¿™äº›çŸ¥è¯†è€Œè¨€ç›¸å¯¹äºgoogleæ¥è¯´æ˜¯æ¯”è¾ƒå¥½çš„ã€‚</li><li>åœ¨ä¸“ä¸šçš„çŸ¥è¯†æ–¹é¢ç™¾åº¦å¯¹äºgoogleæ¥è¯´å°±æ˜¯ä¸ªå­¤å„¿ã€‚æœç´¢æ¥çš„ä¸œè¥¿è¯ä¸è¾¾æ„ï¼Œèƒ¡æ‰¯ä¸€é€šæˆ–è€…æ ¹æœ¬å°±æ²¡æœ‰ç›¸å…³æœ‰ç”¨çš„ä¸œè¥¿(æœ‰ç”¨çš„æ€•å°±æ˜¯ CSDN äº†å…¶ä»–çš„éƒ½æ˜¯ç‹—å±ä¸é€š)ã€‚ <!---more---></li><li>googleæœç´¢æ¥çš„ï¼ŒåŸºæœ¬å¦‚æœæ˜¯æ•™ç¨‹ï¼Œæ•°æ®æ‰‹å†Œï¼Œä¹¦æœ¬ä»€ä¹ˆçš„å‰4æ¡å°±èƒ½æ‰¾åˆ°ä½ è¦ç»“æœï¼Œå±äºæ¯”è¾ƒä¸“ä¸šçš„ã€‚æˆ‘ç¬¬ä¸€ç”¨googleæœèµ„æ–™æ˜¯å› ä¸ºç™¾åº¦å®åœ¨æ˜¯æ‰¾ä¸åˆ°é‚£ä¸ªèŠ¯ç‰‡çš„æ•°æ®æ‰‹å†Œ(æˆ–è®¸æ˜¯æˆ‘å¤ªèœäº†æ²¡èƒ½æ‹¨å¼€é‚£å±‚å±‚çš„è¿·é›¾)ï¼Œé‚£æ—¶å€™æ”¹ä¸€æ”¹ host è¿˜æ˜¯ä¸Šäº† google çš„ï¼Œä¸€æœç´¢ç¬¬2æ¡å°±æ˜¯è§’æ ‡ä¸€ä¸ªpdfå­—æ ·ï¼Œç›´æ¥ä¸‹è½½å°±æ˜¯æ•°æ®æ‰‹å†Œï¼Œä»é‚£ä»¥åæˆ‘è¶Šå‘çš„è§‰å¾—ç™¾åº¦å°±æ˜¯ä¸ªå‚»é€¼ã€‚</li><li>åæ¥ <a href="https://laod.cn/">è€Dåšå®¢</a> ç»™çš„ host ä¹Ÿæ—¶å¸¸ä¸èƒ½ç”¨ï¼Œä¸è¿‡åæ¥æœ‰å¹¸å…è´¹å¾—äº†ä¸€ä¸ªç»¿çš®è½¦çš„è´¦å·ç¦åˆ©ï¼Œæ»´æ»´æ»´æˆåŠŸä¸Šè½¦ã€‚</li><li>ç”¨äº†æ²¡å¤šä¹…è§‰å¾—ä¹Ÿä¸æ˜¯å¾ˆç¨³å®šï¼Œåæ¥å°±å†³å®šè‡ªå·±å­¦ä¹ æ­ä¸€ä¸‹ç„¶åå°±ä¸Šgoogleæœäº†ä¸€ä¸‹<a href="https://docs.google.com/document/d/1FHdq9srvpYqdcsvKfZnPqZQ1-pRaXeUrfz3mrOf-eeE/edit#">æ­å»ºæ•™ç¨‹(å¢ƒå¤–è®¿é—®)</a>  é€šè¿‡è¿™ä¸ªæ•™ç¨‹ä¹ŸæˆåŠŸçš„è‡ªå·±å¼€äº†è½¦~ï¼Œç„¶ååœ¨è¿™é‡Œè®°ä¸€ä¸‹ã€‚</li><li><a href="http://wenshu.court.gov.cn/content/content?DocID=36f0191f-c617-4796-a271-a85600c6ad27">åˆ˜å†°æ´‹ä¸€å®¡åˆ‘äº‹åˆ¤å†³ä¹¦</a> ç§‘å­¦ä¸Šç½‘èƒ–è™åŠä½ è°¨è¨€æ…è¡Œï¼Œå¤´è„‘æ¸…æ™°ï¼Œé«˜ä¸¾ç¤¾ä¼šä¸»ä¹‰ä¼Ÿå¤§æ——å¸œï¼Œåšå†³æ‹¥æŠ¤ä¸­å›½å…±äº§å…šã€‚</li></ul><h2 id="å…³äºä¸­å›½çš„äº’è”ç½‘"><a href="#å…³äºä¸­å›½çš„äº’è”ç½‘" class="headerlink" title="å…³äºä¸­å›½çš„äº’è”ç½‘"></a>å…³äºä¸­å›½çš„äº’è”ç½‘</h2><p>ç½‘ç»œå®¡æŸ¥åœ¨å„ä¸ªå›½å®¶éƒ½æ™®éå­˜åœ¨ç€ï¼Œå®ƒå¹¶ä¸ä»…å­˜åœ¨äºä¸­å›½ã€‚åœ¨å…¨çƒçš„å±€åŠ¿å¯¹ä¸­å›½éƒ½ä¸åˆ©çš„å½“ä¸‹ï¼Œå½“å±€ä¼šè¿‡æ»¤æ‰å½±å“ã€å±å®³åˆ°ä¸­å›½é•¿è¿œå‘å±•çš„ä¿¡æ¯ï¼Œæ­¤æ—¶å›½å®¶å®‰å…¨çš„æ„ä¹‰æ›´åŠ é‡å¤§ã€‚</p><p>äº’è”ç½‘ä¸Šå­˜åœ¨ç€å¤§é‡ç»ˆç©¶ä¸ç°å®çš„ã€ä¸å®¢è§‚çš„ï¼Œç”šè‡³è‡ªç›¸çŸ›ç›¾çš„æŠ¹é»‘å½“å±€æ”¿åºœè¨€è®ºï¼Œå®ƒä»¬èƒŒåä¸€èˆ¬æœ‰è¥¿æ–¹æ”¿åºœæˆ–éæ”¿åºœç»„ç»‡èµ„é‡‘æ”¯æŒã€‚è¿™äº›åª’ä½“åŒ…æ‹¬ä½†ä¸é™äºä¸€äº›æ¸¯åª’ã€å¢ƒå¤–ç½‘ç«™ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›æ‚¨èƒ½åœ¨é‡åˆ°æ­¤ç±»è¨€è®ºå’Œè§è§£æ—¶ï¼Œä¸è¦ä¸åŠ æ€è€ƒåœ°ã€æƒ…ç»ªä¸€åº¦è¢«ç…½åŠ¨è€Œä¸èƒ½å…‹åˆ¶åœ°ã€ç›²ç›®åœ°ç›¸ä¿¡è¿™äº›ç‰‡é¢æˆ–è€…æ­ªæ›²äº‹å®çš„ä¸œè¥¿ï¼Œè€Œæ˜¯è¦äº‹å®æ±‚æ˜¯åœ°æ€è€ƒï¼Œè¦æ‘†è„±æƒ…ç»ªç»‘æ¶çš„æ€ªè¯æ€ç»´å»ç†è§£ã€‚</p><p>æˆ‘ä»¬éœ€è¦äº†è§£åˆ°ï¼Œä¸­å›½çš„å‘å±•æ€»åŸºè°ƒæ˜¯â€œç¨³ä¸­æ±‚è¿›â€ï¼Œä¸­å›½ç¤¾ä¼šçš„æœ€æ ¸å¿ƒé—®é¢˜å°±æ˜¯ç¨³å®šã€‚å¤±å»ç¨³å®šçš„ä¸­å›½å°†ä¼šæ˜¯ä¸€ç›˜æ•£æ²™ï¼Œé¢ä¸´åˆ†è£‚å’Œè‚¢è§£çš„å±é™©ã€‚æˆ‘ä»¬å¸Œæœ›æ‚¨äº†è§£å½“ä»Šä¸­å›½å‘å±•çš„æ ¹æœ¬ä¿è¯æ˜¯ä»€ä¹ˆï¼Œå‘å±•çš„è¿‡ç¨‹ä¸­å“ªéƒ¨åˆ†æ˜¯ä¸»æ—‹å¾‹ï¼Œå“ªäº›æ˜¯å™ªéŸ³ï¼›å“ªäº›æ˜¯è¿›å–çš„ï¼Œå“ªäº›æ˜¯ä¼šå¼€å†å²å€’è½¦çš„ã€‚æˆ‘ä»¬éœ€è¦ç»´æ–°ï¼Œè€Œä¸æ˜¯é©å‘½ã€‚</p><p>æˆ‘ä»¬åº”è¯¥æ¸…é†’å’Œå…¨é¢åœ°è®¤è¯†é—®é¢˜ï¼Œåä¿¡è¥¿æ–¹åª’ä½“çš„è¨€è®ºã€ç¼ºä¹å¯¹å›½å®¶çš„ä¿¡ä»»æ˜¯ä¸å¯å–çš„ã€‚æ‚¨çš„æ•°æ®å®‰å…¨å’Œéšç§å¯¹æ‚¨å°¤ä¸ºé‡è¦ã€‚è‹¥è¿™äº›ä¿¡æ¯ä¸åº”å½“è¢«è¥¿æ–¹æŒæ¡æ—¶ï¼Œå®ƒå¯¹å›½å®¶å’Œæ°‘æ—çš„å‘½è¿æ›´ä¸ºé‡è¦ã€‚å‡ºäºæ­¤åŸå› ï¼Œå½“å±€å¯èƒ½ä¼šé™åˆ¶æ‚¨çš„è¡Œä¸ºï¼Œæˆ‘ä»¬ä¸ä¼šä¹Ÿæ— æ³•å¹²é¢„å½“å±€çš„ä»»ä½•æ”¿ç­–å’Œå†³å®šã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¸Œæœ›æ‚¨åœ¨ä½¿ç”¨æ­¤æœåŠ¡æ—¶ï¼Œä¸è¦ç›²ç›®åœ°æ”»å‡»å½“å±€çš„åšæ³•ã€‚<br>åŸæ–‡(<a href="https://github.com/racaljk/hosts/wiki/%E5%85%B3%E4%BA%8E%E4%B8%AD%E5%9B%BD%E7%9A%84%E4%BA%92%E8%81%94%E7%BD%91">https://github.com/racaljk/hosts/wiki/å…³äºä¸­å›½çš„äº’è”ç½‘</a>)</p><h2 id="æ­å»ºæ­¥éª¤1-è´­ä¹°vps"><a href="#æ­å»ºæ­¥éª¤1-è´­ä¹°vps" class="headerlink" title="æ­å»ºæ­¥éª¤1 è´­ä¹°vps"></a>æ­å»ºæ­¥éª¤1 è´­ä¹°vps</h2><ol><li>è´­ä¹°ä¸€å° Vultr ä¸»æœºï¼Œä¾¿å®œğŸ˜‰ç¨³å®šğŸ˜‰ã€‚<a href="https://www.vultr.com/?ref=7288720">https://www.vultr.com/?ref=7288720</a>  ç‚¹å‡»è¿™ä¸ªé“¾æ¥å³å¯æ³¨å†Œï¼ˆæ³¨æ„ï¼šå¦‚æœå…³é—­ç½‘é¡µå†ä»å†å²è®°å½•ä¸­æ‰“å¼€åˆ™æ— æ•ˆï¼Œæ‰€ä»¥å¦‚æœä¸å°å¿ƒå…³é—­äº†å¯ä»¥å†ç‚¹å‡»ä¸Šé¢çš„é“¾æ¥æ³¨å†Œï¼‰ï¼Œåœ¨ä½ é€šè¿‡è¿™ä¸ªé“¾æ¥æ³¨å†Œå¹¶åœ¨30å¤©å†…å……å€¼10ç¾å…ƒçš„è¯æˆ‘ä¹Ÿä¼šå¾—10ç¾å…ƒã€‚vultræ”¯æŒæ”¯ä»˜å®æ”¯ä»˜ï¼Œæœ€å°‘é¢é¢æ˜¯10ç¾å…ƒğŸ¤™ ã€‚<br><img src="http://begild-one.top/%E6%B3%A8%E5%86%8C%E7%95%8C%E9%9D%A2.png" alt="æ³¨å†Œç•Œé¢"><br>å¯†ç å¿…é¡»åŒ…å«å¤§å†™å­—æ¯å°å†™å­—æ¯æ•°å­—ï¼Œé•¿åº¦è‡³å°‘10ä½ã€‚æ³¨å†Œå®Œæ¯•å³å¯ç™»å½•ã€‚ç¬¬ä¸€æ¬¡ç™»å½•ä¼šå‘é€ä¸€ä¸ªéªŒè¯é‚®ç®±çš„é‚®ä»¶åˆ°é‚®ç®±ã€‚</li><li>ç™»å½•æˆåŠŸï¼Œç‚¹å‡»åœ¨ä¾§è¾¹æ çš„ Billing ï¼Œåœ¨ä¸»é¡µé¢çš„æ”¯ä»˜é€‰é¡¹é‡Œå¯ä»¥é€‰æ‹©å¤šç§æ–¹å¼ï¼Œåœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨ Alipay æ”¯ä»˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„æ”¯ä»˜å®ã€‚ç‚¹å‡»å³è¾¹ä¼šæœ‰å¿«æ·é‡‘é¢å‡ºç°ï¼Œæœ€å°çš„é¢é¢å°±æ˜¯10ç¾å…ƒï¼Œç‚¹å‡»ä¸‹æ–¹æ”¯ä»˜æŒ‰é’®ä¼šè‡ªåŠ¨ç”Ÿæˆæ”¯æŒäºŒç»´ç ï¼Œæ‰«æå³å¯æ”¯ä»˜ã€‚åˆ°è´¦æœ‰å¯èƒ½æœ‰å»¶è¿Ÿï¼Œç­‰ä¸€ä¸‹å°±å¥½äº†ã€‚åˆ°è´¦ä¹‹åä¼šåœ¨å³ä¸Šè§’å‡ºç°ä½ çš„ä½™é¢ã€‚</li><li>å®Œæˆæ”¯ä»˜ä¹‹åã€‚ç‚¹å‡»åœ¨ä¾§è¾¹æ çš„ Servers ï¼Œé€‰æ‹©æœåŠ¡å™¨åœ¨çš„ä½ç½®(æˆ‘é€‰çš„Miami)ï¼›è¿è¡Œçš„ç³»ç»Ÿ(Debian 7 x64 ä¸è¦é€‰é”™äº†)ï¼›é…ç½®(2.5ç¾å…ƒæ¡£ä½) ï¼›é™„åŠ åŠŸèƒ½å‹¾é€‰ä½¿èƒ½ IPV6ã€‚ç‚¹å‡»æœ€ä¸‹æ–¹çš„ Deploy Now å°±æˆåŠŸè´­ä¹°äº†æœåŠ¡å™¨äº†ã€‚<br>è¿™ä¸ª2.5ç¾å…ƒçš„é…ç½®å±äºæœ€ä½çš„ï¼Œæœ‰å¯èƒ½Maimiä¹°ä¸åˆ°ï¼Œä½ å¾—å°è¯•å°è¯•å…¶ä»–åœ°ç‚¹çœ‹æœ‰æ²¡æœ‰è¯¥é…ç½®ã€‚éƒ½æ²¡æœ‰å°±å°è¯•5ç¾å…ƒçš„å§ã€‚ä»–è¿™ä¸ªæ‰£è´¹å¹¶ä¸æ˜¯ä¸€æ¬¡æ€§æ‰£è´¹ä¸€ä¸ªæœˆï¼Œæ˜¯æŒ‰ç…§ä½¿ç”¨æ—¶é•¿çš„ï¼Œæ¯”å¦‚ä½ å…ˆä¹°äº†5ç¾å…ƒçš„ç”¨äº†1ä¸ªå°æ—¶åå‘ç°å¯ä»¥ä¹°2.5ç¾å…ƒçš„ï¼Œé‚£ä¹ˆä½ æŠŠè¿™ä¸ªæœåŠ¡å™¨é”€æ¯äº†ä»–å°±åªæ‰£è´¹1ä¸ªå°æ—¶çš„é’±ï¼Œè¿™ç‚¹è¿˜æ˜¯æ¯”è¾ƒå¥½çš„ã€‚</li><li>ç‚¹å‡»ä¾§è¾¹çš„ Servers ï¼Œåœ¨ä¸»é¡µé¢å°±ä¼šå‡ºç°ä½ åˆšè´­ä¹°çš„æœåŠ¡å™¨äº†ï¼Œç­‰åˆ°æ˜¾ç¤ºç»¿è‰²çš„ running æ—¶å€™å°±éƒ¨ç½²å®Œæˆäº†ã€‚ç‚¹å‡»ä¸‹å›¾æ‰€æŒ‡çš„Debian OSå›¾æ ‡å³å¯è¿›å…¥æœåŠ¡å™¨çš„è¯¦æƒ…ç•Œé¢ï¼Œã€‚<br><img src="http://begild-one.top/Servers%E7%95%8C%E9%9D%A2.png" alt="Serversç•Œé¢"></li><li>è¯¦æƒ…ç•Œé¢å¯ä»¥çœ‹åˆ°è¯¦ç»†çš„ IPã€ç”¨æˆ·åã€ç™»å½•å¯†ç ã€CPUã€RAMã€ç¡¬ç›˜å¤§å°ã€æµé‡ä½¿ç”¨æƒ…å†µç­‰ç­‰ã€‚æˆ‘ä»¬ä¸»è¦ç”¨åˆ°ç”¨æˆ·åå’Œå¯†ç å¾…ä¼šè¿œç¨‹ç™»å½•éœ€è¦ä½¿ç”¨ã€‚</li></ol><h2 id="æ­å»ºæ­¥éª¤2-è¿œç¨‹ç™»å½•"><a href="#æ­å»ºæ­¥éª¤2-è¿œç¨‹ç™»å½•" class="headerlink" title="æ­å»ºæ­¥éª¤2 è¿œç¨‹ç™»å½•"></a>æ­å»ºæ­¥éª¤2 è¿œç¨‹ç™»å½•</h2><ol><li>ä»»ä½•ä¸€ä¸ªæ”¯æŒè¿œç¨‹çš„å·¥å…·éƒ½å¯ä»¥ï¼Œè¿™é‡Œé€‰æ‹© putty <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">ç‚¹å‡»ä¸‹è½½</a> ä½“ç§¯å¾ˆå°ï¼Œå®‰è£…é€‰é¡¹é»˜è®¤å°±è¡Œäº†ï¼Œä½ç½®éšä¾¿ä½ ã€‚ç„¶åä¼šåœ¨å¼€å§‹èœå•æœ‰ä¸€ä¸ª PuTTY å›¾æ ‡ï¼Œç‚¹å‡»å³å¯æ‰“å¼€ putty<br><img src="http://begild-one.top/putty%E6%B7%BB%E5%8A%A0%E8%BF%9E%E6%8E%A5.png" alt="puttyæ·»åŠ è¿æ¥">  </li><li>åœ¨â‘ å¡«æœåŠ¡å™¨çš„IPã€â‘¡å¡«ä½ æƒ³è¦ä¿å­˜çš„åå­—ï¼Œæ¯”å¦‚ç§‘å­¦ä¸Šç½‘ï¼›ç‚¹å‡»saveä¿å­˜ä¸‹æ¬¡å°±ä¸ç”¨è¾“å…¥äº†ï¼›åŒå‡»å³å¯å¼¹å‡ºç™»å½•çª—å£ã€‚å¯èƒ½ç•Œé¢æ¯”è¾ƒéš¾çœ‹ï¼Œå­—è¿˜å¾ˆå°ï¼Œå°†å°±ä¸€ä¸‹æˆ–è€…è‡ªå·±æ”¹ä¸€ä¸‹ã€‚</li><li>åœ¨å¼¹å‡ºçš„ login as: å¡«å†™ä¸Šé¢æœåŠ¡å™¨è¯¦æƒ…é¡µæ˜¾ç¤ºçš„ Username (é»˜è®¤å°±æ˜¯ root) ï¼Œå¯†ç å¡«ä¸€ä¸‹è¯¦æƒ…é¡µçš„ Password  ç‚¹å‡»è¯¦æƒ…é¡µé‚£é‡Œçš„å¤åˆ¶æŒ‰é’®å³å¯å¤åˆ¶ï¼Œåœ¨ puttyç•Œé¢ å³é”®ä¸€ä¸‹è‡ªåŠ¨ç²˜è´´ï¼Œä¸éœ€è¦ä¸€ä¸ªä¸€ä¸ªè¾“å…¥ï¼Œå¦‚æœå¤±è´¥é‚£å°±æ˜¯ä½ æ“ä½œæœ‰é—®é¢˜ï¼Œå®åœ¨ä¸è¡Œè€è€å®å®çš„è¾“ï¼Œä¸è¿‡è¿™é‡Œæ˜¯çœ‹ä¸åˆ°ä»»ä½•çš„å¯†ç æç¤ºçš„è¿ * éƒ½æ²¡æœ‰ã€‚</li><li>ç™»å½•æˆåŠŸå³æ˜¾ç¤ºå‡ºlinuxç»ˆç«¯çš„æ ·å¼ <code>root@vultr:~#</code> ã€‚</li></ol><h2 id="æ­å»ºæ­¥éª¤3-åˆ·å…¥Shadowsocks"><a href="#æ­å»ºæ­¥éª¤3-åˆ·å…¥Shadowsocks" class="headerlink" title="æ­å»ºæ­¥éª¤3 åˆ·å…¥Shadowsocks"></a>æ­å»ºæ­¥éª¤3 åˆ·å…¥Shadowsocks</h2><ol><li>ç¬¬ä¸€æ®µä»£ç ï¼Œä¸‹è½½ä¸€é”®å®‰è£…è„šæœ¬ã€‚ç›´æ¥å¤åˆ¶åˆ° putty é‡Œï¼Œå³é”®ç›´æ¥ç²˜è´´ï¼Œåå›è½¦è¿è¡Œå³å¯ï¼Œ<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">wget --<span class="hljs-keyword">no</span>-check-certificate -O shadowsocks-<span class="hljs-keyword">all</span>.<span class="hljs-keyword">sh</span> https://raw.githubusercontent.<span class="hljs-keyword">com</span>/teddysun/shadowsocks_install/master/shadowsocks-<span class="hljs-keyword">all</span>.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure>ç»“æœå±•ç¤ºï¼š<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Resolving</span> raw.githubusercontent.com (raw.githubusercontent.com)... <span class="hljs-number">151.101.4.133</span><br><span class="hljs-attribute">Connecting</span> to raw.githubusercontent.com (raw.githubusercontent.com)|<span class="hljs-number">151.101.4.133</span>|:<span class="hljs-number">443</span>... connected.<br><span class="hljs-attribute">HTTP</span> request sent, awaiting response... <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Length</span>: <span class="hljs-number">44802</span> (<span class="hljs-number">44</span>K)<span class="hljs-meta"> [text/plain]</span><br><span class="hljs-attribute">Saving</span> to: `shadowsocks-<span class="hljs-literal">all</span>.sh&#x27;<br><br><span class="hljs-attribute">100</span>%[======================================&gt;] <span class="hljs-number">44</span>,<span class="hljs-number">802</span>      --.-K/s   in <span class="hljs-number">0</span>.<span class="hljs-number">002</span>s<br><br><span class="hljs-attribute">2018</span>-<span class="hljs-number">04</span>-<span class="hljs-number">22</span> <span class="hljs-number">13</span>:<span class="hljs-number">43</span>:<span class="hljs-number">08</span> (<span class="hljs-number">17</span>.<span class="hljs-number">3</span> MB/s) - `shadowsocks-<span class="hljs-literal">all</span>.sh&#x27; saved<span class="hljs-meta"> [44802/44802]</span><br></code></pre></td></tr></table></figure></li><li>ç¬¬äºŒæ®µä»£ç å¦‚ä¸‹ï¼Œèµ‹äºˆä¸‹è½½æ¥çš„è„šæœ¬æ‰§è¡Œæƒé™ã€‚åŒæ ·å¤åˆ¶å³é”®ç²˜è´´åˆ° putty å›è½¦è¿è¡Œã€‚æ²¡æœ‰ä»»ä½•æŠ¥é”™å³å¯ã€‚<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">chmod +<span class="hljs-keyword">x</span> shadowsocks-<span class="hljs-keyword">all</span>.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure></li><li>ç¬¬ä¸‰æ®µä»£ç å¦‚ä¸‹ï¼Œæ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬(æ„Ÿè°¢ <a href="https://teddysun.com/">ç§‹æ°´é€¸å†°</a> æä¾›)ã€‚<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">./shadowsocks-<span class="hljs-keyword">all</span>.<span class="hljs-keyword">sh</span> <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> | tee shadowsocks-<span class="hljs-keyword">all</span>.<span class="hljs-built_in">log</span><br></code></pre></td></tr></table></figure></li><li>æ‰§è¡Œçš„é€‰æ‹©è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ å·²ç»æ ‡æ³¨äº†éœ€è¦æ³¨æ„çš„ç‚¹å’Œæ³¨é‡Š:<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs vhdl">Which Shadowsocks server you<span class="hljs-symbol">&#x27;d</span> <span class="hljs-keyword">select</span>:<br><span class="hljs-number">1</span>) Shadowsocks-Python<br><span class="hljs-number">2</span>) ShadowsocksR<br><span class="hljs-number">3</span>) Shadowsocks-Go<br><span class="hljs-number">4</span>) Shadowsocks-libev<br>Please enter a number (<span class="hljs-keyword">Default</span> Shadowsocks-Python):<span class="hljs-number">2</span> (é€‰æ‹© ShadowsocksR)<br><br>You choose = ShadowsocksR<br><br>Please enter password <span class="hljs-keyword">for</span> ShadowsocksR<br>(<span class="hljs-keyword">Default</span> password: teddysun.com):ï¼ˆå¯†ç ï¼‰<br><br>password = ***<br><br>Please enter a <span class="hljs-keyword">port</span> <span class="hljs-keyword">for</span> ShadowsocksR [<span class="hljs-number">1</span>-<span class="hljs-number">65535</span>]<br>(<span class="hljs-keyword">Default</span> <span class="hljs-keyword">port</span>: <span class="hljs-number">9555</span>):ï¼ˆç«¯å£ï¼‰<br><br><span class="hljs-keyword">port</span> = ***<br><br>Please <span class="hljs-keyword">select</span> stream cipher <span class="hljs-keyword">for</span> ShadowsocksR:<br><span class="hljs-number">1</span>) none<br><span class="hljs-number">2</span>) aes-<span class="hljs-number">256</span>-cfb<br><span class="hljs-number">3</span>) aes-<span class="hljs-number">192</span>-cfb<br><span class="hljs-number">4</span>) aes-<span class="hljs-number">128</span>-cfb<br><span class="hljs-number">5</span>) aes-<span class="hljs-number">256</span>-cfb8<br><span class="hljs-number">6</span>) aes-<span class="hljs-number">192</span>-cfb8<br><span class="hljs-number">7</span>) aes-<span class="hljs-number">128</span>-cfb8<br><span class="hljs-number">8</span>) aes-<span class="hljs-number">256</span>-ctr<br><span class="hljs-number">9</span>) aes-<span class="hljs-number">192</span>-ctr<br><span class="hljs-number">10</span>) aes-<span class="hljs-number">128</span>-ctr<br><span class="hljs-number">11</span>) chacha20-ietf<br><span class="hljs-number">12</span>) chacha20<br><span class="hljs-number">13</span>) salsa20<br><span class="hljs-number">14</span>) xchacha20<br><span class="hljs-number">15</span>) xsalsa20<br><span class="hljs-number">16</span>) rc4-md5<br>Which cipher you<span class="hljs-symbol">&#x27;d</span> <span class="hljs-keyword">select</span>(<span class="hljs-keyword">Default</span>: aes-<span class="hljs-number">256</span>-cfb):<span class="hljs-number">12</span><br>ï¼ˆé€‰æ‹©chacha20 rc4-md5é€Ÿåº¦è¾ƒå¿«ä¸è¿‡ç›¸å¯¹äºaeså®‰å…¨æ€§ä¸é«˜ï¼Œchacha20æ•ˆç‡æ¯”aesé«˜åŠ å¯†æ€§ç›¸å½“ï¼‰<br>cipher = chacha20<br><br><br>Please <span class="hljs-keyword">select</span> protocol <span class="hljs-keyword">for</span> ShadowsocksR:<br><span class="hljs-number">1</span>) origin<br><span class="hljs-number">2</span>) verify_deflate<br><span class="hljs-number">3</span>) auth_sha1_v4<br><span class="hljs-number">4</span>) auth_sha1_v4_compatible<br><span class="hljs-number">5</span>) auth_aes128_md5<br><span class="hljs-number">6</span>) auth_aes128_sha1<br><span class="hljs-number">7</span>) auth_chain_a<br><span class="hljs-number">8</span>) auth_chain_b<br><span class="hljs-number">9</span>) auth_chain_c<br><span class="hljs-number">10</span>) auth_chain_d<br><span class="hljs-number">11</span>) auth_chain_e<br><span class="hljs-number">12</span>) auth_chain_f<br>Which protocol you<span class="hljs-symbol">&#x27;d</span> <span class="hljs-keyword">select</span>(<span class="hljs-keyword">Default</span>: origin):<span class="hljs-number">3</span><br> (ä½¿ç”¨ auth_sha1_v4 åè®® è¾ƒé«˜å®‰å…¨æ€§ï¼Œæ··æ·†å¼ºåº¦å¤§)<br>protocol = auth_sha1_v4<br><br>Please <span class="hljs-keyword">select</span> obfs <span class="hljs-keyword">for</span> ShadowsocksR:<br><span class="hljs-number">1</span>) plain<br><span class="hljs-number">2</span>) http_simple<br><span class="hljs-number">3</span>) http_simple_compatible<br><span class="hljs-number">4</span>) http_post<br><span class="hljs-number">5</span>) http_post_compatible<br><span class="hljs-number">6</span>) tls1.<span class="hljs-number">2_</span>ticket_auth<br><span class="hljs-number">7</span>) tls1.<span class="hljs-number">2_</span>ticket_auth_compatible<br><span class="hljs-number">8</span>) tls1.<span class="hljs-number">2_</span>ticket_fastauth<br><span class="hljs-number">9</span>) tls1.<span class="hljs-number">2_</span>ticket_fastauth_compatible<br>Which obfs you<span class="hljs-symbol">&#x27;d</span> <span class="hljs-keyword">select</span>(<span class="hljs-keyword">Default</span>: plain):<span class="hljs-number">2</span><br>(æ··æ·†é‡‡ç”¨ http_simple)<br>obfs = http_simple<br><br>Press any key <span class="hljs-keyword">to</span> start...<span class="hljs-keyword">or</span> Press Ctrl+C <span class="hljs-keyword">to</span> cancel  (æŒ‰ä¸‹ä»»æ„é”®å¼€å§‹åˆ·å…¥ ctrl+C å–æ¶ˆ)                               <br></code></pre></td></tr></table></figure></li><li>æ‰§è¡ŒæˆåŠŸç»“æŸä¼šå§ä½ æ•´ä¸ª Shadowsocks çš„é…ç½®æ‰“å°å‡ºæ¥ï¼Œå¤§è‡´å¦‚ä¸‹ï¼Œå°†è¿™æ®µä¸œè¥¿å¤åˆ¶ç²˜è´´åœ¨è®°äº‹æœ¬é‡Œå¤‡ä»½ä¸€ä¸‹å…å¾—ä»¥åå¿˜äº†ã€‚<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs markdown">Starting ShadowsocksR success<br><br>Congratulations, ShadowsocksR server install completed!<br>Your Server IP        :  <span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>* ï¼ˆæœåŠ¡å™¨IPï¼‰<br>Your Server Port      :  <span class="hljs-strong">****</span>*         ï¼ˆæœåŠ¡ç«¯å£ï¼‰<br>Your Password         :  <span class="hljs-strong">****</span><span class="hljs-strong">****</span>*     ï¼ˆä½¿ç”¨çš„å¯†ç ï¼‰<br>Your Protocol         :  auth<span class="hljs-emphasis">_sha1_</span>v4  ï¼ˆä½¿ç”¨çš„åè®®ï¼‰<br>Your obfs             :  http<span class="hljs-emphasis">_simple   ï¼ˆæ··æ·†åè®®ï¼‰</span><br><span class="hljs-emphasis">Your Encryption Method:  chacha20      ï¼ˆåŠ å¯†æ–¹å¼ï¼‰</span><br><span class="hljs-emphasis"></span><br><span class="hljs-emphasis">Your QR Code: (For ShadowsocksR Windows, Android clients only)</span><br><span class="hljs-emphasis"> ss://<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>**</span><br><span class="hljs-emphasis"> (SSé…ç½®ä¿¡æ¯ä»£ç ï¼Œå¤åˆ¶åˆ°å°é£æœºå³é”®å‰ªåˆ‡æ¿æ‰¹é‡å¯¼å…¥)</span><br><span class="hljs-emphasis">Your QR Code has been saved as a PNG file path:</span><br><span class="hljs-emphasis"> /root/shadowsocks_</span>r<span class="hljs-emphasis">_qr.png</span><br><span class="hljs-emphasis"> (SSé…ç½®ä¿¡æ¯äºŒç»´ç )</span><br><span class="hljs-emphasis">Welcome to visit: https://teddysun.com/486.html</span><br><span class="hljs-emphasis">Enjoy it!</span><br></code></pre></td></tr></table></figure></li><li>æœ¬åœ° SSR å®¢æˆ·ç«¯çš„é…ç½®ï¼Œ<a href="https://softs.fun/?dir=%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/PC/Shadowsocks/Windows/ShadowsocksR">ä¸‹è½½åœ°å€</a>ã€‚<ol><li>ä¸‹è½½å®Œæˆä¹‹åï¼Œè§£å‹åˆ°ä½ æƒ³æ”¾ç½®çš„æ–‡ä»¶å¤¹ä¸‹å°±å¥½äº†ã€‚ä¼šæœ‰ä¸¤ä¸ªå¯åŠ¨ç¨‹åº 2.0 å’Œ 4.0ï¼Œåˆ†åˆ«æ˜¯ä¾èµ–äº NET Framework v2.0 å’Œ v4.0 ï¼ŒåŠŸèƒ½æ— åŒºåˆ«éšä¾¿æ‰“å¼€ä¸€ä¸ªå°±OKã€‚</li><li>æ‰“å¼€åœ¨ä»»åŠ¡æ ä¼šæœ‰å°é£æœºå›¾æ ‡æ˜¾ç¤ºã€‚è¿™æ—¶å€™å¤åˆ¶ä¸Šé¢æœåŠ¡å™¨è¾“å‡ºçš„ SSR é…ç½®ä¿¡æ¯ä»£ç ï¼Œä¹Ÿå°±æ˜¯<code>ssr://******</code> é‚£ä¸€å¤§ä¸²ï¼Œå…¨éƒ¨å¤åˆ¶ã€‚åœ¨å°é£æœºä¸Šå³é”®å¼¹å‡ºçš„èœå•é‡Œæ‰¾åˆ° <code>å‰ªåˆ‡æ¿æ‰¹é‡å¯¼å…¥ssr://åœ°å€...</code> é€‰é¡¹ï¼Œç‚¹å‡»è¯¥é€‰é¡¹å³å®Œæˆå¯¼å…¥é…ç½®ã€‚</li><li>è¿™æ—¶å€™çš„é…ç½®å¤§è‡´å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æ··æ·†å‚æ•°ã€å¤‡æ³¨å’Œç¾¤ç»„éƒ½æ˜¯ç©ºçš„ã€‚æ··æ·†æ–¹å¼é€‰æ‹©çš„æ˜¯ http_simple çš„è¯ï¼Œå‚æ•°é‡Œå°±å¡«ä½ è¦ä¼ªè£…çš„åŸŸåï¼Œä¹Ÿå°±æ˜¯ä½ çš„æµé‡ä¼šè¢«ä¼ªè£…æˆå‘ä½ å¡«å†™çš„åŸŸåè¯·æ±‚çš„æµé‡ï¼Œå‡å°‘è¢«æ£€æµ‹çš„é£é™©ï¼Œæˆ‘å¡«çš„æ˜¯<code>cdn.4g.play.cn,4gmv.music.189.cn,dl.music.189.cn</code>ã€‚å¤‡æ³¨å’Œç¾¤ç»„å°±ä¸å¤šè¯´äº†å°±æ˜¯ä¸€äº›æ–¹ä¾¿åˆ†ç±»è®°å¿†çš„ä¿¡æ¯(æ¯•ç«Ÿæœ‰äº›äººæœ‰å¾ˆå¤šè½¦)ã€‚å¡«å†™å®Œæˆä½ çš„æ•´ä¸ª <code>ssr://</code> ä¹Ÿä¼šæ”¹å˜ï¼Œä»¥ååˆ†äº«ç»™åˆ«äººå°±ç›´æ¥å¤åˆ¶è¿™ä¸ª ssrä»£ç ï¼Œåˆ«äººè´´ä¸Šå»æ˜¯å’Œä½ çš„ä¸€æ¨¡ä¸€æ ·çš„ã€‚<br><img src="http://begild-one.top/SSR%E5%AF%BC%E5%85%A5%E9%85%8D%E7%BD%AE.png" alt="SSRå¯¼å…¥é…ç½®"></li></ol></li><li>è¿™æ ·å°±å®Œæˆäº†æ­å»ºã€‚è®¿é—® <a href="https://www.google.com/ncr">Google</a> è¯•ä¸€ä¸‹ï¼Œæ²¡é—®é¢˜çš„è¯ç­‰ä¸‹å°±åŠ è½½å‡ºæ¥äº†ã€‚</li></ol><h2 id="æ­å»ºæ­¥éª¤4-åˆ·å…¥é”é€Ÿè¿›è¡Œæé€Ÿ"><a href="#æ­å»ºæ­¥éª¤4-åˆ·å…¥é”é€Ÿè¿›è¡Œæé€Ÿ" class="headerlink" title="æ­å»ºæ­¥éª¤4 åˆ·å…¥é”é€Ÿè¿›è¡Œæé€Ÿ"></a>æ­å»ºæ­¥éª¤4 åˆ·å…¥é”é€Ÿè¿›è¡Œæé€Ÿ</h2><p>é¦–å…ˆä½ å¯ä»¥å°è¯•è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™ã€‚é‚£ä¹ˆä½ å¾ˆå¹¸è¿ä¸ç”¨æ‰§è¡Œä¸‹é¢å¤æ‚çš„æ“ä½œã€‚å¦‚æœæœ‰æŠ¥é”™ä¸æ”¯æŒä½ çš„å†…æ ¸é‚£ä¹ˆä½ å°±å¾—éœ€è¦æ‰§è¡Œåç»­çš„æ­¥éª¤ã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">wget -<span class="hljs-keyword">N</span> --<span class="hljs-keyword">no</span>-check-certificate https://raw.githubusercontent.<span class="hljs-keyword">com</span>/<span class="hljs-number">91</span>yun/serverspeeder/master/serverspeeder.<span class="hljs-keyword">sh</span> &amp;&amp; bash serverspeeder.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure><p>é”™è¯¯ä¿¡æ¯å¤§è‡´å¦‚ä¸‹:</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">===============System Info=======================<br>Debian<br>3.2.0-5-amd64<br><span class="hljs-section">x64</span><br><span class="hljs-section">=================================================</span><br>å·´æ‹‰å·´æ‹‰ã€‚ã€‚ã€‚<br>2018-04-22 15:05:11 (21.0 MB/s) - <span class="hljs-string">`serverspeederbin.txt&#x27;</span> saved [96179/96179]<br><br>&gt;&gt;&gt;This kernel is not supported. Trying fuzzy matching...<br><br>Serverspeeder is not supported on this kernel! View all supported systems and kernels here: https://www.91yun.org/serverspeeder91yun<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç æ‰§è¡Œå‡ºé—®é¢˜å‚ç…§ä¸‹é¢æ­¥éª¤è§£å†³ã€‚</p><ol><li>é”é€Ÿå¹¶ä¸æ˜¯æ”¯æŒæ‰€æœ‰çš„å†…æ ¸ï¼Œæ”¯æŒåˆ—è¡¨è§ <a href="https://www.91yun.co/serverspeeder91yun">é”é€Ÿæ”¯æŒå†…æ ¸åˆ—è¡¨</a> è¯¥åˆ—è¡¨é‡Œæ‰¾åˆ° Debian7 x64 éƒ¨åˆ†çš„å†…æ ¸åˆ—è¡¨å¤§è‡´å¦‚ä¸‹ï¼Œè¯¥åˆ—è¡¨ä»…ä¾›å‚è€ƒï¼Œå…·ä½“çš„åˆ°ä¸Šé¢çš„é“¾æ¥å†…æ ¸æ”¯æŒåˆ—è¡¨é‡ŒæŸ¥çœ‹ï¼š<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">12</span>-<span class="hljs-number">1</span>-amd64/x64/<span class="hljs-number">3.10.54.8</span>/<span class="hljs-number">0</span>/serverspeeder_2483<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">12</span>-<span class="hljs-number">1</span>-amd64/x64/<span class="hljs-number">3.10.61.0</span>/<span class="hljs-number">0</span>/serverspeeder_2609<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64/x64/<span class="hljs-number">3.10.39.8</span>/<span class="hljs-number">0</span>/serverspeeder_2010<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64/x64/<span class="hljs-number">3.10.53.0</span>/<span class="hljs-number">0</span>/serverspeeder_2323<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64/x64/<span class="hljs-number">3.10.54.8</span>/<span class="hljs-number">0</span>/serverspeeder_2466<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64/x64/<span class="hljs-number">3.10.61.0</span>/<span class="hljs-number">0</span>/serverspeeder_2626<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64/x64/<span class="hljs-number">3.9.10.41</span>/<span class="hljs-number">0</span>/serverspeeder_1662<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">32</span>/x64/<span class="hljs-number">3.10.45.0</span>/<span class="hljs-number">0</span>/serverspeeder_2154<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">32</span>/x64/<span class="hljs-number">3.10.53.0</span>/<span class="hljs-number">0</span>/serverspeeder_2289<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">32</span>/x64/<span class="hljs-number">3.10.54.8</span>/<span class="hljs-number">0</span>/serverspeeder_2443<br><span class="hljs-attribute">Debian</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">32</span>/x64/<span class="hljs-number">3.10.61.0</span>/<span class="hljs-number">0</span>/serverspeeder_2599<br></code></pre></td></tr></table></figure></li><li>æ‰§è¡Œå¦‚ä¸‹ä»£ç æŸ¥çœ‹æœåŠ¡å™¨çš„å†…æ ¸åˆ—è¡¨ ã€‚<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">dpkg</span> -l|grep linux-image | awk <span class="hljs-string">&#x27;&#123;print <span class="hljs-variable">$2</span>&#125;&#x27;</span><br></code></pre></td></tr></table></figure>æˆ‘çš„ç»“æœå¦‚ä¸‹ï¼š<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">root</span>@vultr:~# dpkg -l|grep linux-image | awk &#x27;&#123;print $<span class="hljs-number">2</span>&#125;&#x27;<br><span class="hljs-attribute">linux</span>-image-<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64<br><span class="hljs-attribute">linux</span>-image-<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">5</span>-amd64<br><span class="hljs-attribute">linux</span>-image-amd64<br></code></pre></td></tr></table></figure></li><li>é”é€Ÿæ”¯æŒçš„å†…æ ¸åˆ—è¡¨é‡Œæœ‰3.2.0-4 æ‰€ä»¥æˆ‘è¿™é‡Œç›´æ¥æ‰¾åˆ°å¯¹åº”çš„é“¾æ¥å°±è¡Œäº†ï¼Œæˆ‘é€‰äº†ä¸ªé”é€Ÿç‰ˆæœ¬æœ€é«˜çš„ 3.10.61.0 ã€‚å¦‚æœä½ çš„å†…æ ¸åˆ—è¡¨é‡Œæ²¡æœ‰ä¸é”é€Ÿæ‰€æ”¯æŒçš„å†…æ ¸æ‰€åŒ¹é…çš„é¡¹ï¼Œé‚£ä½ å°±éœ€è¦åˆ·å…¥ä¸€ä¸ªåŒ¹é…çš„å†…æ ¸ã€‚ (å†…æ ¸é—®é¢˜å‚ç…§äº<a href="https://www.nbmao.com/archives/3036">ç¬¨çŒ«åšå®¢</a>)<br>3.1 æ·»åŠ è½¯ä»¶åŒ…æºå¹¶æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ã€‚<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs swift">echo <span class="hljs-operator">-</span>e <span class="hljs-string">&quot;<span class="hljs-subst">\n</span>deb http://ftp.debian.org/debian/ wheezy-backports main&quot;</span> <span class="hljs-operator">&gt;&gt;</span> <span class="hljs-regexp">/etc/</span>apt<span class="hljs-operator">/</span>sources.list<br>apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> update<br></code></pre></td></tr></table></figure>3.2 æŸ¥çœ‹æ‰€æœ‰çš„å†…æ ¸åˆ—è¡¨<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs subunit">root@vultr:~# aptitude search linux-image | awk &#x27;&#123;print $2&#125;&#x27;<br>ç»“æœå¦‚ä¸‹ï¼š<br>linux-image<br>linux-image<span class="hljs-string">-2</span>.6-amd64<br>linux-image<span class="hljs-string">-3</span>.16.0<span class="hljs-string">-0</span>.bpo.4-amd6<br>linux-image<span class="hljs-string">-3</span>.16.0<span class="hljs-string">-0</span>.bpo.4-amd6<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-4</span>-amd64<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-4</span>-amd64-dbg<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-4</span>-rt-amd64<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-4</span>-rt-amd64-db<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-5</span>-amd64<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-5</span>-amd64-dbg<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-5</span>-rt-amd64<br>linux-image<span class="hljs-string">-3</span>.2.0<span class="hljs-string">-5</span>-rt-amd64-db<br>linux-image-amd64<br>linux-image-amd64-dbg<br>linux-image-rt-amd64<br></code></pre></td></tr></table></figure>3.3 é€‰æ‹© linux-image-3.2.0-4-amd64 è¿›è¡Œå®‰è£…,è¿™ä¸ªä¼šä¸‹è½½å‡ ç™¾Mçš„æ–‡ä»¶ï¼Œè€å¿ƒç­‰å¾…ã€‚<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">apt</span>-get -t wheezy-backports install linux-image-<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64 -y<br></code></pre></td></tr></table></figure>3.4 ä¸‹è½½å®‰è£…å®Œæˆä¹‹åå†æŸ¥çœ‹ä¸€ä¸‹æœåŠ¡å™¨çš„å†…æ ¸åˆ—è¡¨ï¼Œæœ‰ linux-image-3.2.0-4-amd64 å°±OKäº†ã€‚</li><li>å¸è½½å…¶ä»–çš„å†…æ ¸ç‰ˆæœ¬ã€‚æ¯”å¦‚æˆ‘çš„å°±å¸è½½ <code>linux-image-3.2.0-5-amd64</code>å’Œ <code>linux-image-amd64</code> ä¸¤ä¸ªã€‚<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">apt-<span class="hljs-built_in">get</span> purge å…¶ä½™å†…æ ¸åç§°<br></code></pre></td></tr></table></figure>å¸è½½çš„æ—¶å€™ä¼šå¼¹å‡ºä¸€ä¸ªé€‰æ‹©æ¡†ï¼Œè¯¥æ¡†æ˜¯è®©ä½ é€‰æ‹©æ˜¯å¦ä¸­æ–­ç§»é™¤ã€‚ä¸€å®šè¦é€‰æ‹©å³è¾¹çš„å–æ¶ˆï¼ï¼ï¼ã€‚å¦‚æœå‡ºç°å¸è½½æç¤ºäº’æ–¥ dkbg è¢«å ç”¨ä¹‹ç±»çš„,é‡å¯ä¸€ä¸‹æœåŠ¡å™¨(reboot å‘½ä»¤)é‡è¿ putty å†æ‰§è¡Œå°±OKäº†ã€‚</li><li>æ›´æ–° grub ç³»ç»Ÿå¼•å¯¼æ–‡ä»¶å¹¶é‡å¯(ä¼šæ–­å¼€putty)<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">root</span>@vultr:~# update-grub &amp;&amp; reboot<br><span class="hljs-attribute">Generating</span> grub.cfg ...<br><span class="hljs-attribute">Found</span> linux image: /boot/vmlinuz-<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64<br><span class="hljs-attribute">Found</span> initrd image: /boot/initrd.img-<span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64<br><span class="hljs-attribute">done</span><br><br><span class="hljs-attribute">Broadcast</span> message from root@vultr.guest (pts/<span class="hljs-number">0</span>) (Sun Apr <span class="hljs-number">22</span> <span class="hljs-number">16</span>:<span class="hljs-number">14</span>:<span class="hljs-number">40</span> <span class="hljs-number">2018</span>):<br><span class="hljs-attribute">The</span> system is going down for reboot NOW!<br></code></pre></td></tr></table></figure></li><li>å½“è§£å†³äº†å†…æ ¸çš„é—®é¢˜ä¹‹åå°±åˆ°äº†å®‰è£…äº†ã€‚å› ä¸ºç»è¿‡ä¸Šè¿°æ­¥éª¤ä¹‹åå†…æ ¸å·²ç»å˜æ›´ä¸º <code>linux-image-3.2.0-4-amd64</code> æ‰€ä»¥æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†ã€‚å¦‚æœæ˜¯å…¶ä»–ç‰ˆæœ¬çš„å†…æ ¸è¯·ç‚¹å‡» <a href="https://www.91yun.co/serverspeeder91yun">é”é€Ÿæ”¯æŒå†…æ ¸åˆ—è¡¨</a> æ‰¾åˆ°å¯¹åº”é¡¹ç‚¹å‡»è¿›å»è·å–ä½ çš„æ‰§è¡Œä»£ç ã€‚<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">wget</span> -N --no-check-certificate https://github.com/<span class="hljs-number">91</span>yun/serverspeeder/raw/master/serverspeeder-v.sh &amp;&amp; bash serverspeeder-v.sh Debian <span class="hljs-number">7</span> <span class="hljs-number">3</span>.<span class="hljs-number">2</span>.<span class="hljs-number">0</span>-<span class="hljs-number">4</span>-amd64 x64 <span class="hljs-number">3.10.61.0</span> serverspeeder_2626<br></code></pre></td></tr></table></figure>å®‰è£…è¿‡ç¨‹å¦‚ä¸‹:<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">ä¸Šæ¥wgetå‘½ä»¤çš„è¾“å‡º<br>===============System Info=======================<br>Debian<br>3.2.0-4-amd64<br><span class="hljs-section">x64</span><br><span class="hljs-section">=================================================</span><br><br><br>installing ServerSpeeder, please wait for a moment...<br><br><br><span class="hljs-meta">[Running Status]</span><br>ServerSpeeder is running!<br>version              3.10.61.0<br><br><span class="hljs-meta">[License Information]</span><br>License              <span class="hljs-strong">*****</span> (valid on current device)<br>MaxSession           unlimited<br>MaxTcpAccSession     unlimited<br>MaxBandwidth(kbps)   unlimited<br>ExpireDate           2034-12-31<br><br><span class="hljs-meta">[Connection Information]</span><br>TotalFlow            1<br>NumOfTcpFlows        1<br>TotalAccTcpFlow      0<br>TotalActiveTcpFlow   0<br><br><span class="hljs-meta">[Running Configuration]</span><br>accif                eth0<br>acc                  1<br>advacc               1<br>advinacc             1<br>wankbps              10000000<br>waninkbps            10000000<br>csvmode              0<br>subnetAcc            0<br>maxmode              1<br>pcapEnable           0<br></code></pre></td></tr></table></figure></li></ol><h2 id="æ­å»ºæ­¥éª¤5-åˆ·å…¥-Finalspeed-åŠ é€Ÿ"><a href="#æ­å»ºæ­¥éª¤5-åˆ·å…¥-Finalspeed-åŠ é€Ÿ" class="headerlink" title="æ­å»ºæ­¥éª¤5 åˆ·å…¥ Finalspeed åŠ é€Ÿ"></a>æ­å»ºæ­¥éª¤5 åˆ·å…¥ Finalspeed åŠ é€Ÿ</h2><p>FinalSpeed æ ¹æ®ç”¨æˆ·è®¾å®šçš„ç½‘ç»œå¸¦å®½çœç•¥äº†ç¡®è®¤çš„æ­¥éª¤æˆ–æ˜¯å»¶é•¿äº†ç¡®è®¤çš„é—´éš”ï¼ŒæœåŠ¡å™¨æŒ‰ç…§ç”¨æˆ·è®¾å®šçš„é€Ÿç‡æŒç»­é«˜é€Ÿå‘åŒ…ï¼Œæ‰€ä»¥å¯ä»¥è¾¾åˆ°æ›´é«˜çš„é€Ÿåº¦ã€‚ä¸è¿‡ç°åœ¨æ”¹ä¸ºæ”¶è´¹ä½¿ç”¨äº†åå­—ä¹Ÿæ”¹ä¸º tcpspeed æƒ³è¦æ”¯æŒä¸€ä¸‹ä½œè€…ä½¿ç”¨æ”¶è´¹ç‰ˆæœ¬çš„è¯·ç‚¹å‡» <a href="http://www.tcpspeed.com/">http://www.tcpspeed.com/</a> ï¼Œçœé’±å°±ä½¿ç”¨æ—§ç‰ˆæœ¬çš„(ä½œè€…å·²ç»åˆ é™¤)ã€‚91yun forkäº†ä¸€ä»½å¹¶åˆ¶ä½œäº†ä¸€é”®å®‰è£…åŒ…ï¼Œ<a href="https://github.com/91yun/finalspeed">é¡¹ç›®åœ°å€</a></p><ol><li><p>ä¸€é”®å®‰è£… FinalSpeed ,å®‰è£…å®Œæˆæ— æŠ¥é”™å³åœ¨è¿è¡Œã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">wget -<span class="hljs-keyword">N</span> --<span class="hljs-keyword">no</span>-check-certificate https://raw.githubusercontent.<span class="hljs-keyword">com</span>/<span class="hljs-number">91</span>yun/finalspeed/master/install_fs.<span class="hljs-keyword">sh</span> &amp;&amp; bash install_fs.<span class="hljs-keyword">sh</span><br></code></pre></td></tr></table></figure></li><li><p>å®‰è£… FinalSpeed å®¢æˆ·ç«¯<br>  FinalSpeed æ˜¯åŒè¾¹åŠ é€Ÿï¼Œæ‰€ä»¥å®¢æˆ·ç«¯è¿™è¾¹ä¹Ÿéœ€è¦ä¸€ä¸ª FinalSpeed å®¢æˆ·ç«¯é…åˆä½¿ç”¨ã€‚<a href="https://raw.githubusercontent.com/RangiLyu/finalspeed/master/finalspeed_install1.0.exe">ä¸‹è½½åœ°å€</a> ä¸‹è½½ä¸‹æ¥å®‰è£…å°±è¡Œï¼Œå®ƒéœ€è¦ä½¿ç”¨ winpcap å¦‚æœæ²¡æœ‰å®‰è£…ä¼šæç¤ºä½ å®‰è£…çš„æ ¹æ®éœ€è¦é€‰æ‹©æ˜¯å¦å¼€æœºè‡ªå¯ winpcap ï¼Œå‰©ä¸‹çš„ä¸€è·¯ next å®Œæˆå°±è¡Œäº†ã€‚</p></li><li><p>é…ç½® FinalSpeed å®¢æˆ·ç«¯</p><ol><li>åœ¨åœ°å€æ å¡«ä¸ŠæœåŠ¡å™¨çš„ IP åœ°å€ã€è®¾ç½®å¸¦å®½è®¾ç½®ä½ æœåŠ¡å™¨çš„å¸¦å®½ï¼Œå› ä¸ºæµ‹è¯•è¿‡æˆ‘çš„ä¸‹è½½å¤§æ¦‚èƒ½åˆ°3000å¤šKb&#x2F;sï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œè®¾ç½®çš„ä¸‹è¡Œå¸¦å®½30Mï¼Œä¸Šè¡Œå¸¦å®½20M(çè®¾çš„)ã€‚</li><li>ç‚¹å‡»å³ä¸‹çš„æ·»åŠ æŒ‰é’®ï¼Œå¼¹å‡ºçš„å¢åŠ æ˜ å°„çª—å£ã€‚åœ¨åç§°ç¼–è¾‘æ¡†å¡«å…¥ä½ æƒ³è¦çš„æè¿°ã€åŠ é€Ÿç«¯å£å¡«ä½ å®‰è£… SSR æ—¶å€™å†™çš„ç«¯å£ã€æœ¬åœ°ç«¯å£éšä¾¿å¡«ä¸€ä¸ªï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥å’Œä½ çš„ SSR å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ç”¨çš„ã€‚å¡«å†™å®Œæˆè‡ªåŠ¨ç”Ÿæ•ˆçš„ï¼Œå…³é—­çª—å£å°±OKäº†ã€‚<br><img src="http://begild-one.top/FinalSpeed%E8%AE%BE%E7%BD%AE%E7%95%8C%E9%9D%A2.png" alt="FinalSpeedé…ç½®"></li><li>é…ç½® SSR å®¢æˆ·ç«¯ï¼Œç»è¿‡ä¸Šé¢ SSR çš„å¯¼å…¥å’Œé…ç½®å·²ç»å¯ä»¥æˆåŠŸ Googleäº†ã€‚<br>1.åŒå‡»ä»»åŠ¡æ å°é£æœºå›¾æ ‡å”¤å‡ºé…ç½®çª—å£ï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„<code>æ·»åŠ </code>æŒ‰é’®å¯ä»¥å¤åˆ¶ä¸€ä»½ä¸€åˆšåˆšå¯¼å…¥çš„æœåŠ¡å™¨é…ç½®ä¿¡æ¯ã€‚<ol start="2"><li>åœ¨å³è¾¹çš„é…ç½®æ æœåŠ¡å™¨IPè¿™é‡Œå‹¾é€‰æ˜¾ç¤ºå¹¶æ”¹ä¸º<code>127.0.0.1</code> ä¹Ÿå°±æ˜¯æœ¬åœ°å›ç¯åœ°å€ã€‚</li><li>æœåŠ¡å™¨ç«¯å£å¡«å†™ä¸ºä½ åˆšåˆšé…ç½® FinalSpeed çš„æœ¬åœ°ç«¯å£(è¿™é‡Œ FinalSpeed ç›¸å½“äºæ˜¯ SSR çš„æœåŠ¡å™¨)ã€‚</li><li>å…¶ä»–çš„é‡è¦ä¿¡æ¯ä¸è¦æ”¹ï¼Œå¤‡æ³¨å’Œç¾¤ç»„æ”¹ä¸€äº›æ–¹ä¾¿è¯†åˆ«ã€‚</li></ol></li><li>è¿™æ ·å°±å®Œæˆäº† FinalSpeed å’Œ SSR çš„è”åˆé…ç½®ï¼Œä¸Šç½‘æ„Ÿè§‰å¯èƒ½ä¸æ˜æ˜¾ã€‚ä½†æ˜¯çœ‹è§†é¢‘ä»€ä¹ˆçš„å°±èƒ½çœ‹å‡ºå·®è·äº†ã€‚æ²¡è£… FinalSpeed åªèƒ½çœ‹ 480P è£…äº†ä¹‹åï¼Œ1080P æ— å‹åŠ›ã€‚</li></ol></li></ol><h2 id="SSR-å®¢æˆ·ç«¯çš„ä½¿ç”¨"><a href="#SSR-å®¢æˆ·ç«¯çš„ä½¿ç”¨" class="headerlink" title="SSR å®¢æˆ·ç«¯çš„ä½¿ç”¨"></a>SSR å®¢æˆ·ç«¯çš„ä½¿ç”¨</h2><p>SSR å®¢æˆ·ç«¯ä»»åŠ¡æ å›¾æ ‡å³é”®åŒ…å«äº†æ•´ä¸ªè½¯ä»¶çš„è®¾ç½®ã€‚</p><ol><li>å³é”®â€“&gt;é€‰é¡¹è®¾ç½®â€“&gt;å³ä¸Šè§’å¯ä»¥è®¾ç½®å¼€æœºå¯åŠ¨ã€‚</li><li>å³é”®â€“&gt;ç³»ç»Ÿä»£ç†æ¨¡å¼ é€‰æ‹©å„ç§ä¸åŒçš„ä»£ç†æ¨¡å¼ï¼ŒIEä»£ç†ï¼Œç›´è¿ï¼ŒPACå’Œå…¨å±€ï¼ŒPACæŒ‡çš„æ˜¯æ ¹æ® PAC åˆ—è¡¨é€‰æ‹©æ˜¯å¦é€šè¿‡ SSR è®¿é—®ã€‚å…¨å±€å°±æ˜¯æ‰€æœ‰è®¿é—®å‡é€šè¿‡ SSRã€‚æˆ‘ä»¬é€‰æ‹© PAC æ¨¡å¼é…åˆ PAC æ–‡ä»¶è¿›è¡Œä½¿ç”¨ã€‚å…¨å±€çš„è¯æµé‡è¾ƒé«˜å¹¶ä¸”å›½å†…çš„è®¿é—®ç”¨ä»£ç†åè€Œæ›´æ…¢ã€‚</li><li>å³é”®â€“&gt;PAC å¯ä»¥çœ‹åˆ°PACçš„å„ç§é…ç½®ï¼Œè¿™é‡Œç»™ä¸€ä¸ª PAC æ–‡ä»¶çš„URL <a href="https://softs.fun/Other/pac.txt">https://softs.fun/Other/pac.txt</a> ç‚¹å‡» PAC çš„é…ç½®é‡Œç¼–è¾‘æœ¬åœ° PAC æ–‡ä»¶ï¼Œå°†ä¸Šè¿°ç½‘é¡µé‡Œçš„å†…å®¹å…¨é€‰æ‹·è´åˆ°æ”¹æ–‡ä»¶é‡Œè¦†ç›–ä¿å­˜å³å¯ã€‚</li><li>å³é”®â€“&gt;ä»£ç†è§„åˆ™ ä½¿ç”¨ç»•è¿‡å±€åŸŸç½‘å’Œå¤§é™†ã€‚æ•´ä¸ªè¿‡ç¨‹é¦–å…ˆé€šè¿‡åŸŸåå’Œ PAC åˆ—è¡¨é‡ŒåŒ¹é…æ˜¯å¦éœ€è¦ SS Rï¼Œå¦‚æœéœ€è¦ SSR çš„è¯å†é€šè¿‡ä»£ç†è§„åˆ™åˆ¤æ–­è¯¥ IP æ˜¯å¦éœ€è¦ä»£ç†ï¼Œå¦‚æœéœ€è¦çš„è¯æœåŠ¡å™¨æœ€ç»ˆè¿›è¡Œä»£ç†ã€‚</li><li>å³é”®â€“&gt;æœåŠ¡å™¨ é€‰æ‹©ä½ è¦çš„æœåŠ¡å™¨ã€‚æŒ‰ç…§ç¾¤ç»„å’Œå¤‡æ³¨æ¥åŒºåˆ† é»˜è®¤æ˜¯empty-groupã€‚è¯¥è®¾ç½®è‡ªåŠ¨ä¿å­˜ï¼Œä¸‹æ¬¡æ‰“å¼€è‡ªåŠ¨ä½¿ç”¨ã€‚</li><li>å…¶ä»–çš„è‡ªå·±ç¢ç£¨å§ã€‚å¯ä»¥çœ‹ä¸‹<a href="https://doub.io/ss-jc10/">è¿™ä¸ª</a></li></ol><h2 id="ç›¸å…³çš„ä¸€äº›æŒ‡ä»¤"><a href="#ç›¸å…³çš„ä¸€äº›æŒ‡ä»¤" class="headerlink" title="ç›¸å…³çš„ä¸€äº›æŒ‡ä»¤"></a>ç›¸å…³çš„ä¸€äº›æŒ‡ä»¤</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs swift"><span class="hljs-type">SSR</span> é…ç½®    vi <span class="hljs-regexp">/etc/</span>shadowsocks<span class="hljs-operator">-</span>r<span class="hljs-operator">/</span>config.jsonï¼ˆä¿®æ”¹åéœ€è¦é‡å¯<span class="hljs-type">SSï¼‰</span><br><span class="hljs-type">SSR</span> é‡å¯   <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">init</span>.d<span class="hljs-operator">/</span>shadowsocks<span class="hljs-operator">-</span>r restart<br><span class="hljs-type">SSR</span> çŠ¶æ€    <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">init</span>.d<span class="hljs-operator">/</span>shadowsocks<span class="hljs-operator">-</span>r status<br><span class="hljs-type">SSR</span> å¸è½½   <span class="hljs-operator">./</span>shadowsocks<span class="hljs-operator">-</span>all.sh uninstall<br>é”é€Ÿ çŠ¶æ€  service serverSpeeder status<br>é”é€Ÿ æµé‡é€Ÿåº¦  service serverSpeeder stats<br>é”é€Ÿ å¸è½½    chattr <span class="hljs-operator">-</span>i <span class="hljs-regexp">/serverspeeder/</span>etc<span class="hljs-regexp">/apx* &amp;&amp; /</span>serverspeeder<span class="hljs-regexp">/bin/</span>serverSpeeder.sh uninstall <span class="hljs-operator">-</span>f<br><span class="hljs-type">Finalspeed</span> å¯åŠ¨    <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">init</span>.d<span class="hljs-operator">/</span>finalspeed start<br><span class="hljs-type">Finalspeed</span> åœæ­¢  <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">init</span>.d<span class="hljs-operator">/</span>finalspeed stop<br><span class="hljs-type">Finalspeed</span> çŠ¶æ€   <span class="hljs-regexp">/etc/</span><span class="hljs-keyword">init</span>.d<span class="hljs-operator">/</span>finalspeed status<br><span class="hljs-type">Finalspeed</span> å¸è½½   bash install_fs.sh uninstall<br></code></pre></td></tr></table></figure><p>å¦‚æœé‡åˆ° é”é€Ÿçš„çŠ¶æ€æŸ¥çœ‹ æç¤º â€œbc not foundâ€ æ‰§è¡Œ <code>apt-get install bc</code> å³å¯ã€‚</p><h2 id="å†™åœ¨åé¢"><a href="#å†™åœ¨åé¢" class="headerlink" title="å†™åœ¨åé¢"></a>å†™åœ¨åé¢</h2><p><img src="http://begild-one.top/%E5%A4%A9%E5%AE%89%E9%97%A8.png" alt="å¤©å®‰é—¨"></p>]]></content>
    
    
    
    <tags>
      
      <tag>ç§‘å­¦ä¸Šç½‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxå­ç³»ç»Ÿå›¾å½¢ç•Œé¢</title>
    <link href="/2018/04/19/Linux-Subsystem-Gui/"/>
    <url>/2018/04/19/Linux-Subsystem-Gui/</url>
    
    <content type="html"><![CDATA[<p>æå®ŒWindowsä¸‹Linuxä¸‹å­ç³»ç»Ÿçš„å¯ç”¨ï¼Œå¯ä»¥ç”¨å‘½ä»¤è¡Œè¿›è¡Œä½¿ç”¨ä½†æ˜¯å´æ˜¯ä¸€ä¸ªå®Œå…¨æ²¡æœ‰ç•Œé¢çš„ç³»ç»Ÿã€‚è¿™æ ·æ€ä¹ˆèƒ½æ‹¼è¿‡è™šæ‹Ÿæœºå‘¢å¯¹å§ã€‚æ‰€ä»¥ï¼šå›¾å½¢ç•Œé¢å¯åŠ¨ï¼ã€‚<!---more---></p><h2 id="Windows-X-Server"><a href="#Windows-X-Server" class="headerlink" title="Windows X Server"></a>Windows X Server</h2><ol><li>ä¸‹è½½ VcXsrv <a href="https://sourceforge.net/projects/vcxsrv/files/latest/download">https://sourceforge.net/projects/vcxsrv/files/latest/download</a> ç”¨è¿…é›·ä¸‹ä¼šå¿«ä¸€äº›ğŸ‘€ã€‚</li><li>è¿è¡Œä¸‹è½½ä¸‹æ¥çš„ VcXsrv å®‰è£…ç¨‹åºï¼Œå®‰è£…ä½ç½®è‡ªå·±é€‰ï¼Œå¼€å¿ƒå°±å¥½ã€‚</li><li>å®‰è£…å®Œæˆä¹‹åä¼šæœ‰ä¸¤ä¸ªè½¯ä»¶å¯åŠ¨æ–¹å¼ï¼Œé€‰æ‹©ç”¨ XLaunch å¯åŠ¨ï¼Œåœ¨å¯åŠ¨ç•Œé¢é€‰æ‹© One large windows æ–¹å¼ï¼Œæ˜¾ç¤ºå™¨ç¼–å·ï¼š0ï¼Œæ¥ä¸‹æ¥ä¸€è·¯ Next åˆ°å®Œæˆç»“æŸã€‚ç„¶åä¼šå‡ºç°ä¸€ä¸ªé»‘é»‘çš„ç•Œé¢ã€‚<br><img src="http://begild-one.top/XLunch%E5%90%AF%E5%8A%A8%E8%AE%BE%E7%BD%AE.png" alt="XLunchå¯åŠ¨è®¾ç½®"></li></ol><h2 id="Ubuntuçš„æ¡Œé¢è½¯ä»¶å®‰è£…"><a href="#Ubuntuçš„æ¡Œé¢è½¯ä»¶å®‰è£…" class="headerlink" title="Ubuntuçš„æ¡Œé¢è½¯ä»¶å®‰è£…"></a>Ubuntuçš„æ¡Œé¢è½¯ä»¶å®‰è£…</h2><ol><li>å®‰è£… Ubuntu æ¡Œé¢è½¯ä»¶ï¼Œunityï¼Œcompizé…ç½®è½¯ä»¶,ä¸‹è½½çš„è½¯ä»¶å¾ˆå¤§ã€‚å¤§æ¦‚éœ€è¦2.5ä¸ªGçš„ç©ºé—´ï¼Œè€å¿ƒç­‰å¾…(æˆ‘å¤§æ¦‚ç”¨äº†15åˆ†é’Ÿå·¦å³æ‰è£…å¥½)ã€‚<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> install ubuntu-desktop unity compizconfig-settings-manager<br></code></pre></td></tr></table></figure></li></ol><h2 id="Ubuntuçš„æ¡Œé¢çš„é…ç½®"><a href="#Ubuntuçš„æ¡Œé¢çš„é…ç½®" class="headerlink" title="Ubuntuçš„æ¡Œé¢çš„é…ç½®"></a>Ubuntuçš„æ¡Œé¢çš„é…ç½®</h2><ol><li><p>è®¾ç½®æ˜¾ç¤ºå™¨ ;</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">export</span>  <span class="hljs-attribute">DISPLAY</span>=localhost:0<br></code></pre></td></tr></table></figure></li><li><p>è®¾ç½®æ¡Œé¢å‚æ•°,å‹¾é€‰äº†Ubuntu Unity Plugin å’Œ Window Management ä¸‹çš„ Place Windowé€‰é¡¹ï¼Œå…¶ä»–çš„æ ¹æ®è‡ªå·±éœ€è¦ä¿®æ”¹ã€‚è®¾ç½®å®Œæ¯•ä¹‹åå…³é—­å³å¯;</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">ccsm</span><br></code></pre></td></tr></table></figure><p><img src="http://begild-one.top/ccsm%E8%AE%BE%E7%BD%AE.png" alt="ccsmè®¾ç½®"></p></li><li><p>å±•ç¤ºæ¡Œé¢ï¼Œè¿è¡Œä¸‹é¢æŒ‡ä»¤ã€‚å°±å¯ä»¥åœ¨ä¸Šé¢è¯´çš„é»‘é»‘çš„ç•Œé¢ä¸Šç»˜å‡ºæ¡Œé¢äº†ã€‚çœ‹èµ·æ¥æ˜¯ä¸æ˜¯æ¯«æ— è¿å’Œæ„Ÿ23333ã€‚</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">compiz</span><br></code></pre></td></tr></table></figure><p> <img src="http://begild-one.top/Ubuntu%E6%A1%8C%E9%9D%A2.png" alt="Ubuntuæ¡Œé¢"></p></li><li><p>åšä¸€ä¸ªè„šæœ¬ä¾¿äºè®¾ç½®å’Œå¯åŠ¨æ¡Œé¢ã€‚æ–°å»ºä¸€ä¸ªè„šæœ¬æ”¾åœ¨æ ¹ç›®å½• <code>cd / &amp;&amp; sudo vi vcxsrv.sh</code> å°†ä¸‹é¢çš„ä»£ç ç²˜è´´åˆ° vcxsrv.sh é‡Œï¼Œå†èµ‹äºˆæ‰§è¡Œæƒé™ <code>chmod +x vcxsrv.sh</code> ã€‚æ¯æ¬¡å…ˆç”¨æ§åˆ¶å°è¿›å…¥ bash è¿è¡Œè„šæœ¬å°±OKäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#! /bin/sh</span><br><span class="hljs-built_in">export</span>  DISPLAY=localhost:0 <span class="hljs-comment">#è®¾ç½®æ˜¾ç¤ºå±</span><br>compiz<br></code></pre></td></tr></table></figure></li></ol><h2 id="å†…å­˜å ç”¨"><a href="#å†…å­˜å ç”¨" class="headerlink" title="å†…å­˜å ç”¨"></a>å†…å­˜å ç”¨</h2><p>ç»è¿‡å®æµ‹,8Gå†…å­˜ï¼Œå³ä½¿å¼€å¯å›¾å½¢ç•Œé¢ä¹‹åå†…å­˜å ç”¨æå‡ä»…ä»…æ¥è¿‘500M(31%â€“&gt;37%)ï¼Œå¯¹æ¯”è™šæ‹Ÿæœº(èµ·ç åˆ†é…2Gå†…å­˜)å°‘çš„å°±ä¸æ­¢ä¸€ç‚¹åŠç‚¹äº†å¥½å§ã€‚ç¡®å®æ˜¯æŒ‡çš„é¼“æ£çš„ä¸œè¥¿ã€‚</p><h2 id="å·²çŸ¥çš„ä¸€äº›é—®é¢˜"><a href="#å·²çŸ¥çš„ä¸€äº›é—®é¢˜" class="headerlink" title="å·²çŸ¥çš„ä¸€äº›é—®é¢˜"></a>å·²çŸ¥çš„ä¸€äº›é—®é¢˜</h2><ol><li>é”®ç›˜çš„ä¸Šä¸‹å·¦å³é”®å€¼ä¼šè¢«è¯†åˆ«ä¸ºæ•°å­—8246ï¼Œå¹¶ä¸”å¾ˆé¬¼ç•œçš„è¯†åˆ«ä¸ºé•¿æŒ‰ğŸ¤•ï¼ŒçŒœæµ‹åŸå› ï¼šç³»ç»Ÿé»˜è®¤ä¸å¼€å¯æ•°å­—é”®ç›˜,å¯¼è‡´è¯†åˆ«é”™è¯¯ä½†æ˜¯è¯†åˆ«ä¸ºé•¿æŒ‰æ˜¯ä»€ä¹ˆé¬¼å˜›ã€‚è¿™ä¸€ç‚¹å¾ˆè›‹ç–¼ã€‚</li><li>åˆšå¯åŠ¨æ¡Œé¢ï¼Œæ¡Œé¢é¼ æ ‡ä¸å¯è§æˆ–è€…ä¼šå˜æˆ Ã— å·ï¼Œè§£å†³åŠæ³•ï¼šæ‰“å¼€ä¸€ä¸ªåº”ç”¨ç¨‹åº(éç»ˆç«¯)åæ­£å¸¸ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linuxå­ç³»ç»Ÿå›¾å½¢ç•Œé¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cmder æ›´å¥½çš„é€‰æ‹©</title>
    <link href="/2018/04/19/CMD-replace-for-Cmder/"/>
    <url>/2018/04/19/CMD-replace-for-Cmder/</url>
    
    <content type="html"><![CDATA[<h6 id="å°±å¦‚åŒå°é¢ä¸€æ ·ï¼ŒCmder-çœ‹ç€å°±ä»¤äººèµå¿ƒæ‚¦ç›®ã€‚å¾®è½¯è‡ªå¸¦-CMD-å°±ä¸è°ˆäº†å¥½å§ï¼Œä¸è¿‡Windowsæœ¬èº«å°±ä¸æ˜¯æ“…é•¿ç”¨æ§åˆ¶å°å’Œç”¨æˆ·æ‰“äº¤é“çš„ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™æ ·ä¹Ÿæ— å¯åšéå§ã€‚ä¸è¿‡ç°åœ¨æœ‰äº†æ›´å¥½çš„é€‰æ‹©ï¼šCmderã€‚"><a href="#å°±å¦‚åŒå°é¢ä¸€æ ·ï¼ŒCmder-çœ‹ç€å°±ä»¤äººèµå¿ƒæ‚¦ç›®ã€‚å¾®è½¯è‡ªå¸¦-CMD-å°±ä¸è°ˆäº†å¥½å§ï¼Œä¸è¿‡Windowsæœ¬èº«å°±ä¸æ˜¯æ“…é•¿ç”¨æ§åˆ¶å°å’Œç”¨æˆ·æ‰“äº¤é“çš„ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™æ ·ä¹Ÿæ— å¯åšéå§ã€‚ä¸è¿‡ç°åœ¨æœ‰äº†æ›´å¥½çš„é€‰æ‹©ï¼šCmderã€‚" class="headerlink" title="å°±å¦‚åŒå°é¢ä¸€æ ·ï¼ŒCmder çœ‹ç€å°±ä»¤äººèµå¿ƒæ‚¦ç›®ã€‚å¾®è½¯è‡ªå¸¦ CMD å°±ä¸è°ˆäº†å¥½å§ï¼Œä¸è¿‡Windowsæœ¬èº«å°±ä¸æ˜¯æ“…é•¿ç”¨æ§åˆ¶å°å’Œç”¨æˆ·æ‰“äº¤é“çš„ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™æ ·ä¹Ÿæ— å¯åšéå§ã€‚ä¸è¿‡ç°åœ¨æœ‰äº†æ›´å¥½çš„é€‰æ‹©ï¼šCmderã€‚"></a>å°±å¦‚åŒå°é¢ä¸€æ ·ï¼ŒCmder çœ‹ç€å°±ä»¤äººèµå¿ƒæ‚¦ç›®ã€‚å¾®è½¯è‡ªå¸¦ CMD å°±ä¸è°ˆäº†å¥½å§ï¼Œä¸è¿‡Windowsæœ¬èº«å°±ä¸æ˜¯æ“…é•¿ç”¨æ§åˆ¶å°å’Œç”¨æˆ·æ‰“äº¤é“çš„ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™æ ·ä¹Ÿæ— å¯åšéå§ã€‚ä¸è¿‡ç°åœ¨æœ‰äº†æ›´å¥½çš„é€‰æ‹©ï¼šCmderã€‚<!----more----></h6><h2 id="Cmderå®‰è£…"><a href="#Cmderå®‰è£…" class="headerlink" title="Cmderå®‰è£…"></a>Cmderå®‰è£…</h2><ul><li><p>è¿™æ˜¯<a href="http://cmder.net/">Cmder</a>å®˜ç½‘ï¼ŒCmderä½ å¯ä»¥é€‰æ‹©ä¸¤ç§ç‰ˆæœ¬ï¼ŒMiniå’ŒFull è¿™ä¿©çš„åŒºåˆ«æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œçœ‹ç½‘ä¸Šè¯´çš„ä¹Ÿæ²¡æœ‰ä»€ä¹ˆè¯´æœåŠ›ğŸ¤”ã€‚æˆ‘ä¸‹è½½Fullç‰ˆæœ¬(zip100M)ã€‚<a href="https://github.com/cmderdev/cmder/releases/">ä¸‹è½½åœ°å€</a></p></li><li><p>ä¸‹è½½å®Œæ¯•ä¹‹åç›´æ¥è§£å‹åˆ°ä½ å–œæ¬¢çš„ç›®å½•ä¸‹é¢å°± OK äº†(è‡ªå·±å»ºä¸€ä¸ªæ ¹ç›®å½•å•Šä»–è‡ªå·±æ²¡æœ‰å¤–å°æ ¹ç›®å½•çš„ğŸ˜…)ï¼Œç‚¹å‡»è½¯ä»¶æ ¹ç›®å½•ä¸‹é¢çš„â€™Cmder.exeâ€™å³å¯å¯åŠ¨ Cmder è½¯ä»¶ã€‚</p><p><img src="http://begild-one.top/cmder%E5%88%9D%E5%A7%8B%E6%89%93%E5%BC%80%E5%9B%BE.png" alt="cmderåˆå§‹æ‰“å¼€å›¾"></p></li></ul><h2 id="æ·»åŠ -Cmder-ç¯å¢ƒå˜é‡"><a href="#æ·»åŠ -Cmder-ç¯å¢ƒå˜é‡" class="headerlink" title="æ·»åŠ  Cmder ç¯å¢ƒå˜é‡"></a>æ·»åŠ  Cmder ç¯å¢ƒå˜é‡</h2><ol><li><p>æ“ä½œæµç¨‹ï¼šæ­¤ç”µè„‘â€”&gt;å³é”®â€”&gt;å±æ€§(æ§åˆ¶é¢æ¿\æ‰€æœ‰æ§åˆ¶é¢æ¿é¡¹\ç³»ç»Ÿ)â€”&gt;ä¾§è¾¹æ é«˜çº§ç³»ç»Ÿè®¾ç½®â€”&gt;å³ä¸‹è§’ç¯å¢ƒå˜é‡ï¼›</p></li><li><p>æ ¹æ®ä½ çš„éœ€è¦ï¼Œæ˜¯ä½œä¸ºæœ¬ç”¨æˆ·ä½¿ç”¨è¿˜æ˜¯ä½œä¸ºå…¨å±€å…¶ä»–ç”¨æˆ·ä¹Ÿèƒ½ä½¿ç”¨é€‰æ‹©æ·»åŠ ä¸ºç”¨æˆ·å˜é‡è¿˜æ˜¯ç³»ç»Ÿå˜é‡ã€‚æ‰¾åˆ°<code>Path</code>å˜é‡æ¡ã€‚<br>  a. åŒå‡»ï¼Œåœ¨å¼¹å‡ºæ¥çš„ç¼–è¾‘çª—å£é€‰æ‹©æ–°å»ºæŒ‰é’®ï¼Œç„¶åè¾“å…¥ â€˜Cmder.exeâ€™ æ‰€åœ¨çš„è·¯å¾„ï¼›<br>  b. å¦‚æœæ˜¯win7è²Œä¼¼æ˜¯ç›´æ¥ç¼–è¾‘æ–‡æœ¬çš„å§,é‚£å°±ç›´æ¥åœ¨æœ€åé¢æ·»åŠ <code>;Cmder.exe æ‰€åœ¨çš„è·¯å¾„</code> æˆ‘æŠŠ Cmder  å®‰è£…åœ¨ <code>D:\cmder\</code> ä¸‹ï¼Œç»“åˆèµ·æ¥å°±æ˜¯<code>;D:\cmder\</code>ã€‚åˆ‡è®°åˆ†å·ä¸èƒ½å°‘ğŸ™‚ã€‚<br>  <img src="http://begild-one.top/%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fcmder.png" alt="æ·»åŠ ç¯å¢ƒå˜é‡cmder"></p></li></ol><h2 id="æ·»åŠ å³é”®-Cmder-Here"><a href="#æ·»åŠ å³é”®-Cmder-Here" class="headerlink" title="æ·»åŠ å³é”® Cmder Here"></a>æ·»åŠ å³é”® Cmder Here</h2><p>è¿™ä¸ªæ˜¯æ–¹ä¾¿æˆ‘ä»¬åœ¨ä»»ä½•æ–‡ä»¶å¤¹ç›´æ¥æ‰“å¼€ Cmder ã€‚</p><ol><li>ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œç³»ç»Ÿè‡ªå¸¦çš„ CMDï¼Œè¿è¡Œå‘½ä»¤ï¼š<code>Cmder.exe /REGISTER ALL</code> (æ²¡æœ‰æŠ¥é”™)ã€‚</li><li>ä»»æ„ Cmder çª—å£â€”&gt;æ ‡é¢˜æ â€”&gt;å³é”®â€”&gt;Settingsâ€¦â€”&gt;Startupâ€”&gt;Task ;</li><li>ä¾æ¬¡ç‚¹å‡»å‘½ä»¤ç»„ä¸‹æ‰€æœ‰çš„å‘½ä»¤ä»»åŠ¡åœ¨å³ä¸‹æ–¹çš„ç¼–è¾‘æ¡†åé¢åŠ <code> -new_console</code>  (å‰å¯¼ç©ºæ ¼åˆ«å¿˜äº†) ;</li><li>å…³é—­è®¾ç½®çª—å£~ï¼Œè®¾ç½®å®Œæ¯•ã€‚åœ¨ä»»æ„ç›®å½•ä¸‹å³é”®å³å¯çœ‹åˆ° Cmder Here  å­—æ ·çš„èœå•ã€‚<br><img src="http://begild-one.top/cmder%20here%E8%AE%BE%E7%BD%AE.png" alt="Cmder Hereè®¾ç½®"></li></ol><h2 id="è‡ªå®šä¹‰ç»ˆç«¯ç¬¦å·"><a href="#è‡ªå®šä¹‰ç»ˆç«¯ç¬¦å·" class="headerlink" title="è‡ªå®šä¹‰ç»ˆç«¯ç¬¦å·"></a>è‡ªå®šä¹‰ç»ˆç«¯ç¬¦å·</h2><p>è¿™æ˜¯ä¸ªèŠ±é‡Œèƒ¡å“¨çš„æ“ä½œğŸ˜¬ã€‚åˆ†ä¸ºä¸¤ä¸ª:  powershell å’Œ cmd .</p><ol><li>ä¿®æ”¹ cmd çš„æç¤ºç¬¦ï¼šç”¨æ–‡æœ¬ç¼–è¾‘è½¯ä»¶æ‰“å¼€ è½¯ä»¶æ ¹ç›®å½•\vendor\clink.lua æ–‡ä»¶ï¼Œ<ul><li>æ‰¾åˆ°å¤§æ¦‚47è¡Œå·¦å³ï¼Œä¸¤å¥è¯ <code> lambda = &quot;Î»&quot;</code> å’Œ  <code>lambda = &quot;(&quot;..env..&quot;) Î»&quot;</code></li><li>æ›¿æ¢ Î» ä¸ºä½ å–œæ¬¢çš„ï¼Œæˆ‘æ›¿æ¢æˆ áƒ¦ (å¯ä»¥ç”¨æœç‹—ç‰¹æ®Šå­—ç¬¦æ‰¾ä¸€ä¸‹è‡ªå·±å–œæ¬¢çš„ğŸ˜¹)ã€‚</li></ul></li><li>ä¿®æ”¹ powershell  çš„æç¤ºç¬¦ï¼šæ‰“å¼€ clink.luaåŒçº§ç›®å½•ä¸‹çš„profile.ps1 æ–‡ä»¶ã€‚<ul><li>æ‰¾åˆ°å¤§æ¦‚121è¡Œï¼ŒUtility\Write-Host â€œ&#96;nÎ» â€œ -NoNewLine,</li><li>æ‰¾åˆ°157è¡Œå·¦å³ï¼Œä¸¤å¥è¯ <code>Î» &lt;PostPrompt&gt; &lt;repl input&gt;</code> å’Œ <code>Î» &lt;PostPrompt&gt;</code>  </li><li>å°† Î» æ›¿æ¢ä¸ºä½ æƒ³è¦çš„ã€‚</li></ul></li><li>é‡å¯è½¯ä»¶å®Œæˆè®¾ç½®ã€‚</li></ol><h2 id="è®¾ç½®ç»ˆç«¯èƒŒæ™¯"><a href="#è®¾ç½®ç»ˆç«¯èƒŒæ™¯" class="headerlink" title="è®¾ç½®ç»ˆç«¯èƒŒæ™¯"></a>è®¾ç½®ç»ˆç«¯èƒŒæ™¯</h2><ol><li>ä»»æ„ Cmder çª—å£â€”&gt;æ ‡é¢˜æ â€”&gt;å³é”®â€”&gt;Settingsâ€¦â€”&gt;Mainâ€”&gt;Background ;</li><li>å‹¾é€‰ä½¿ç”¨èƒŒæ™¯å›¾åƒï¼Œåœ¨è·¯å¾„é‡Œæ‰¾ä¸€å¼ ä½ å–œæ¬¢çš„èƒŒæ™¯å›¾ç‰‡è®¾ç½®ä¸ºèƒŒæ™¯ ;</li><li>åœ¨æš—åŒ–è°ƒæ•´(Darking)é€‰é¡¹ï¼Œå¯ä»¥è°ƒæ•´å›¾ç‰‡çš„é˜²æ­¢æ©ç›–ç»ˆç«¯å­—ä½“æ˜¾ç¤ºä¸æ¸…æ¥š  ;</li><li>åœ¨æ”¾ç½®æ–¹å¼ç®¡ç†(Placement)åˆ—è¡¨é‡Œå¯ä»¥é€‰æ‹©ä½ æƒ³æŠŠå›¾ç‰‡ä½œä½•ç§æ”¾ç½®(æˆ‘è®¾ç½®çš„ä¼¸ç¼©é“ºæ»¡çª—å£Stretch-Fill)ã€‚<br>ä½ ä¹Ÿå¯ä»¥é€šè¿‡èƒŒæ™¯æ’ä»¶ Far Manager è¿›è¡Œè®¾ç½®ã€‚<br><img src="http://begild-one.top/cmder%E8%AE%BE%E7%BD%AE%E8%83%8C%E6%99%AF.png" alt="cmderè®¾ç½®èƒŒæ™¯"></li></ol><h2 id="è§£å†³ä¸­æ–‡ä¹±ç "><a href="#è§£å†³ä¸­æ–‡ä¹±ç " class="headerlink" title="è§£å†³ä¸­æ–‡ä¹±ç "></a>è§£å†³ä¸­æ–‡ä¹±ç </h2><p>ä½¿ç”¨é»˜è®¤çš„ cmder ä¸­æ–‡ä¼šè¢«è¯†åˆ«ä¸º <code>\æ•°å­—</code> çš„ç»„åˆ æ ¹æœ¬æ²¡æ³•çœ‹ã€‚</p><ol><li>ä»»æ„ Cmder çª—å£â€”&gt;æ ‡é¢˜æ â€”&gt;å³é”®â€”&gt;Settingsâ€¦â€”&gt;Environment ;</li><li>åœ¨å³ä¾§ç¼–è¾‘æ¡†é‡Œå¦èµ·ä¸€è¡Œå†™å…¥<code>set LC_ALL=zh_CN.UTF-8</code></li><li>å®Œæˆè®¾ç½®ï¼Œé‡å¯ cmder ç”Ÿæ•ˆã€‚ã€<br>è¿œç¨‹sshè¿æ¥æœåŠ¡å™¨ä¸­æ–‡ä¾ç„¶ä¼šä¹±ç â€¦ã€‚</li></ol><h2 id="é…è‰²ä¸»é¢˜"><a href="#é…è‰²ä¸»é¢˜" class="headerlink" title="é…è‰²ä¸»é¢˜"></a>é…è‰²ä¸»é¢˜</h2><ol><li>ä»»æ„ Cmder çª—å£â€”&gt;æ ‡é¢˜æ â€”&gt;å³é”®â€”&gt;Settingsâ€¦â€”&gt;Featuresâ€”&gt;Colors ;</li><li>ä¸Šæ–¹ Schemes åˆ—è¡¨é‡Œé€‰æ‹©ä½ å–œæ¬¢çš„é…è‰²æ–¹æ¡ˆ~ã€‚</li></ol><h2 id="aliasåŠŸèƒ½"><a href="#aliasåŠŸèƒ½" class="headerlink" title="aliasåŠŸèƒ½"></a>aliasåŠŸèƒ½</h2><p>Cmderæä¾›çš„ alias åŠŸèƒ½å¯ä»¥è®©æˆ‘ä»¬ç”¨è¾ƒä¸ºç®€çŸ­æ˜“è®°çš„å•è¯æŒ‡ä»¤æ›¿ä»£å¾ˆé•¿çš„è¯­æ³•æŒ‡ä»¤ã€‚åœ¨ç»ˆç«¯è¾“å…¥æŒ‡ä»¤ <code>alias</code> å³å¯æŸ¥çœ‹åˆ«åå¯¹åº”çš„çœŸæ­£è¯­æ³•æŒ‡ä»¤ï¼Œå¯ä»¥é€šè¿‡<code>è½¯ä»¶æ ¹ç›®å½•\config\user-aliases.cmd</code> å†™äººè‡ªå·±éœ€è¦ç”¨åˆ°çš„å´åˆéš¾è®°çš„è¯­æ³•æŒ‡ä»¤å’Œåˆ«åçš„å¯¹åº”å¼å­ã€‚<br>æ¯”å¦‚æˆ‘æƒ³è¦å»æˆ‘bolgæ‰€åœ¨çš„ç›®å½•ã€‚æ¯æ¬¡éƒ½ cd æ…¢æ…¢è¿‡å»å¾ˆçƒ¦ï¼Œæˆ‘å°±å¯ä»¥ç”¨ <code>blog =cd /d &quot;E:\GitHome\blog&quot;</code> æ·»åŠ åˆ° user-aliases.cmd æ–‡ä»¶é‡Œï¼Œä¹‹åå†ç»ˆç«¯ç›´æ¥è¾“å…¥blogå°±åˆ‡æ¢åˆ°blogçš„ç›®å½•é‡Œã€‚<br>ç™»å½•æœåŠ¡å™¨å¯ä»¥ç”¨è¿™ä¸ªé…åˆputtyå®ç°<code>Tencent=&quot;D:\Program Files\PuTTY\plink.exe&quot; 255.255.255.255 -l root -pw &quot;12346578&quot; </code>ã€‚</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ol><li>cmderç›´æ¥æ”¯æŒ ctrl+c å’Œ ctrl+vï¼Œåœ¨ç»ˆç«¯é‡ŒåŒå‡»é€‰ä¸­å³å·²ç»å¤åˆ¶ä¸éœ€è¦ç”¨ctrl+cã€‚</li><li>æ”¯æŒ vim ç¼–è¾‘å™¨ï¼ŒåŒæ ·çš„ç¼–è¾‘æ–¹å¼å’Œè¯­æ³•ã€‚</li><li>å…¶ä»–çš„ä¸€äº›è®¾ç½®è¯¸å¦‚æ–‡å­—å¤§å°ï¼Œé»˜è®¤å¯åŠ¨ä¹Ÿå¯ä»¥è‡ªè¡Œäº†è§£ä¸€ä¸‹ã€‚</li><li>Cmder æ ¸å¿ƒå°±æ˜¯åŸºäº ConEmu åšçš„ï¼Œä¸è¿‡å¤–é¢åŠ äº†å¤§é‡çš„Linuxä¸‹çš„å·¥å…·å‘½ä»¤ã€‚å¾ˆå¤šLinuxçš„å‘½ä»¤åœ¨ä¸Šé¢éƒ½å¯ä»¥è¿è¡Œã€‚</li></ol><p>cmder githubåœ°å€: <a href="https://github.com/cmderdev/cmder">https://github.com/cmderdev/cmder</a></p>]]></content>
    
    
    <categories>
      
      <category>Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>cmder</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Win10ä¸‹Linuxå­ç³»ç»Ÿçš„å¯ç”¨</title>
    <link href="/2018/04/19/Win10-Linux-Subsystems/"/>
    <url>/2018/04/19/Win10-Linux-Subsystems/</url>
    
    <content type="html"><![CDATA[<h5 id="å¾®è½¯åœ¨win10ç³»ç»Ÿä¸Šæ·»åŠ äº†Linuxå­ç³»ç»Ÿçš„æ”¯æŒï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨windowsä¸Šä½¿ç”¨Linuxï¼Œçœå»äº†å å†…å­˜çš„è™šæ‹Ÿæœºå’ŒåŒç³»ç»Ÿåˆ‡æ¢çš„éº»çƒ¦ğŸ˜ï¼Œå…·ä½“æœ‰ä»€ä¹ˆå’Œæ™®é€šå®‰è£…çš„Linuxæœ‰ä»€ä¹ˆä¸åŒï¼ŒæŠ±æ­‰â€¦ä¸çŸ¥é“ğŸ˜¬ã€‚"><a href="#å¾®è½¯åœ¨win10ç³»ç»Ÿä¸Šæ·»åŠ äº†Linuxå­ç³»ç»Ÿçš„æ”¯æŒï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨windowsä¸Šä½¿ç”¨Linuxï¼Œçœå»äº†å å†…å­˜çš„è™šæ‹Ÿæœºå’ŒåŒç³»ç»Ÿåˆ‡æ¢çš„éº»çƒ¦ğŸ˜ï¼Œå…·ä½“æœ‰ä»€ä¹ˆå’Œæ™®é€šå®‰è£…çš„Linuxæœ‰ä»€ä¹ˆä¸åŒï¼ŒæŠ±æ­‰â€¦ä¸çŸ¥é“ğŸ˜¬ã€‚" class="headerlink" title="å¾®è½¯åœ¨win10ç³»ç»Ÿä¸Šæ·»åŠ äº†Linuxå­ç³»ç»Ÿçš„æ”¯æŒï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨windowsä¸Šä½¿ç”¨Linuxï¼Œçœå»äº†å å†…å­˜çš„è™šæ‹Ÿæœºå’ŒåŒç³»ç»Ÿåˆ‡æ¢çš„éº»çƒ¦ğŸ˜ï¼Œå…·ä½“æœ‰ä»€ä¹ˆå’Œæ™®é€šå®‰è£…çš„Linuxæœ‰ä»€ä¹ˆä¸åŒï¼ŒæŠ±æ­‰â€¦ä¸çŸ¥é“ğŸ˜¬ã€‚"></a>å¾®è½¯åœ¨win10ç³»ç»Ÿä¸Šæ·»åŠ äº†Linuxå­ç³»ç»Ÿçš„æ”¯æŒï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨windowsä¸Šä½¿ç”¨Linuxï¼Œçœå»äº†å å†…å­˜çš„è™šæ‹Ÿæœºå’ŒåŒç³»ç»Ÿåˆ‡æ¢çš„éº»çƒ¦ğŸ˜ï¼Œå…·ä½“æœ‰ä»€ä¹ˆå’Œæ™®é€šå®‰è£…çš„Linuxæœ‰ä»€ä¹ˆä¸åŒï¼ŒæŠ±æ­‰â€¦ä¸çŸ¥é“ğŸ˜¬ã€‚<!---more---></h5><h2 id="Linuxå­ç³»ç»Ÿçš„è·å–"><a href="#Linuxå­ç³»ç»Ÿçš„è·å–" class="headerlink" title="Linuxå­ç³»ç»Ÿçš„è·å–"></a>Linuxå­ç³»ç»Ÿçš„è·å–</h2><ul><li>åœ¨ â€˜æ§åˆ¶é¢æ¿â€“&gt;ç¨‹åºå’ŒåŠŸèƒ½(ä¾§è¾¹æ )â€“&gt;å¯ç”¨æˆ–å…³é—­ Windows åŠŸèƒ½â€“&gt;å‹¾é€‰é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿé€‰é¡¹â€™ã€‚è¿™æ ·å°±æˆåŠŸä½¿èƒ½ Linux å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚ï¼ˆéœ€è¦é‡å¯ç”Ÿæ•ˆæ›´æ–°ï¼Œè¯·ä¿å­˜ä½ çš„Wordæ–‡æ¡£â˜ ï¸â€¦ï¼‰æˆ‘çœ‹åˆ°ç½‘ä¸Šçš„æ•™ç¨‹è¯´æ˜éœ€è¦é€‰ä¸­ â€˜è®¾ç½®â€“&gt;æ›´æ–°å’Œå®‰å…¨â€“&gt;é’ˆå¯¹å¼€å‘äººå‘˜â€“&gt;å¼€å‘äººå‘˜æ¨¡å¼â€™ ä½†æˆ‘çš„é€‰é¡¹æ˜¯ â€˜æ—åŠ è½½åº”ç”¨â€™ ä¹ŸæˆåŠŸæ“ä½œã€‚</li><li>Linuxå­ç³»ç»Ÿçš„è·å–å¯ä»¥ç”¨å¾®è½¯çš„åº”ç”¨å•†åº—è¿›è¡Œå®‰è£…ã€‚å¦‚ä¸‹å›¾æ˜¯æ”¯æŒçš„å­ç³»ç»Ÿç§ç±»(2018.04.19)ï¼Œæˆ‘é€‰æ‹©äº†Ubuntu è¦ä½¿ç”¨å…¶ä»–ç³»ç»Ÿçš„ä¹Ÿçœ‹çœ‹ï¼Œä»¥åä¼šæ”¯æŒæ›´å¤šçš„ç³»ç»Ÿ~ ~ã€‚<br><img src="http://begild-one.top/windows%E6%94%AF%E6%8C%81%E7%9A%84linux%E5%AD%90%E7%B3%BB%E7%BB%9F.png" alt="windowsæ”¯æŒçš„linuxå­ç³»ç»Ÿ"></li><li>å°±åƒè£…å…¶ä»–è½¯ä»¶ä¸€æ ·ç‚¹å‡»å®‰è£…å°±ä¼šè‡ªåŠ¨ä¸‹è½½äº†ã€‚ä¸‹è½½æŒºå¿«çš„è¿˜ğŸ“¢ï¼Œå®‰è£…å®Œæ¯•ä¹‹åå°±ä¼šæ˜¾ç¤ºå¯åŠ¨è¿™æ—¶å€™ç³»ç»Ÿæœªè¢«å†™å…¥åˆ°ç£ç›˜é‡Œçš„ã€‚<br><img src="http://begild-one.top/%E4%B8%8B%E8%BD%BDubuntu.png" alt="ä¸‹è½½ubuntu"></li><li>è¿™æ ·è·å– Windows ä¸‹Linuxå­ç³»ç»Ÿå°±å®Œæˆäº†ã€‚ç‚¹å‡»å¯åŠ¨ä¼šæ‰“å¼€CMDè¿è¡Œç„¶åå°†ç³»ç»Ÿå†™å…¥ç£ç›˜ï¼Œæ‰€éœ€æ—¶é—´å¹¶ä¸é•¿(SSDå°‘äº1åˆ†é’Ÿ)é•¿æ—¶é—´å¡ä½å°è¯•å›è½¦ä¸€ä¸‹è¯·æ±‚å“åº”åˆ·æ–°ç•Œé¢ã€‚å†™å…¥å®Œæ¯•ä¼šè®©ä½ è¾“å…¥ä¸€ä¸ªç”¨æˆ·å(è‡ªå®šä¹‰å“¦ä¸å¿…é¡»æ˜¯ Windows  çš„ç”¨æˆ·å)å’Œå¯†ç (ä¸å¯è§)ã€‚è¾“å…¥å®Œæ¯•å°±åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·ï¼Œä¹‹åé»˜è®¤å°±æ˜¯è¿™ä¸ªè´¦æˆ·ç™»å½•è¿›ç³»ç»Ÿã€‚è¿™ä¸ªç”¨æˆ·ä¸å…·å¤‡ç®¡ç†å‘˜æƒé™ï¼Œå¦‚æœä½ è¦é»˜è®¤ä½¿ç”¨ç®¡ç†å‘˜ç”¨æˆ·ï¼Œé‚£å°±ç›´æ¥å…³é—­è¿™ä¸ª CMDï¼Œå°±è·³è¿‡è¿™ä¸€æ­¥äº†ã€‚ä¹‹åå†æ‰“å¼€å°±ç›´æ¥ä»¥ root ç”¨æˆ·ç™»å½•ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">Installing, this may take a few minutes...<br>Installation successful!<br>Please create a default UNIX user account. The username does not need to match your Windows username.<br>For more information visit: https://aka.ms/wslusers<br>Enter new UNIX username: begild<br>Enter new UNIX password:<br>Retype new UNIX password:<br>passwd: password updated successfully<br>Default UNIX user <span class="hljs-built_in">set</span> to: begild<br>To run a <span class="hljs-built_in">command</span> as administrator (user <span class="hljs-string">&quot;root&quot;</span>), use <span class="hljs-string">&quot;sudo &lt;command&gt;&quot;</span>.<br><br>begild@BeGild-PC:~$<br></code></pre></td></tr></table></figure></li></ul><h2 id="Linux-å­ç³»ç»Ÿçš„ä½ç½®"><a href="#Linux-å­ç³»ç»Ÿçš„ä½ç½®" class="headerlink" title="Linux å­ç³»ç»Ÿçš„ä½ç½®"></a>Linux å­ç³»ç»Ÿçš„ä½ç½®</h2><ul><li>Linuxå­ç³»ç»Ÿä½äºï¼ˆUsers &#x3D;&#x3D; ç”¨æˆ· ğŸ‘ï¼‰:<br> <code>C:\Users\ç”¨æˆ·å\AppData\Local\Packages\å«æœ‰Linuxå­ç³»ç»Ÿåå­—çš„æ–‡ä»¶å¤¹\LocalState\rootfs</code></li><li>æˆ‘ä½¿ç”¨çš„è´¦æˆ·æ˜¯ Administrator è£…çš„æ˜¯ Ubuntu é‚£ä¹ˆä½ç½®å°±æ˜¯:<br><code>C:\Users\Administrator\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState\rootfs</code></li><li>å…¶ä»–çš„ç³»ç»Ÿå’Œè¿™ä¸ªå·®ä¸å¤šï¼Œåœ¨ Packages ç›®å½•ä¸‹æ‰¾ä¸€ä¸‹å«æœ‰ä½ å®‰è£…çš„ Linux å­ç³»ç»Ÿåå­—çš„æ–‡ä»¶å¤¹å°±èƒ½æ‰¾åˆ°ã€‚</li></ul><h2 id="Linuxå­ç³»ç»Ÿä½ç½®çš„è¿ç§»"><a href="#Linuxå­ç³»ç»Ÿä½ç½®çš„è¿ç§»" class="headerlink" title="Linuxå­ç³»ç»Ÿä½ç½®çš„è¿ç§»"></a>Linuxå­ç³»ç»Ÿä½ç½®çš„è¿ç§»</h2><p>å› ä¸ºlinuxå­ç³»ç»Ÿçš„ä½ç½®å¼ä½äºCç›˜çš„æ–‡ä»¶å¤¹ä¸‹é¢çš„ï¼Œæ—¶é—´é•¿äº†çš„è¯ä¼šäº§ç”Ÿå¤§é‡çš„æ•°æ®ï¼ŒCç›˜æœ¬æ¥å°±è£…äº†Windowsï¼Œç°åœ¨åŠ äº†ä¸€ä¸ªLinuxï¼Œä¸¤ä¸ªç³»ç»Ÿçš„ä½¿ç”¨ä¼šå¯¼è‡´Cç›˜åŠ é€Ÿè¢«å¡æ»¡ã€‚æ‰€ä»¥ï¼ŒæŠŠCç›˜è¿ç§»åˆ°å…¶ä»–çš„æ•°æ®ç›˜æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„é€‰æ‹©ã€‚å½“ç„¶ä½ çš„Cç›˜è¶³å¤Ÿå¤§ä»»æ€§é€‰æ‹©ä¹ŸOKã€‚</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bat">robocopy &quot;å­ç³»ç»Ÿæ‰€æœ‰æ•°æ®æ‰€åœ¨çš„ä½ç½®&quot; &quot;è¿ç§»çš„ç›®çš„åœ°å€&quot; /E /COPYALL /XJ<br><span class="hljs-built_in">rmdir</span> &quot;å­ç³»ç»Ÿæ‰€æœ‰æ•°æ®æ‰€åœ¨çš„ä½ç½®&quot; /S /Q<br>mklink /J &quot;å­ç³»ç»Ÿæ‰€æœ‰æ•°æ®æ‰€åœ¨çš„ä½ç½®&quot; &quot;è¿ç§»çš„ç›®çš„åœ°å€&quot;<br></code></pre></td></tr></table></figure><p>æˆ‘çš„å­ç³»ç»Ÿæ‰€æœ‰æ•°æ®æ‰€åœ¨çš„ä½ç½®æ˜¯<br><code>C:\Users\Administrator\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc</code><br>è¿ç§»çš„ç›®çš„åœ°å€æ˜¯ <code>D:\WSL</code><br>æ‰€ä»¥ä»£ç å°±æ˜¯</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bat">robocopy &quot;C:\Users\Administrator\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc&quot; &quot;D:\WSL&quot; /E /COPYALL /XJ<br><span class="hljs-built_in">rmdir</span> &quot;C:\Users\Administrator\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc&quot; /S /Q<br>mklink /J &quot;C:\Users\Administrator\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc&quot; &quot;D:\WSL&quot;<br></code></pre></td></tr></table></figure><p>å¦‚æœåˆ é™¤å­ç³»ç»Ÿæ•°æ®ç›®å½•çš„æ­¥éª¤(rmdir)  é‡åˆ°ä¸æ˜¯ç©ºç›®å½•æ— æ³•åˆ é™¤ï¼Œé‡å¯ç”µè„‘ä¹‹åå†æ‰§è¡Œå°±OKäº†ã€‚<br>æ‰§è¡Œä¸Šé¢çš„ä¸œè¥¿ç”¨ cmder ä½¿ç”¨ ls å‘½ä»¤å¯ä»¥çœ‹åˆ°å·²ç»å»ºç«‹ä¸€ä¸ªç¬¦å·é“¾æ¥åˆ°ç›®æ ‡ç›®å½•äº†ã€‚è¿™æ ·å°±æŠŠä¸œè¥¿å…¨éƒ¨è¿ç§»åˆ° D:\WSL é‡Œå»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">C:\Users\Administrator\AppData\Local\Packages<br>áƒ¦ <span class="hljs-built_in">ls</span> -l CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc<br>lrwxrwxrwx 1 Administrator 197121 6 4æœˆ  22 14:10 CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc -&gt; /d/WSL/<br></code></pre></td></tr></table></figure><h2 id="Linuxå­ç³»ç»Ÿçš„æ‰“å¼€"><a href="#Linuxå­ç³»ç»Ÿçš„æ‰“å¼€" class="headerlink" title="Linuxå­ç³»ç»Ÿçš„æ‰“å¼€"></a>Linuxå­ç³»ç»Ÿçš„æ‰“å¼€</h2><ol><li>ä»»æ„æ‰“å¼€ä¸€ä¸ªCMDçª—å£è¾“å…¥<code>bash</code> å¯åŠ¨ä¸€ä¸ªLinuxç»ˆç«¯ï¼›</li><li>å°† Ubuntu å›ºå®šåˆ°å¼€å§‹èœå•ç£è´´ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½èƒ½æ‰“å¼€ä¸€ä¸ªæ–°çš„Linuxç»ˆç«¯çª—å£ã€‚</li></ol><h2 id="Linuxå­ç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯"><a href="#Linuxå­ç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯" class="headerlink" title="Linuxå­ç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯"></a>Linuxå­ç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯</h2><ol><li>ä½¿ç”¨<code> lsb_release -a</code> å¯ä»¥çœ‹åˆ°ç³»ç»Ÿçš„ä¿¡æ¯å®‰è£…çš„æ˜¯16.04.3é•¿æœŸæ”¯æŒç‰ˆæœ¬</li><li><code>cat /proc/version</code> å¯ä»¥çœ‹åˆ°å†…æ ¸ç‰ˆæœ¬ 4.4.0-43-Microsoft;ç¼–è¯‘å™¨GCCç‰ˆæœ¬5.4.0<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@BeGild-PC:~<span class="hljs-comment"># lsb_release -a</span><br>No LSB modules are available.<br>Distributor ID: Ubuntu<br>Description:    Ubuntu 16.04.3 LTS<br>Release:        16.04<br>Codename:       xenial<br>root@BeGild-PC:~<span class="hljs-comment"># uname -r</span><br>4.4.0-43-Microsoft<br>root@BeGild-PC:~<span class="hljs-comment">#  cat /proc/version</span><br>Linux version 4.4.0-43-Microsoft (Microsoft@Microsoft.com) (gcc version 5.4.0 (GCC) ) <span class="hljs-comment">#1-Microsoft Wed Dec 31 14:42:53 PST 2014</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="æ¢è½¯ä»¶æº"><a href="#æ¢è½¯ä»¶æº" class="headerlink" title="æ¢è½¯ä»¶æº"></a>æ¢è½¯ä»¶æº</h2><p>emmm,å°†è½¯ä»¶æºæ¢ä¸ºå›½å†…æºï¼Œè¿™æ ·æ›´æ–°å’Œä¸‹è½½è½¯ä»¶éƒ½ä¼šæ¯”è¾ƒå¿«ä¸€ç‚¹ã€‚</p><ol><li>å¤‡ä»½è½¯ä»¶æºåˆ—è¡¨ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># mv /etc/apt/sources.list /etc/apt/sources.list.bak</span><br></code></pre></td></tr></table></figure></li><li>ç¼–è¾‘è½¯ä»¶æºã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># vi /etc/apt/sources.list</span><br></code></pre></td></tr></table></figure></li><li>æ›¿æ¢ä¸ºå›½å†…æº(æˆ‘é€‰<a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">æ¸…åå¤§å­¦æº</a>,å¯ä»¥å»çœ‹çœ‹é˜¿é‡Œæºä»€ä¹ˆçš„)ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># é»˜è®¤æ³¨é‡Šäº†æºç é•œåƒä»¥æé«˜ apt update é€Ÿåº¦ï¼Œå¦‚æœ‰éœ€è¦å¯è‡ªè¡Œå–æ¶ˆæ³¨é‡Š</span><br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br>deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse<br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br><br><span class="hljs-comment"># é¢„å‘å¸ƒè½¯ä»¶æºï¼Œä¸å»ºè®®å¯ç”¨</span><br><span class="hljs-comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class="hljs-comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><br></code></pre></td></tr></table></figure></li><li>æ›´æ–°è½¯ä»¶åˆ—è¡¨<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># apt-get update</span><br></code></pre></td></tr></table></figure></li><li>æ›´æ–°è½¯ä»¶,ç¬¬ä¸€æ¬¡ä¼šä¸‹è½½æ¯”è¾ƒå¤šçš„æ›´æ–°è€å¿ƒç­‰å¾…ã€‚<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># apt-get upgrade</span><br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Win10ä¸‹linuxå­ç³»ç»Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>STM32 Flashçš„è¯»å†™</title>
    <link href="/2018/03/07/STM32-Flash-Write-Read/"/>
    <url>/2018/03/07/STM32-Flash-Write-Read/</url>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œè®°ä¸€ä¸‹STM32F4æ¿å­FLASHçš„è¯»å†™æ“ä½œä»¥åŠéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚</p><h2 id="FLASHçš„å†™æ“ä½œ"><a href="#FLASHçš„å†™æ“ä½œ" class="headerlink" title="FLASHçš„å†™æ“ä½œ"></a>FLASHçš„å†™æ“ä½œ</h2><ol><li>FLASHç”± â€˜1â€™ å˜ä¸º â€˜0â€™ ä¸èƒ½ç”± â€˜0â€™ å˜ä¸º â€˜1â€™ ï¼Œæ‰€ä»¥åœ¨å†™å…¥ä¹‹é—´éœ€è¦æ£€æµ‹æ˜¯å¦ä¸º â€˜1â€™  ,å¹¶ä¸”æ“¦é™¤flashåªèƒ½æŒ‰ç…§ä¸€ä¸ªæ‰‡åŒºæ¥åˆ é™¤ï¼Œç”±ä¸Šå¯çŸ¥ï¼Œæˆ‘ä»¬å†™å…¥ä¹‹å‰å¿…é¡»ç¡®ä¿æˆ‘ä»¬éœ€è¦å†™å…¥çš„åœ°å€è¯»å›æ¥çš„å€¼æ˜¯0XFFï¼Œå¦‚æœä¸æ˜¯0XFFå°±éœ€è¦å°†æ•´ä¸ªæ‰‡åŒºæ“¦é™¤(æ‰‡åŒºå˜ä¸ºå…¨ â€˜1â€™ )ã€‚</li><li>å†™å…¥æ“ä½œ(åŒ…æ‹¬æ“¦é™¤)ä¹‹å‰éœ€è¦å°†FLASHè§£é” <code>FLASH_Unlock()</code>ï¼Œæ“ä½œå®Œæˆä¹‹åéœ€è¦å°†FLASHä¸Šé” <code>FLASH_Lock()</code> ã€‚<!---more---></li></ol><h2 id="æ­£ç‚¹åŸå­çš„ä¾‹å­"><a href="#æ­£ç‚¹åŸå­çš„ä¾‹å­" class="headerlink" title=" æ­£ç‚¹åŸå­çš„ä¾‹å­"></a><a href="http://www.alientek.com/"> æ­£ç‚¹åŸå­</a>çš„ä¾‹å­</h2><ul><li>å†™å…¥æµç¨‹:<ul><li>è§£é”FLASH <code>FLASH_Unlock()</code>ï¼›</li><li>ç¦æ­¢æ•°æ®ç¼“å­˜<code>FLASH_DataCacheCmd(DISABLE)</code>,æ ¹æ®ä½ ä¼ å…¥çš„èµ·å§‹åœ°å€ <code>WriteAddr</code> å’Œå†™å…¥çš„å­—èŠ‚æ•° <code>NumToWrite</code> è®¡ç®—å‡ºç»“æŸåœ°å€ <code>endaddr</code>ï¼›</li><li>éå†æ•´ä¸ªå†™å…¥èŒƒå›´ï¼Œä¸€æ—¦å‘ç°é â€™1â€˜ æ•°æ®çš„å‡ºç°å°±æ“¦é™¤æ•´ä¸ªæ‰‡åŒºï¼Œä»–è¿™é‡Œæ˜¯å­—(Word)æ¥æ£€æµ‹çš„ï¼Œæ‰€ä»¥åœ°å€ <code>addrx</code> æ¯æ¬¡åŠ 4ï¼›</li><li>æ£€æµ‹å®Œæ¯•å¹¶ä¸”æ“¦é™¤ä¹‹åï¼Œè¿›å…¥å†™æ“ä½œï¼Œæ¯æ¬¡å†™å…¥ä¸€ä¸ªå­—(4byte)çš„æ•°æ®ã€‚æ‰€ä»¥ <code>WriteAddr</code> æ¯æ¬¡åŠ 4, <code>u32 *pBuffer</code> æ¯æ¬¡åŠ 1 ï¼›</li><li>ä½¿èƒ½æ•°æ®ç¼“å­˜<code>FLASH_DataCacheCmd(ENABLE)</code>ï¼Œä¸Šé”FLASH <code>FLASH_Lock()</code>ã€‚</li></ul></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»æŒ‡å®šåœ°å€å¼€å§‹å†™å…¥æŒ‡å®šé•¿åº¦çš„æ•°æ®</span><br><span class="hljs-comment">//ç‰¹åˆ«æ³¨æ„:å› ä¸ºSTM32F4çš„æ‰‡åŒºå®åœ¨å¤ªå¤§,æ²¡åŠæ³•æœ¬åœ°ä¿å­˜æ‰‡åŒºæ•°æ®,æ‰€ä»¥æœ¬å‡½æ•°</span><br><span class="hljs-comment">//     å†™åœ°å€å¦‚æœé0XFF,é‚£ä¹ˆä¼šå…ˆæ“¦é™¤æ•´ä¸ªæ‰‡åŒºä¸”ä¸ä¿å­˜æ‰‡åŒºæ•°æ®.æ‰€ä»¥</span><br><span class="hljs-comment">//     å†™é0XFFçš„åœ°å€,å°†å¯¼è‡´æ•´ä¸ªæ‰‡åŒºæ•°æ®ä¸¢å¤±.å»ºè®®å†™ä¹‹å‰ç¡®ä¿æ‰‡åŒºé‡Œ</span><br><span class="hljs-comment">//     æ²¡æœ‰é‡è¦æ•°æ®,æœ€å¥½æ˜¯æ•´ä¸ªæ‰‡åŒºå…ˆæ“¦é™¤äº†,ç„¶åæ…¢æ…¢å¾€åå†™.</span><br><span class="hljs-comment">//è¯¥å‡½æ•°å¯¹OTPåŒºåŸŸä¹Ÿæœ‰æ•ˆ!å¯ä»¥ç”¨æ¥å†™OTPåŒº!</span><br><span class="hljs-comment">//OTPåŒºåŸŸåœ°å€èŒƒå›´:0X1FFF7800~0X1FFF7A0F</span><br><span class="hljs-comment">//WriteAddr:èµ·å§‹åœ°å€(æ­¤åœ°å€å¿…é¡»ä¸º4çš„å€æ•°!!)</span><br><span class="hljs-comment">//pBuffer:æ•°æ®æŒ‡é’ˆ</span><br><span class="hljs-comment">//NumToWrite:å­—(32ä½)æ•°(å°±æ˜¯è¦å†™å…¥çš„32ä½æ•°æ®çš„ä¸ªæ•°.)</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">STMFLASH_Write</span><span class="hljs-params">(u32 WriteAddr, u32 *pBuffer, u32 NumToWrite)</span><br>&#123;<br>    FLASH_Status status = FLASH_COMPLETE;<br>    u32 addrx = <span class="hljs-number">0</span>;<br>    u32 endaddr = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(WriteAddr &lt; STM32_FLASH_BASE || WriteAddr % <span class="hljs-number">4</span>)<span class="hljs-keyword">return</span>;<span class="hljs-comment">//éæ³•åœ°å€</span><br>    FLASH_Unlock();<span class="hljs-comment">//è§£é”</span><br>    FLASH_DataCacheCmd(DISABLE);<span class="hljs-comment">//FLASHæ“¦é™¤æœŸé—´,å¿…é¡»ç¦æ­¢æ•°æ®ç¼“å­˜</span><br><br>    addrx = WriteAddr;<span class="hljs-comment">//å†™å…¥çš„èµ·å§‹åœ°å€</span><br>    endaddr = WriteAddr + NumToWrite * <span class="hljs-number">4</span>;<span class="hljs-comment">//å†™å…¥çš„ç»“æŸåœ°å€</span><br>    <span class="hljs-keyword">if</span>(addrx &lt; <span class="hljs-number">0X1FFF0000</span>)<span class="hljs-comment">//åªæœ‰ä¸»å­˜å‚¨åŒº,æ‰éœ€è¦æ‰§è¡Œæ“¦é™¤æ“ä½œ!!</span><br>    &#123;<br>    <span class="hljs-keyword">while</span>(addrx &lt; endaddr)<span class="hljs-comment">//æ‰«æ¸…ä¸€åˆ‡éšœç¢.(å¯¹éFFFFFFFFçš„åœ°æ–¹,å…ˆæ“¦é™¤)</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(STMFLASH_ReadWord(addrx) != <span class="hljs-number">0XFFFFFFFF</span>) <span class="hljs-comment">//æœ‰é0XFFFFFFFFçš„åœ°æ–¹,è¦æ“¦é™¤è¿™ä¸ªæ‰‡åŒº</span><br>        &#123;<br>        status = FLASH_EraseSector(STMFLASH_GetFlashSector(addrx), VoltageRange_3); <span class="hljs-comment">//VCC=2.7~3.6Vä¹‹é—´!!</span><br>        <span class="hljs-keyword">if</span>(status != FLASH_COMPLETE)<span class="hljs-keyword">break</span>;<span class="hljs-comment">//å‘ç”Ÿé”™è¯¯äº†</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> addrx += <span class="hljs-number">4</span>;<br>    &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(status == FLASH_COMPLETE)<br>    &#123;<br>    <span class="hljs-keyword">while</span>(WriteAddr &lt; endaddr) <span class="hljs-comment">//å†™æ•°æ®</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(FLASH_ProgramWord(WriteAddr, *pBuffer) != FLASH_COMPLETE) <span class="hljs-comment">//å†™å…¥æ•°æ®</span><br>        &#123;<br>        <span class="hljs-keyword">break</span>;<span class="hljs-comment">//å†™å…¥å¼‚å¸¸</span><br>        &#125;<br>        WriteAddr += <span class="hljs-number">4</span>;<br>        pBuffer++;<br>    &#125;<br>    &#125;<br>    FLASH_DataCacheCmd(ENABLE);<span class="hljs-comment">//FLASHæ“¦é™¤ç»“æŸ,å¼€å¯æ•°æ®ç¼“å­˜</span><br>    FLASH_Lock();<span class="hljs-comment">//ä¸Šé”</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æµ‹è¯•å’Œåˆ†æ<br>ç»è¿‡å®éªŒï¼Œæ“¦é™¤æ‰‡åŒºçš„æ—¶é—´æ˜¯å¾ˆä¹…çš„ï¼Œæ“¦é™¤128KByteçš„æ‰‡åŒºå¤§æ¦‚éœ€è¦1så¤šã€‚å¹¶ä¸”ï¼Œä¸è§£é”è™½ç„¶å¯ä»¥é€šè¿‡æ“¦é™¤å‡½æ•°å¹¶ä¸”è¿”å› <code>FLASH_COMPLETE</code> ä½†æ˜¯å®é™…å¹¶æ²¡æœ‰æ“¦é™¤æˆåŠŸã€‚æˆ‘å¼€å§‹ä»¥ä¸ºä»–è¿™ä¸ªè€—æ—¶ä¸»è¦ä½“ç°åœ¨è¯»å’Œåˆ¤æ–­ï¼Œæ“¦é™¤æ“ä½œæ¯”è¾ƒå¿«ï¼ŒğŸ˜’ä½†å…¶å®è¯»120KByteçš„æ•°æ®åªéœ€è¦3.9msåŠ ä¸Šåˆ¤æ–­çš„æ—¶é—´ä¹Ÿæ²¡å¤šå°‘ä¸»è¦çš„æ—¶é—´è€—è´¹åœ¨æ“¦é™¤æ“ä½œä¸Šã€‚ğŸ˜†å¦ä¸€ä¸ªä½“ç°å°±æ˜¯å¦‚æœåœ¨ Keil çš„å·¥ç¨‹é€‰é¡¹é‡ŒæŠŠæ“¦é™¤å…¨éƒ¨flashå‹¾é€‰ï¼Œä¸‹è½½å‰çš„æ“¦é™¤çš„æ—¶é—´æ˜¯å¾ˆé•¿çš„ã€‚ä¸‹é¢æ˜¯æµ‹è¯•ä»£ç å’Œè§£é‡Šç»“æœã€‚æµ‹è¯•ç»“æœå¯ä»¥çœ‹å‡ºï¼Œæ“¦é™¤çš„æ—¶é—´å¹¶æ²¡æœ‰å¾ˆå¤§å˜åŒ–ï¼Œå› ä¸ºéƒ½æ˜¯éœ€è¦ä¸€æ¬¡æ€§æ“ä½œä¸€ä¸ªæ‰‡åŒºï¼Œåªè¦ä¸è¶…è¿‡ä¸€ä¸ªæ‰‡åŒºçš„é•¿åº¦éƒ½ä¸ä¼šå˜åŒ–å¾ˆå¤§ã€‚å†™å…¥å’Œè¯»å‡ºçš„æ—¶é—´ä¿æŒçº¿æ€§å˜åŒ–ã€‚æ‰€æœ‰çš„æµ‹è¯•éƒ½æ˜¯ç”¨åŸå­å®˜æ–¹ä¾‹ç¨‹æŒ‰ç…§WORD(32bit)æ¥å†™å…¥çš„ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>...ä¸Šç»­ä»£ç <br>  STMFLASH_Write(FLASH_SAVE_ADDR, (u32 *)&amp;txbuf, SIZE);<span class="hljs-comment">//å†™å…¥ä¸€äº›æ•°æ®ä¿è¯flashä¸å…¨ä¸º&#x27;1&#x27;</span><br>  uprintf(USART1, <span class="hljs-string">&quot;æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ &#x27;1&#x27;æ—¶å†™å…¥:\r\n&quot;</span>);<br>  uprintf(USART1, <span class="hljs-string">&quot;å†™å…¥é•¿åº¦:%d\r\n&quot;</span>, TEXT_LENTH);<br>  <span class="hljs-comment">//åŸå­çš„ä¾‹å­æ“¦é™¤flashå†å†™å…¥æ•°æ®</span><br>  STMFLASH_Write(FLASH_SAVE_ADDR, (u32 *)&amp;txbuf, SIZE);<br>  <span class="hljs-built_in">memset</span>(readbuf,<span class="hljs-number">0</span>,TEXT_LENTH);<span class="hljs-comment">//æ¸…ç©ºæ•°æ®è¯»å–</span><br>  StartTiming();<br>  STMFLASH_Read(FLASH_SAVE_ADDR, (u32 *)&amp;readbuf, SIZE);<br>  timems = GetTimeMs();<br>  uprintf(USART1, <span class="hljs-string">&quot;è¯»å‡ºè€—æ—¶:%.3fms\r\n&quot;</span>, timems);<br>  uprintf(USART1, <span class="hljs-string">&quot;è¯»å‡ºé•¿åº¦:%d\r\n----\r\n&quot;</span>, TEXT_LENTH, <span class="hljs-built_in">strlen</span>((<span class="hljs-type">const</span> <span class="hljs-type">char</span> *)readbuf));<br>...ä¸‹ç»­ä»£ç <br>&#125;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">STMFLASH_Write</span><span class="hljs-params">(u32 WriteAddr, u32 *pBuffer, u32 NumToWrite)</span><br>&#123;<br>...ä¸Šç»­ä»£ç <br>  FLASH_DataCacheCmd(DISABLE);<span class="hljs-comment">//FLASHæ“¦é™¤æœŸé—´,å¿…é¡»ç¦æ­¢æ•°æ®ç¼“å­˜</span><br>  StartTiming();<span class="hljs-comment">//å¼€å§‹è®¡æ—¶æ“¦é™¤æ‰‡åŒºè€—æ—¶</span><br>.....ä¸Šç»­ä»£ç <br>timems = GetTimeMs(); <br>uprintf(USART1,<span class="hljs-string">&quot;æ“¦é™¤æ‰‡åŒºè€—æ—¶ :%.3fms\r\n&quot;</span>,timems);<br>StartTiming();<span class="hljs-comment">//å¼€å§‹å†™å…¥è®¡æ—¶</span><br>    <span class="hljs-keyword">if</span>(status == FLASH_COMPLETE)<br>    &#123;<br>...ä¸Šç»­ä»£ç <br> FLASH_Lock();<span class="hljs-comment">//ä¸Šé”</span><br> timems = GetTimeMs();<span class="hljs-comment">//è·å–å†™å…¥è€—æ—¶</span><br> uprintf(USART1, <span class="hljs-string">&quot;å†™å…¥è€—æ—¶:%.3fms\r\n&quot;</span>, timems);<br>&#125;<br><span class="hljs-comment">/*æµ‹è¯•ç»“æœ æµ‹è¯•120ã€12Kã€120K(Byte)çš„æ•°æ®*/</span><br>æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ <span class="hljs-string">&#x27;1&#x27;</span>æ—¶å†™å…¥:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">120</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1046.720</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">0.440</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">0.020</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">120</span> <br>----<br>æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ <span class="hljs-string">&#x27;1&#x27;</span>æ—¶å†™å…¥:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">12288</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1050.220</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">45.700</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">0.380</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">12288</span> <br>----<br>æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ <span class="hljs-string">&#x27;1&#x27;</span>æ—¶å†™å…¥:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">122880</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1051.860</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">458.700</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">3.880</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">122880</span> <br>----<br></code></pre></td></tr></table></figure><h2 id="æ”¹è¿›æ“¦é™¤æ–¹å¼"><a href="#æ”¹è¿›æ“¦é™¤æ–¹å¼" class="headerlink" title="æ”¹è¿›æ“¦é™¤æ–¹å¼"></a>æ”¹è¿›æ“¦é™¤æ–¹å¼</h2><ul><li>æ”¹è¿›çš„ä¸€ç‚¹æƒ³æ³•<br>æ ¹æ®æ­£ç‚¹åŸå­çš„æµ‹è¯•ç»“æœæ¥çœ‹ï¼Œæ“¦é™¤æ‰‡åŒºçš„æ—¶é—´æ˜¯ä¸å¯é¿å…çš„ï¼Œæ— éå°±æ˜¯æš´åŠ›ä¸€ç‚¹ä¸æ£€æµ‹ç›´æ¥æ“¦é™¤(å› ä¸ºé€šå¸¸æ¥è¯´ï¼Œå¦‚æœä½ å­˜å‚¨åœ¨å›ºå®šçš„flashåœ°å€é™¤äº†ç¬¬ä¸€æ¬¡ä¹‹åéƒ½ä¼šæœ‰æ•°æ®)ã€‚è¿™æ ·æäº†ä¹‹åä»æµ‹è¯•çš„ç»“æœæ¥çœ‹æå‡å¹¶ä¸æ˜æ˜¾ã€‚å†™120KByteçš„æ•°æ®ä¸‹æ“¦é™¤æ—¶é—´å°‘äº†4mså·¦å³ğŸ˜”(å°‘äº†è¯»å–å’Œåˆ¤æ–­çš„æ—¶é—´)ã€‚æ‰€ä»¥æ“¦é™¤çš„æ–¹å¼å¹¶æ²¡æœ‰å¾ˆå¥½çš„æ”¹è¿›æ–¹æ³•(æ ‡é¢˜å…šğŸ˜ˆ)ã€‚</li></ul><h2 id="é€šç”¨æ€§è€ƒè™‘"><a href="#é€šç”¨æ€§è€ƒè™‘" class="headerlink" title="é€šç”¨æ€§è€ƒè™‘"></a>é€šç”¨æ€§è€ƒè™‘</h2><ul><li>é€šè¿‡æ­£ç‚¹åŸå­çš„ä¾‹å­ç†Ÿæ‚‰äº†Flashçš„è¯»å†™ï¼Œä½†æ˜¯åªæ”¯æŒ4å­—èŠ‚å¯¹é½(WORD)çš„æ“ä½œ,æˆ‘çœ‹äº†ä¸€ä¸‹åº“çš„å‡½æ•°æ˜¯å¯ä»¥æ”¯æŒ BYTEï¼ŒHALFWORD,WORD, å’Œ DOUBLEWORD çš„ï¼Œä¸è¿‡ DOUBLEWORD éœ€è¦å¤–éƒ¨Vppã€‚æ‰€ä»¥æƒ³æ”¹è¿›ä¸€äº›æ”¯æŒåº“å‡½æ•°é‡Œçš„å„ç§byte(1-4) çš„æ“ä½œã€‚</li><li>ä¿®æ”¹å¥½ä¹‹åæµ‹è¯•ä¸€ä¸‹æµ‹è¯•ä»£ç å’Œä¸Šé¢åŸç‰ˆçš„å·®ä¸å¤šã€‚åªæ˜¯å†™å…¥å‡½æ•°æ¢æˆäº†ä¿®æ”¹ä¹‹åçš„<code>STMFLASH_WriteWithErase</code>ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹,æµ‹è¯•çš„æ—¶å€™ç”¨çš„æ˜¯WORDæ–¹å¼å†™å…¥ã€‚å’ŒåŸå­åŸºæœ¬æ²¡æœ‰å·®åˆ«ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c">æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ <span class="hljs-string">&#x27;1&#x27;</span>æ—¶å†™å…¥:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">120</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1043.500</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">0.460</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">0.000</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">120</span> <br>----<br>æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ <span class="hljs-string">&#x27;1&#x27;</span>æ—¶å†™å…¥:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">12288</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1046.580</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">45.700</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">0.400</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">12288</span> <br>----<br>æ‰‡åŒºé¢„å…ˆä¸ä¸ºå…¨ <span class="hljs-string">&#x27;1&#x27;</span>æ—¶å†™å…¥:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">122880</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1050.860</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">459.140</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">3.900</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">122880</span> <br>----<br></code></pre></td></tr></table></figure></li></ul><h2 id="å…¶ä»–ByteSizeæ–¹å¼å†™å…¥"><a href="#å…¶ä»–ByteSizeæ–¹å¼å†™å…¥" class="headerlink" title="å…¶ä»–ByteSizeæ–¹å¼å†™å…¥"></a>å…¶ä»–ByteSizeæ–¹å¼å†™å…¥</h2><p>ç›¸å¯¹äºç”¨WORDæ¥è¯´ç”¨å…¶ä»–æ–¹å¼å†™å…¥flashæ˜¯è¦æ…¢ä¸€äº›çš„ã€‚é‡‡ç”¨ BYTE æ–¹å¼éœ€è¦ å¤§æ¦‚<code>1832ms</code>,é‡‡ç”¨HALFWORDæ–¹å¼éœ€è¦<code>920ms</code>å·¦å³ã€‚å› ä¸ºæ“¦é™¤éƒ½æ˜¯é‡‡ç”¨çš„<code>VoltageRange_3</code>ä¹Ÿå°±æ˜¯WORDæ–¹å¼æ‰€ä»¥æ“¦é™¤æ—¶é—´å·®ä¸å¤šã€‚</p><h2 id="åˆ†ç¦»æ“ä½œçš„æ–¹å¼"><a href="#åˆ†ç¦»æ“ä½œçš„æ–¹å¼" class="headerlink" title="åˆ†ç¦»æ“ä½œçš„æ–¹å¼"></a>åˆ†ç¦»æ“ä½œçš„æ–¹å¼</h2><ul><li>åˆ†ç¦»æ“ä½œçš„æ„ä¹‰<br>æŠŠæ“¦é™¤å’Œå†™å…¥åˆ†å¼€ã€‚è€ƒè™‘åˆ°ä¸€ä¸ªæ‰‡åŒºæ˜¯éå¸¸å¤§çš„ï¼Œä¸€ä¸ªæ‰‡åŒºå¯èƒ½ä¼šå­˜å‚¨å¤šç§æ•°æ®ã€‚å¦‚æœå†™å…¥ä¹‹å‰æœ‰æ•°æ®å°±ä¼šå¯¼è‡´æ•´ä¸ªæ‰‡åŒºè¢«æ“¦é™¤ï¼Œæ•°æ®å°±ä¼šä¸¢å¤±ã€‚æ‰€ä»¥é‡‡ç”¨åˆ†ç¦»çš„åŠæ³•ï¼ŒæŠŠæ•°æ®çš„å†™å…¥å’Œæ“¦é™¤åˆ†éš”å¼€ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©æ˜¯å¦æ“¦é™¤æ‰‡åŒºå†…çš„æ•°æ®ï¼Œä¿è¯åœ¨æ“¦é™¤çš„æ“ä½œä¹‹å‰æœ‰ç›¸åº”çš„å¤‡ä»½æ“ä½œå°±OKäº†ã€‚è¿™æ ·å³ä½¿å¿˜è®°æ“¦é™¤é‚£ä¹ˆä¹Ÿåªæ˜¯æ–°çš„æ•°æ®æ²¡æ³•æ­£ç¡®å†™åˆ°flashé‡Œé¢ï¼Œå…¶ä»–éƒ¨åˆ†çš„æ•°æ®å°±ä¸ä¼šè¢«æ“¦é™¤ï¼Œè¿™æ ·æœ‰åˆ©äºæ›´å¥½çš„æ•°æ®å®Œæ•´æ€§ã€‚</li><li>æµ‹è¯•ç»“æœå’Œæµ‹è¯•ä»£ç ,ç»è¿‡æµ‹è¯•åˆ†ç¦»ä¹‹åçš„æ“ä½œå’Œæ²¡åˆ†ç¦»çš„æ—¶é—´ä¸ŠåŸºæœ¬æ²¡ä»€ä¹ˆå·®åˆ«ï¼Œ<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs c">åˆ†ç¦»æ“ä½œæ–¹å¼å†™å…¥flash:<br>æ“¦é™¤æ‰‡åŒºè€—æ—¶:<span class="hljs-number">1023.320</span>ms<br>å†™å…¥é•¿åº¦:<span class="hljs-number">120</span> byte<br>å†™å…¥è€—æ—¶:<span class="hljs-number">0.440</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">0.000</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">120</span> byte<br>****<br>åˆ†ç¦»æ“ä½œæ–¹å¼å†™å…¥flash:<br>æ“¦é™¤æ‰‡åŒºè€—æ—¶:<span class="hljs-number">1015.140</span>ms<br>å†™å…¥é•¿åº¦:<span class="hljs-number">12288</span> byte<br>å†™å…¥è€—æ—¶:<span class="hljs-number">45.940</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">0.400</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">12288</span> byte<br>****<br>åˆå¹¶æ“ä½œæ–¹å¼å†™å…¥flash:<br>å†™å…¥é•¿åº¦:<span class="hljs-number">122880</span><br>æ“¦é™¤æ‰‡åŒºè€—æ—¶ :<span class="hljs-number">1010.480</span>ms<br>å†™å…¥è€—æ—¶:<span class="hljs-number">461.420</span>ms<br>è¯»å‡ºè€—æ—¶:<span class="hljs-number">3.900</span>ms<br>è¯»å‡ºé•¿åº¦:<span class="hljs-number">122880</span> <br>****<br><span class="hljs-type">int</span> mainï¼ˆ<span class="hljs-type">void</span>ï¼‰<br>&#123;<br>...ä¸Šç»­ä»£ç <br>    uprintf(USART1, <span class="hljs-string">&quot;åˆ†ç¦»æ“ä½œæ–¹å¼å†™å…¥flash:\r\n&quot;</span>);<br>    StartTiming();<br>    status = StmEraseFlashSector(FLASH_SAVE_ADDR, TEXT_LENTH);<br>    <span class="hljs-comment">//FLASH_DataCacheCmd(DISABLE);//FLASHæ“¦é™¤æœŸé—´,å¿…é¡»ç¦æ­¢æ•°æ®ç¼“å­˜</span><br>    <span class="hljs-comment">//status = FLASH_EraseSector(STMFLASH_GetFlashSector(FLASH_SAVE_ADDR), VoltageRange_3); //VCC=2.7~3.6Vä¹‹é—´!!</span><br>    <span class="hljs-keyword">if</span>(status != FLASH_COMPLETE)<br>    &#123;<br>        uprintf(USART1, <span class="hljs-string">&quot;æ“¦é™¤æ‰‡åŒºå¤±è´¥:%d\r\n&quot;</span>,status);    <span class="hljs-comment">//å‘ç”Ÿé”™è¯¯äº†</span><br>        <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>) &#123;&#125;;<br>    &#125;<br>    timems = GetTimeMs();<br>    uprintf(USART1, <span class="hljs-string">&quot;æ“¦é™¤æ‰‡åŒºè€—æ—¶:%.3fms\r\n&quot;</span>, timems);<br>uprintf(USART1, <span class="hljs-string">&quot;å†™å…¥é•¿åº¦:%d byte\r\n&quot;</span>, TEXT_LENTH);<br>    StartTiming();<br>    <span class="hljs-comment">//ä¸éœ€è¦æ“¦é™¤falshç›´æ¥å†™æ•°æ®</span><br>    STMFLASH_WriteNoErase(FLASH_SAVE_ADDR, txbuf,TEXT_LENTH,ByteSize);<br>    timems = GetTimeMs();<br>    uprintf(USART1, <span class="hljs-string">&quot;å†™å…¥è€—æ—¶:%.3fms\r\n&quot;</span>, timems);<br><span class="hljs-built_in">memset</span>(readbuf,<span class="hljs-number">0</span>,TEXT_LENTH);<span class="hljs-comment">//æ¸…ç©ºæ•°æ®è¯»å–</span><br>    StartTiming();<br>    STMFLASH_Read(FLASH_SAVE_ADDR,readbuf, TEXT_LENTH,ByteSize);<br>    timems = GetTimeMs();<br>    uprintf(USART1, <span class="hljs-string">&quot;è¯»å‡ºè€—æ—¶:%.3fms\r\n&quot;</span>, timems);<br>    uprintf(USART1, <span class="hljs-string">&quot;è¯»å‡ºé•¿åº¦:%d byte\r\n****\r\n&quot;</span>, TEXT_LENTH, <span class="hljs-built_in">strlen</span>((<span class="hljs-type">const</span> <span class="hljs-type">char</span> *)readbuf)); <br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æäº†å‡ å¤©æ‰æŠŠè¿™ä¸ªå†™å®Œæ•´ã€‚ä¸­é€”ä¹Ÿè¿›äº†å¥½å¤šçš„å‘ï¼Œæµªè´¹äº†å¥½é•¿æ—¶é—´ã€‚ä¸è¿‡è¿˜æ˜¯å†™å®Œäº†ã€‚è¯´ä¸€ç‚¹æ³¨æ„çš„åœ°æ–¹</p><ul><li>flashçš„å†™å…¥åœ°å€ä¸æ˜¯å¶æ•°å°±å¯ä»¥ï¼Œå¾—æ˜¯4çš„å€æ•°ã€‚</li><li>æ— è®ºæ˜¯æ“¦é™¤è¿˜æ˜¯å†™å…¥éƒ½éœ€è¦å…ˆè§£é”flashã€‚è¯»å–åˆ™ä¸éœ€è¦ã€‚</li><li>å¯¹äºåŒä¸€ä¸ªæ‰‡åŒºçš„å»ºè®®ç”¨åˆ†ç¦»çš„æ“ä½œï¼Œå¹¶ä¸”åœ¨æ“ä½œå‰æ ¹æ®éœ€è¦æŠŠå…¶ä»–çš„æ•°æ®è¯»å‡ºæ¥å¤‡ä»½ä¸€ä¸‹åœ¨å†™è¿›å»ã€‚</li></ul><p>å…³äºæœ¬æ–‡çš„ä»£ç è¯¦è§äº<a href="https://coding.net/u/BycCoding/p/stm32f4_flash/git">Codingé¡¹ç›®</a>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>STM32</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Flashè¯»å†™</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>STM32è‡ªå®šä¹‰ä¸²å£printf</title>
    <link href="/2018/03/01/STM32-UART-CustomPrintf/"/>
    <url>/2018/03/01/STM32-UART-CustomPrintf/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç¡¬ä»¶çš„è°ƒè¯•é€šå¸¸å¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç§æ˜¯ç”¨è°ƒè¯•å™¨å°†èŠ¯ç‰‡å’Œç”µè„‘è¿æ¥é€šè¿‡å•æ­¥ç­‰æ–¹å¼é€æ­¥è¿è¡Œè¿›è¡Œè°ƒè¯•ï¼Œå¦ä¸€ç§å°±æ˜¯printfå¤§æ³•åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­è¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚ç¬¬ä¸€ç§æ¯”è¾ƒæ·±å…¥ï¼Œå¯ä»¥äº†è§£æ¯ä¸€ä¸ªå˜é‡ï¼Œæ ˆå †ï¼Œå‡½æ•°ç­‰ç­‰çš„å˜åŒ–æ˜¯æ¯”è¾ƒç³»ç»ŸåŒ–çš„è°ƒè¯•ã€‚ä½†æˆ‘é€šå¸¸éƒ½æ˜¯ç”¨printfæ¥è°ƒè¯•çš„ï¼Œå› ä¸ºå¿«é€Ÿç®€å•å±äºéä»‹å…¥çš„æ–¹å¼ï¼Œè°ƒè¯•å®Œæ¯•ç›´æ¥æ³¨é‡Šæ‰ç›¸å…³éƒ¨åˆ†å°±è¡Œäº†ã€‚</p><hr><h2 id="é‡å®šå‘-printf-å‡½æ•°"><a href="#é‡å®šå‘-printf-å‡½æ•°" class="headerlink" title="é‡å®šå‘ printf å‡½æ•°"></a>é‡å®šå‘ printf å‡½æ•°</h2><p>å¯¹äºSTM32æ¥è¯´ç°åœ¨ä¸²å£ä¾‹ç¨‹ä¸€èˆ¬éƒ½é…æœ‰ä¸€ä¸ªprintfé‡å®šå‘åˆ°ä¸²å£1çš„ä»£ç ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨printfå¾ˆæ–¹ä¾¿çš„è¾“å‡ºä¿¡æ¯åˆ°ä¸²å£ä¸Šã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//é‡å®šä¹‰fputcå‡½æ•°</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fputc</span><span class="hljs-params">(<span class="hljs-type">int</span> ch, FILE *f)</span><br>&#123;<br>  <span class="hljs-keyword">while</span>((USART1-&gt;SR&amp;<span class="hljs-number">0X40</span>)==<span class="hljs-number">0</span>);<span class="hljs-comment">//å¾ªç¯å‘é€,ç›´åˆ°å‘é€å®Œæ¯•</span><br>    USART1-&gt;DR = (u8) ch;<br>  <span class="hljs-keyword">return</span> ch;<br>&#125;<br></code></pre></td></tr></table></figure><!---more---><h2 id="è‡ªå®šä¹‰printfå‡½æ•°"><a href="#è‡ªå®šä¹‰printfå‡½æ•°" class="headerlink" title="è‡ªå®šä¹‰printfå‡½æ•°"></a>è‡ªå®šä¹‰printfå‡½æ•°</h2><p>ä½†æ˜¯æˆ‘ä»¬å¦‚æœä½¿ç”¨å¤šä¸ªä¸²å£æˆ–è€…è¯´ä¸²å£è¾“å‡ºä¸ä¸€å®šæ€»ä»ä¸²å£1è¾“å‡ºæ€ä¹ˆåŠå‘¢ã€‚è¿™æ—¶å€™è¿™æ ·å°±æ²¡æ³•å®ç°ï¼Œåæ¥ä¸Šç½‘æŸ¥ä¸€ä¸‹æˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°printfè¿™ä¸ªå‡½æ•°ã€‚å‘½åä¸ºuprintfï¼Œæ¥æ”¶è‡³å°‘ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬1ä¸ªå‚æ•°æ˜¯ä¸²å£å·;ç¬¬2ä¸ªæ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²;ç¬¬3-n â€˜ â€¦ â€˜ æ˜¯å‚æ•°åŒ¹é…åˆ—è¡¨ï¼Œ å®ç°å˜é•¿çš„å‚æ•°åˆ—è¡¨æ¥æ”¶ã€‚ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ç”¨ä¸²å£å†™ä¸€ä¸ªprintfå‡½æ•°</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">uprintf</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *fmt, ...)</span><br>&#123;<br>    va_list ap; <span class="hljs-comment">//typedef char *va_list; va_listæ˜¯charå‹çš„æŒ‡é’ˆ</span><br>    <span class="hljs-type">char</span> *s_string = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">300</span>); <span class="hljs-comment">//ç”³è¯·ç¼“å†²åŒº</span><br>    va_start(ap, fmt); <span class="hljs-comment">//æ‰¾ç¬¬ä¸€ä¸ªå¯å˜å½¢å‚çš„åœ°å€ï¼Œå¹¶æŠŠåœ°å€èµ‹ç»™ap</span><br>    <span class="hljs-built_in">vsprintf</span>(s_string, fmt, ap); <span class="hljs-comment">//ç±»ä¼¼sprintfå‡½æ•°</span><br>    USART_String(USARTx, s_string); <span class="hljs-comment">//å‘é€å’Œæ•´ä¸ªå­—ç¬¦ä¸²</span><br>    va_end(ap); <span class="hljs-comment">//ç»“æŸ</span><br>    <span class="hljs-built_in">free</span>(s_string);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªå‡½æ•°é‡Œçš„è¿‡ç¨‹:</p><ol><li>é€šè¿‡ va_start å‡½æ•°è·å¾—å‚æ•°åˆ—è¡¨é‡Œæ¯ä¸ªé¡¹å’Œæ ¼å¼åŒ–å­—ç¬¦é‡Œå¯¹åº”çš„ä½ç½®ï¼Œå½¢æˆä¸€ä¸ªåˆ—è¡¨ ap ã€‚</li><li>é€šè¿‡ vsprintf æŠŠåˆ—è¡¨é‡Œæ¯ä¸ªå‚æ•°è½¬ä¸ºå­—ç¬¦ä¸²å†™åˆ° s_string å­—ç¬¦ä¸²é‡Œã€‚</li><li>é€šè¿‡ USART_String å‘é€åˆ°ä¸²å£ã€‚</li><li>é‡Šæ”¾åˆ—è¡¨ ap å’Œ å‘é€ç¼“å†² s_string ã€‚</li></ol><h2 id="å®Œæ•´çš„ä¸€ä¸ªè‡ªå®šä¹‰printfå®ç°æ–‡ä»¶"><a href="#å®Œæ•´çš„ä¸€ä¸ªè‡ªå®šä¹‰printfå®ç°æ–‡ä»¶" class="headerlink" title="å®Œæ•´çš„ä¸€ä¸ªè‡ªå®šä¹‰printfå®ç°æ–‡ä»¶"></a>å®Œæ•´çš„ä¸€ä¸ªè‡ªå®šä¹‰printfå®ç°æ–‡ä»¶</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;uart_x.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stdlib.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stdarg.h&quot;</span></span><br><span class="hljs-comment">//å‘é€ä¸€ä¸ªå­—èŠ‚</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">SendByte</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> dat)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>((USARTx-&gt;SR &amp; <span class="hljs-number">0X40</span>) == <span class="hljs-number">0</span>) &#123;&#125;; <span class="hljs-comment">//å¾ªç¯å‘é€,ç›´åˆ°å‘é€å®Œæ¯•</span><br>    USARTx-&gt;DR = (u8) dat;<br>&#125;<br><span class="hljs-comment">//å‘é€ä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">USART_String</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">char</span> *s)</span><br>&#123;<br>    <span class="hljs-keyword">while</span>(*s != <span class="hljs-string">&#x27;\0&#x27;</span>)<span class="hljs-comment">// &#x27;\0&#x27; è¡¨ç¤ºå­—ç¬¦ä¸²ç»“æŸæ ‡å¿—</span><br>    &#123;<br>        SendByte(USARTx, *s);<br>        s++;<br>    &#125;<br>&#125;<br><span class="hljs-comment">//ç”¨ä¸²å£å†™ä¸€ä¸ªprintfå‡½æ•°</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">uprintf</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *fmt, ...)</span><br>&#123;<br>    va_list ap; <span class="hljs-comment">//typedef char *va_list; va_listæ˜¯charå‹çš„æŒ‡é’ˆ</span><br>    <span class="hljs-type">char</span> *s_string = <span class="hljs-built_in">malloc</span>(<span class="hljs-number">300</span>); <span class="hljs-comment">//ç”³è¯·ç©ºé—´</span><br>    va_start(ap, fmt); /æ‰¾ç¬¬ä¸€ä¸ªå¯å˜å½¢å‚çš„åœ°å€ï¼Œå¹¶æŠŠåœ°å€èµ‹ç»™ap<br>    <span class="hljs-title function_">vsprintf</span><span class="hljs-params">(s_string, fmt, ap)</span>; <span class="hljs-comment">//ç±»ä¼¼sprintfå‡½æ•°</span><br>    USART_String(USARTx, s_string);  <span class="hljs-comment">//å‘é€å’Œæ•´ä¸ªå­—ç¬¦ä¸²</span><br>    va_end(ap); <span class="hljs-comment">//ç»“æŸ</span><br>    <span class="hljs-built_in">free</span>(s_string);<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„å‡½æ•°å·²ç»èƒ½æ»¡è¶³å¤šä¸ªä¸²å£åŒæ—¶ä½¿ç”¨printfï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚å¯ä»¥ä¿®æ”¹ç”³è¯·çš„ç¼“å†²åŒºå¤§å°å³å¯ã€‚</p><h2 id="å®‰å…¨ç‰ˆæœ¬çš„è‡ªå®šä¹‰-printf-å®ç°"><a href="#å®‰å…¨ç‰ˆæœ¬çš„è‡ªå®šä¹‰-printf-å®ç°" class="headerlink" title="å®‰å…¨ç‰ˆæœ¬çš„è‡ªå®šä¹‰ printf å®ç°"></a>å®‰å…¨ç‰ˆæœ¬çš„è‡ªå®šä¹‰ printf å®ç°</h2><p>ä½†ä¸Šé¢çš„å®ç°å¹¶ä¸æ˜¯å®‰å…¨çš„ï¼Œå¦‚æœä½ å‘é€çš„å­—ç¬¦ä¸²é•¿åº¦å¤§äºç¼“å†²åŒºé•¿åº¦å°±ä¼šé€ æˆå†…å­˜æº¢å‡ºã€‚æ‰€ä»¥ä½ å¯ä»¥æ›´æ”¹ä¸ºä¸€ä¸ªå®‰å…¨çš„ç‰ˆæœ¬ï¼Œæ¥æ”¶ä¸€ä¸ªç¼“å†²åŒºé•¿åº¦å‚æ•°ä»è€Œç”³è¯·ä¸€ä¸ªåˆé€‚å¤§å°çš„ç©ºé—´ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ç”¨ä¸²å£å†™ä¸€ä¸ªprintfå‡½æ•°</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">uprintf_s</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">uint32_t</span> BuffSize,<span class="hljs-type">const</span> <span class="hljs-type">char</span> *fmt, ...)</span><br>&#123;<br>    va_list ap; <span class="hljs-comment">//typedef char *va_list; va_listæ˜¯charå‹çš„æŒ‡é’ˆ</span><br>    <span class="hljs-type">char</span> *s_string = <span class="hljs-built_in">malloc</span>(BuffSize); <span class="hljs-comment">//ç”³è¯·ç©ºé—´</span><br>    va_start(ap, fmt); <span class="hljs-comment">//æ‰¾ç¬¬ä¸€ä¸ªå¯å˜å½¢å‚çš„åœ°å€ï¼Œå¹¶æŠŠåœ°å€èµ‹ç»™ap</span><br>    vsprintf_s(s_string,BuffSize, fmt, ap);<span class="hljs-comment">//ç±»ä¼¼sprintf_så‡½æ•°</span><br>    USART_String(USARTx, s_string); <span class="hljs-comment">//å‘é€å’Œæ•´ä¸ªå­—ç¬¦ä¸²</span><br>    va_end(ap); <span class="hljs-comment">//ç»“æŸ</span><br>    <span class="hljs-built_in">free</span>(s_string);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ol><li>ä½¿ç”¨ printf å¤§æ³•éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯å°½é‡é¿å…åœ¨ä¸­æ–­é‡Œè°ƒç”¨è¯¥å‡½æ•°(æ‰§è¡Œ printf éœ€è¦çš„æ—¶é—´æ¯”è¾ƒä¹…),ä»¥åŠè°ƒè¯•å®Œæ¯•ä¹‹åæ³¨é‡Šæ‰ç›¸å…³çš„ä»£ç ï¼Œç¼©çŸ­åŠŸèƒ½ä»£ç çš„æ‰§è¡Œæ—¶é—´ã€‚</li><li>æœ‰å…´è¶£çš„å¯ä»¥å†™ printf åˆ° OLED ä¹‹ç±»çš„å‡½æ•°ï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·ï¼Œå®ç°å±å¹•ä½ç½®æ§åˆ¶å’Œæœ€åçš„å†™ä¸€ä¸ªå­—èŠ‚çš„å‡½æ•°å°±èƒ½å®Œæˆç§»æ¤ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>STM32</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä¸²å£(UART)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SMT32ä¸²å£æ¥æ”¶ã€ç©ºé—²ä¸­æ–­</title>
    <link href="/2018/03/01/STM32-UART-IDLE-IT-md/"/>
    <url>/2018/03/01/STM32-UART-IDLE-IT-md/</url>
    
    <content type="html"><![CDATA[<h2 id="è¯†åˆ«å°¾è¿›è¡Œæ¥æ”¶ç»“æŸçš„éªŒè¯"><a href="#è¯†åˆ«å°¾è¿›è¡Œæ¥æ”¶ç»“æŸçš„éªŒè¯" class="headerlink" title="è¯†åˆ«å°¾è¿›è¡Œæ¥æ”¶ç»“æŸçš„éªŒè¯"></a>è¯†åˆ«å°¾è¿›è¡Œæ¥æ”¶ç»“æŸçš„éªŒè¯</h2><ol><li>ä¸²å£æ¥æ”¶å®Œæ¯•æ ‡å¿—å¯ä»¥åˆ©ç”¨è¯†åˆ«ç‰¹å®šå­—ç¬¦(å­—ç¬¦ä¸²)æ¥æ£€æµ‹ï¼Œæ¯”å¦‚ â€œ\r\nâ€ã€â€™*#â€™ ä¹‹ç±»çš„ã€‚æ‰€ä»¥æ¯æ¬¡å‘æ•°æ®éƒ½éœ€è¦åŠ ä¸Šè¿™äº›å­—ç¬¦æ‰èƒ½è¢«è¯†åˆ«ä¸ºæ¥æ”¶å®Œæ¯•ï¼Œè¿™æ ·å¥½å¤„å°±æ˜¯æ¯”è¾ƒé€šç”¨ã€‚æ— è®ºæ˜¯ä»€ä¹ˆç¡¬ä»¶å¹³å°éƒ½èƒ½ç”¨ã€‚ä»£ç ä¹Ÿä¸å¤æ‚ï¼Œåœ¨STM32å¹³å°ä¸Šç®€å•çš„ä¾‹å­å¦‚ä¸‹ä»£ç æ®µï¼šå½“æ¥æ”¶åˆ° â€˜*â€˜ æ—¶å€™å°±ä¼šç½®ä½æ¥æ”¶å®Œæˆæ ‡å¿—ä½ï¼Œå°±å¯ä»¥è¿›è¡Œå¤„ç†äº†ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXUSART1BUFSIZE 200</span><br><span class="hljs-type">uint8_t</span> Uart1_BUF[MAXUSART1BUFSIZE];<br><span class="hljs-type">void</span> <span class="hljs-title function_">USART1_IRQHandler</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> <span class="hljs-comment">//ä¸²å£1ä¸­æ–­æœåŠ¡ç¨‹åº               </span><br>&#123;<br>  <span class="hljs-type">uint8_t</span> RecByte;<br>  <span class="hljs-type">static</span>  <span class="hljs-type">uint32_t</span> pos = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">if</span>(USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)  <br>  &#123;<br>    RecByte = USART1-&gt;DR;<span class="hljs-comment">//è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®</span><br>    <span class="hljs-keyword">if</span>(pos &lt; MAXUSART1BUFSIZE)<span class="hljs-comment">//é˜²æ­¢å†…å­˜æº¢å‡º</span><br>      Uart1_BUF[pos++] = RecByte;<br>    <span class="hljs-keyword">if</span>(RecByte == <span class="hljs-string">&#x27;*&#x27;</span>)<br>    &#123;<br>      <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> æ¥æ”¶å®Œæ¯•ç›¸å…³å¤„ç†</span><br>      pos = <span class="hljs-number">0</span>;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><!---more---></li></ol><h2 id="è¯†åˆ«å¤´å°¾è¿›è¡Œæ•°æ®æ®µçš„ä¿æŠ¤"><a href="#è¯†åˆ«å¤´å°¾è¿›è¡Œæ•°æ®æ®µçš„ä¿æŠ¤" class="headerlink" title="è¯†åˆ«å¤´å°¾è¿›è¡Œæ•°æ®æ®µçš„ä¿æŠ¤"></a>è¯†åˆ«å¤´å°¾è¿›è¡Œæ•°æ®æ®µçš„ä¿æŠ¤</h2><ol start="2"><li>ä¸Šé¢çš„æ–¹æ³•å°±æ˜¯å‘é€çš„æ—¶å€™éº»çƒ¦ä¸€ç‚¹ï¼Œæ¯æ¬¡éƒ½éœ€è¦åœ¨åé¢åŠ  â€˜*â€˜, å¹¶ä¸”å¦‚æœå‘é€é”™ä¸€æ¬¡(å¿˜è®°åŠ  â€˜*â€™)å°±ä¼šæŠŠç¼“å†²åŒºçš„å†…å®¹ç´¯è®¡åˆ°ä¸‹ä¸€æ¬¡(å¯ä»¥æ·»åŠ å¤´è¯†åˆ«è¿›è¡Œè§£å†³)ã€‚è¿™æ ·å°±åªä¼šè¯†åˆ«æŒ‡å®šçš„æ•°æ®æ®µã€‚ä¸€èˆ¬è¿™æ ·é€‚ç”¨äºå‘é€å¸¦æœ‰æ„ä¹‰çš„æ§åˆ¶æ•°æ®ä¿è¯æ•°æ®ä¸å¤šæ”¶ä¹Ÿä¸å°‘æ”¶ã€‚éªŒè¯çš„å­—ç¬¦è¦ä¿è¯ä¸ä¼šå‡ºç°åœ¨å†…å®¹é‡Œï¼Œæˆ–è€…ç”¨å¤šä¸ªå­—ç¬¦è¿›è¡ŒéªŒè¯ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXUSART1BUFSIZE 200</span><br><span class="hljs-type">uint8_t</span> Uart1_BUF[MAXUSART1BUFSIZE];<br><span class="hljs-type">void</span> <span class="hljs-title function_">USART1_IRQHandler</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> <span class="hljs-comment">//ä¸²å£1ä¸­æ–­æœåŠ¡ç¨‹åº</span><br>&#123;<br>    <span class="hljs-type">uint8_t</span> RecByte;<br>    <span class="hljs-type">static</span>  <span class="hljs-type">uint32_t</span> pos = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)  <span class="hljs-comment">//æ¥æ”¶ä¸­æ–­(æ¥æ”¶åˆ°çš„æ•°æ®å¿…é¡»æ˜¯0x0d 0x0aç»“å°¾)</span><br>    &#123;<br>        RecByte = USART1-&gt;DR;<span class="hljs-comment">//è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®</span><br>        <span class="hljs-keyword">if</span>(RecByte == <span class="hljs-string">&#x27;#&#x27;</span>)<br>            pos = <span class="hljs-number">1</span>; <span class="hljs-comment">//å¼€å§‹æ¥æ”¶æ•°æ®</span><br>        <span class="hljs-keyword">if</span>(pos)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(pos &lt; MAXUSART1BUFSIZE)<span class="hljs-comment">//é˜²æ­¢å†…å­˜æº¢å‡º</span><br>                Uart1_BUF[pos - <span class="hljs-number">1</span>] = RecByte;<br>            pos ++;<br>            <span class="hljs-keyword">if</span>(RecByte == <span class="hljs-string">&#x27;*&#x27;</span>)<br>            &#123;<br>                <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> æ¥æ”¶å®Œæ¯•ç›¸å…³å¤„ç†</span><br>                pos = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="STM32ç©ºé—²ä¸­æ–­çš„é…ç½®"><a href="#STM32ç©ºé—²ä¸­æ–­çš„é…ç½®" class="headerlink" title="STM32ç©ºé—²ä¸­æ–­çš„é…ç½®"></a>STM32ç©ºé—²ä¸­æ–­çš„é…ç½®</h2><ol><li>å‰å‡ å¤©åšé¡¹ç›®ä¹Ÿè¦ç”¨åˆ°ä¸²å£ä¼ è¾“æ§åˆ¶ä¿¡æ¯åœ¨STM32ä¸Šçš„è¯å¯ä»¥åˆ©ç”¨ä¸²å£ç©ºé—²ä¸­æ–­(æ¥æ”¶å®Œå­—ç¬¦ä»¥ååœ¨ä¸‹ä¸€ä¸ªä¼ è¾“å­—ç¬¦çš„æ—¶é—´å†…æ²¡æœ‰å­—ç¬¦ä¼ æ¥)æ¥æ¥æ”¶æ•°æ®ï¼Œè¿™æ ·å°±ä¸ç”¨åƒä¸Šé¢é‚£æ ·åšç‰¹å®šçš„è¯†åˆ«ï¼Œä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ã€‚åœ¨è¿™é‡Œå¤‡æ³¨ä¸€ä¸‹ï¼Œå› ä¸ºå½“æ—¶ä¸€å¼€å§‹é…ç½®å®Œäº†å¹¶ä¸èµ·ä½œç”¨ï¼Œåæ¥ä¸Šç½‘æŸ¥è¯äº†æœ€åæ‰æ‰¾åˆ°è§£å†³åŠæ³•ã€‚åˆå§‹åŒ–çš„ä»£ç å°±ä¸è´´äº†ï¼Œä¸»è¦æ˜¯æœ€åé…ç½®å®Œæ¯•ï¼Œå¼€ä¸­æ–­çš„ä»£ç è´´ä¸€ä¸‹ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c">...ä¸Šç»­åˆå§‹åŒ–çš„ç›¸å…³é…ç½®<br>USART_Init(USART1, &amp;USART_InitStructure); <span class="hljs-comment">//åˆå§‹åŒ–ä¸²å£</span><br>USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);<span class="hljs-comment">//å¼€å¯ä¸­æ–­</span><br>USART_ITConfig(USART1, USART_IT_IDLE,ENABLE);<span class="hljs-comment">//å¼€å¯ä¸­æ–­</span><br><span class="hljs-comment">//USART_ClearITPendingBit(USART1, USART_IT_IDLE |USART_IT_RXNE);//æ¸…é™¤ä¸­æ–­</span><br>USART_Cmd(USART1, ENABLE);                    <span class="hljs-comment">//ä½¿èƒ½ä¸²å£</span><br></code></pre></td></tr></table></figure></li><li>ä¸€å¼€å§‹æˆ‘ä½¿ç”¨çš„æ˜¯ä¸‹é¢è¿™æ¡è¯­å¥è¿›è¡Œä¸­æ–­é…ç½®çš„ï¼Œå‘ç°å¹¶ä¸èƒ½è§¦å‘ç©ºé—²ä¸­æ–­ï¼Œåæ¥æ‰çŸ¥é“<font color=#ff0000 size=5>å¿…é¡»è¦åˆ†ä¸¤æ¬¡</font>æ‰èƒ½æ­£ç¡®é…ç½®:<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">USART_ITConfig(USART1, USART_IT_RXNE | USART_IT_IDLE, ENABLE);<span class="hljs-comment">//å¼€å¯ä¸­æ–­</span><br></code></pre></td></tr></table></figure></li><li>æŸ¥çœ‹äº†ä¸€ä¸‹<font color=#00cccc size=5>USART_ITConfig()</font>å‡½æ•°çš„æºç æ‰çœ‹å‡ºæ¥ï¼Œä»–è¿™ä¸ªå‡½æ•°ä¸ºäº†USART_IT_IDLEç­‰ä¸­æ–­å®å®šä¹‰çš„é€šç”¨æ€§ï¼Œå¿…é¡»æ¯æ¬¡åªèƒ½åˆå§‹åŒ–ä¸€ä¸ªä¸­æ–­æ ‡å¿—ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">USART_ITConfig</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">uint16_t</span> USART_IT, FunctionalState NewState)</span><br>&#123;<br>....<br>    <span class="hljs-comment">/* Get the interrupt position */</span><br>    itpos = USART_IT &amp; IT_Mask;<br>    itmask = (((<span class="hljs-type">uint32_t</span>)<span class="hljs-number">0x01</span>) &lt;&lt; itpos);<br>....<br>&#125;<br><span class="hljs-comment">/*ç›¸å…³è®¡ç®—</span><br><span class="hljs-comment">#define USART_IT_IDLE      ((uint16_t)0x0424)</span><br><span class="hljs-comment">#define IT_Mask            ((uint16_t)0x001F)  //!&lt; USART Interrupt Mask </span><br><span class="hljs-comment">itpos = 0x0424 &amp; 0x001F = 0x04;</span><br><span class="hljs-comment">itmask = (((uint32_t)0x01) &lt;&lt; itpos) = 0x10;</span><br><span class="hljs-comment">0x10 = 0b00010000//bit[4];</span><br><span class="hljs-comment">æŸ¥é˜…å®˜æ–¹çš„æ‰‹å†Œå¯ä»¥çœ‹åˆ°ç©ºé—²ä¸­æ–­ä½¿èƒ½ä¹Ÿæ°å¥½å°±æ˜¯bit[4];</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></li><li>ç©¶å…¶åŸå› æ˜¯å› ä¸ºitmaskè¿™ä¸ªå˜é‡å…¶å®å°±æ˜¯ä¸­æ–­ä½äºå¯„å­˜å™¨çš„ä½ç½®ï¼Œä»–æ˜¯ä¸€ä¸ª0bxx1xxçš„å˜é‡ã€‚åªèƒ½è¡¨ç¤ºä¸€ä¸ªä¸­æ–­æ ‡å¿—ä½æ‰€ä»¥æ¯æ¬¡åªèƒ½åˆå§‹åŒ–ä¸€ä¸ªæ ‡å¿—ä½ã€‚</li></ol><h2 id="STM32ç©ºé—²ä¸­æ–­æœåŠ¡å‡½æ•°"><a href="#STM32ç©ºé—²ä¸­æ–­æœåŠ¡å‡½æ•°" class="headerlink" title="STM32ç©ºé—²ä¸­æ–­æœåŠ¡å‡½æ•°"></a>STM32ç©ºé—²ä¸­æ–­æœåŠ¡å‡½æ•°</h2><ol><li>æ¥ä¸‹æ¥å°±æ˜¯ä¸­æ–­æœåŠ¡å‡½æ•°äº†ï¼š<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">uint8_t</span> USART1RecBuf[USART1RecBufMaxSize];<span class="hljs-comment">//æ¥æ”¶ç¼“å†²åŒº</span><br><span class="hljs-type">uint8_t</span> sdfsdf = <span class="hljs-number">0</span>;<br><span class="hljs-type">void</span> <span class="hljs-title function_">USART1_IRQHandler</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>      <span class="hljs-comment">//ä¸²å£1ä¸­æ–­æœåŠ¡ç¨‹åº</span><br>&#123;<br>    <span class="hljs-type">static</span> <span class="hljs-type">uint16_t</span> pos = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(USART_GetITStatus(USART1, USART_IT_IDLE) != RESET) <span class="hljs-comment">//æ¥æ”¶å®Œæ¯•è§¦å‘ç©ºé—²ä¸­æ–­</span><br>    &#123;<br>      pos = <span class="hljs-number">0</span>;<br>      USART1-&gt;DR;<span class="hljs-comment">//æ¸…é™¤ç©ºé—²ä¸­æ–­æ ‡å¿—ä½</span><br>      <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> ä¸­æ–­æ¥æ”¶å®Œæˆæ ‡å¿—</span><br><br>    &#125;<br>    <span class="hljs-keyword">if</span>(USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)<br>    &#123;<br>        <span class="hljs-type">uint8_t</span> RecByte;<br>        Res = USART1-&gt;DR; <span class="hljs-comment">//è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®</span><br>        <span class="hljs-keyword">if</span>(pos &gt;= USART1RecBufMaxSize) <span class="hljs-comment">//è¶…è¿‡èŒƒå›´è¿”å›</span><br>            <span class="hljs-keyword">return</span> ;<br>        USART1RecBuf[pos++] = RecByte;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>è¿™é‡Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ç©ºé—²ä¸­æ–­çš„æ¸…é™¤å¹¶ä¸æ˜¯è°ƒç”¨USART_ClearITPendingBit()å‡½æ•°æ¥æ¸…é™¤,æŸ¥çœ‹åº“çš„å‡½æ•°æºç å®ç°ä¹Ÿå¯ä»¥çœ‹åˆ°æ³¨é‡Šé‡Œå¹¶æ²¡æœ‰è¯´æ˜ USART_IT_IDLE è¯¥å‚æ•°æ˜¯å¯ä»¥è¢«ä¼ å…¥çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬ä½¿ç”¨ <font color=#00cccc size=3>USART1-&gt;DR</font> å°±èƒ½æ¸…é™¤ä¸²å£ç©ºé—²ä¸­æ–­ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/**</span><br><span class="hljs-comment">...</span><br><span class="hljs-comment">  * @param  USART_IT: specifies the interrupt pending bit to clear.</span><br><span class="hljs-comment">  *   This parameter can be one of the following values:</span><br><span class="hljs-comment">  *     @arg USART_IT_CTS:  CTS change interrupt (not available for UART4 and UART5)</span><br><span class="hljs-comment">  *     @arg USART_IT_LBD:  LIN Break detection interrupt</span><br><span class="hljs-comment">  *     @arg USART_IT_TC:   Transmission complete interrupt.</span><br><span class="hljs-comment">  *     @arg USART_IT_RXNE: Receive Data register not empty interrupt.</span><br><span class="hljs-comment">...</span><br><span class="hljs-comment">  */</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">USART_ClearITPendingBit</span><span class="hljs-params">(USART_TypeDef *USARTx, <span class="hljs-type">uint16_t</span> USART_IT)</span><br>&#123;<br>Â·Â·Â·Â·<br><br></code></pre></td></tr></table></figure></li><li>åˆ°æ­¤å®Œæˆäº†ä¸²å£ç©ºé—²ä¸­æ–­çš„é…ç½®ï¼Œä¹‹ååªè¦ä¸¤æ¬¡æ¥æ”¶æ•°æ®ä¹‹é—´çš„æ—¶é—´å¤§äºä¸€ä¸ªå­—ç¬¦çš„æ—¶é—´(è·Ÿæ³¢ç‰¹ç‡æœ‰å…³),å°±èƒ½è§¦å‘è¿™ä¸ªä¸­æ–­ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>STM32</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ä¸²å£(UART)</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ESP8266å·¥ç¨‹çš„è£å‰ªå’Œç¼–è¯‘</title>
    <link href="/2018/01/23/ESP8266%E5%B7%A5%E7%A8%8B%E7%9A%84%E8%A3%81%E5%89%AA%E5%92%8C%E7%BC%96%E8%AF%91/"/>
    <url>/2018/01/23/ESP8266%E5%B7%A5%E7%A8%8B%E7%9A%84%E8%A3%81%E5%89%AA%E5%92%8C%E7%BC%96%E8%AF%91/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²ä¸€ä¸‹ï¼Œä¹é‘«å®˜æ–¹ç»™çš„ESP8266 Demoæ€ä¹ˆè£å‰ªæˆæˆ‘ä»¬è¦çš„æ ·å­ä»¥åŠç¼–è¯‘ã€‚</p><h2 id="æ¨¡æ¿å·¥ç¨‹æ‰€éœ€æ–‡ä»¶"><a href="#æ¨¡æ¿å·¥ç¨‹æ‰€éœ€æ–‡ä»¶" class="headerlink" title="æ¨¡æ¿å·¥ç¨‹æ‰€éœ€æ–‡ä»¶"></a>æ¨¡æ¿å·¥ç¨‹æ‰€éœ€æ–‡ä»¶</h2><p>ç”±äºå®˜æ–¹ç»™çš„å·¥ç¨‹æ˜¯åŒ…å«äº†å…¨éƒ¨çš„Demoå’Œåº“æ‰€ä»¥æˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ˜¯ä¸èƒ½ç¼–è¯‘çš„ã€‚æˆ‘ä»¬å°±ä»ä¸€ä¸ªæœ€åŸºç¡€çš„å·¥ç¨‹æ¨¡æ¿å¼€å§‹è£å‰ªï¼Œå› ä¸ºå…¶ä»–çš„åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡å·¥ç¨‹æ¨¡æ¿æ·»åŠ åº“å’Œä»£ç æ¥å®ç°ã€‚é¦–å…ˆäº®ä¸€ä¸‹å®˜æ–¹åŸç‰ˆçš„RTOS SDKçš„å·¥ç¨‹ç»“æ„(ä¸‹å·¦å›¾)ã€‚  </p><!---more----><p><img src="https://s1.ax1x.com/2018/01/23/pIQc7j.png" alt="1.png">  </p><p>æˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªå·¥ç¨‹åšæˆä¸€ä¸ªæœ€åŸºæœ¬çš„æ¨¡æ¿é‚£ä¹ˆå°±éœ€è¦æŠŠé‡Œé¢å†²çªçš„å’Œæš‚æ—¶ä¸éœ€çš„éƒ½ç»™åˆ é™¤ã€‚å¦‚ä¸‹å›¾æ˜¯éœ€è¦è£å‰ªçš„å†…å®¹ï¼š çº¢è‰²çš„æ˜¯éœ€è¦åˆ é™¤çš„ã€‚ç´«è‰²çš„åˆ äº†èŠ‚çœç©ºé—´ã€‚<br><img src="https://s1.ax1x.com/2018/01/23/pI1hOU.png" alt="2.png"><br>æ‰€ä»¥æˆ‘ä»¬æŠŠåˆšåˆšæ ‡è®°è¿™äº›éƒ½å…¨éƒ¨åˆ é™¤(åˆ«å¿˜äº†å¤‡ä»½ä¸€ä¸ªåŸç‰ˆçš„ä»¥åç”¨)ä¹‹åï¼Œè¿™æ ·å°±ä¼šå°‘äº†å¾ˆå¤šä¸œè¥¿ã€‚<br>é‚£ç°åœ¨å¯ä»¥ç¼–è¯‘äº†å—ï¼Ÿæ‰“æ‰°äº†ï¼Œå¹¶ä¸è¡Œã€‚å› ä¸ºmakefileè¿™ä¸ªç¥å¥‡çš„ä¸œè¥¿å­˜åœ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åšä¸€äº›è°ƒæ•´å’Œæ›´æ”¹ä½¿å¾—makefileèƒ½æ­£ç¡®çš„è¯†åˆ«ã€ç¼–è¯‘ã€é“¾æ¥æ•´ä¸ªå·¥ç¨‹ã€‚è‡³äºmakefileæ˜¯ä»€ä¹ˆä¸œè¥¿å¤§å®¶ä¸Šç½‘æœæŸ¥çœ‹ï¼è¿™é‡Œå°±ä¸å±•å¼€è®²äº†ï¼Œå› ä¸ºå°±é‚£ä¸ªå°±å¯ä»¥åšä¸€ä¸ªä¸“é¢˜23333ã€‚<br>ä½ æš‚æ—¶åªéœ€è¦çŸ¥é“ç¼–è¯‘æ•´ä¸ªå·¥ç¨‹éœ€è¦å®ƒæŒæ§æ•´ä¸ªå·¥ç¨‹çš„å„ä¸ªæ–‡ä»¶çš„ä¿¡æ¯å’Œå…³ç³»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å‘Šè¯‰å®ƒå„ä¸ªæ–‡ä»¶çš„ä¿¡æ¯å’Œä¹‹é—´çš„å…³ç³»ï¼Œæ‰€å¹¸çš„æ˜¯å®˜æ–¹ç»™çš„makefileå·²ç»å¾ˆé€šç”¨äº†ï¼Œæˆ‘ä»¬ç¨å¾®åšæ”¹å˜å°±å¯ä»¥äº†(æ„Ÿè°¢ingâ€¦)</p><h2 id="æ¨¡æ¿å·¥ç¨‹æ–‡ä»¶çš„è°ƒæ•´"><a href="#æ¨¡æ¿å·¥ç¨‹æ–‡ä»¶çš„è°ƒæ•´" class="headerlink" title="æ¨¡æ¿å·¥ç¨‹æ–‡ä»¶çš„è°ƒæ•´"></a>æ¨¡æ¿å·¥ç¨‹æ–‡ä»¶çš„è°ƒæ•´</h2><p>ä¸‹é¢çš„æ“ä½œå°±æ˜¯å±äºæ¯”è¾ƒçµæ€§çš„ï¼Œä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆå› ä¸ºæˆ‘ä¸ªäººè§‰å¾—è¿™æ ·æ¯”è¾ƒå¥½ã€‚å…ˆæŒ‰ç…§æˆ‘çš„æ¥ï¼Œç­‰ä½ å­¦ä¼šäº†å°±å¯ä»¥å»è£…é€¼äº†ã€‚å…ˆçº¦å®šâ€&#x2F;â€œå°±æ˜¯å·¥ç¨‹çš„æ ¹ç›®å½•ï¼Œç”¨ç»å¯¹è·¯å¾„ç›®å½•æœ‰ç‚¹é•¿ã€‚  </p><ol><li>å‰ªåˆ‡ &#x2F;driver_lib&#x2F;driver â€”&gt; &#x2F;examples&#x2F;project_template&#x2F;</li><li>å‰ªåˆ‡ &#x2F;driver_lib&#x2F;include&#x2F; çš„æ‰€æœ‰å¤´æ–‡ä»¶ â€”&gt; &#x2F;examples&#x2F;project_template&#x2F;include&#x2F;</li><li>æ”¹å &#x2F;examples&#x2F;project_template â€”&gt; app</li><li>å¤åˆ¶ &#x2F;examples&#x2F;app â€”&gt; &#x2F;</li><li>åˆ é™¤ &#x2F;app&#x2F;sample_lib ç›®å½•</li><li>åˆ é™¤ &#x2F;driver_lib ç›®å½•  </li><li>åˆ é™¤ &#x2F;examples ç›®å½•</li></ol><p>è¿™æ ·å°±å®Œæˆäº†å·¥ç¨‹æ–‡ä»¶çš„è°ƒæ•´ï¼šæŠŠç›¸å…³çš„ç¡¬ä»¶é©±åŠ¨ç§»åˆ°appç›®å½•ä¸‹é¢ï¼Œå¹¶ä¸”åˆ é™¤äº†ç¤ºä¾‹çš„åº“ã€‚è°ƒæ•´å®Œæˆä¹‹åçš„ç›®å½•å¦‚ä¸‹å›¾(documentsç›®å½•åˆ ä¸åˆ ä¸å½±å“)ï¼š<br><img src="https://s1.ax1x.com/2018/01/23/pouGqJ.png" alt="3.png">  </p><h2 id="MakeFileæ–‡ä»¶çš„ä¿®æ”¹"><a href="#MakeFileæ–‡ä»¶çš„ä¿®æ”¹" class="headerlink" title="MakeFileæ–‡ä»¶çš„ä¿®æ”¹"></a>MakeFileæ–‡ä»¶çš„ä¿®æ”¹</h2><ol><li>ä¿®æ”¹&#x2F;Makefileæ–‡ä»¶</li></ol><ul><li>æ–‡ä»¶é‡Œæ·»åŠ ä¸¤å¥è¯<font color=#ff0000 size=5>SDK_PATH&#x3D;Ã—Ã—Ã— BIN_PATH&#x3D;xxx </font>æ¯”å¦‚æˆ‘çš„å·¥ç¨‹æ ¹ç›®å½•åœ¨<font color=#00ccff size=3> â€œ e:&#x2F;esp8266&#x2F;leixing&#x2F;ESP8266_RTOS_SDK-1.5-project_template â€œ</font>é‚£ä¹ˆæˆ‘çš„æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹ï¼š  <figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs makefile">....<br><span class="hljs-keyword">ifndef</span> PDIR<br><br><span class="hljs-keyword">endif</span><br><br>SDK_PATH=e:/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template<br>BIN_PATH=e:/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/bin<br> <br><span class="hljs-keyword">ifeq</span> (<span class="hljs-variable">$(COMPILE)</span>, xcc)<br>...<br></code></pre></td></tr></table></figure>2.ä¿®æ”¹&#x2F;app&#x2F;Makefileæ–‡ä»¶</li><li>æ–‡ä»¶é‡Œæ·»åŠ ä¸€å¥è¯<font color=#ff0000 size=5>SDK_PATH&#x3D;Ã—Ã—Ã—</font> æ·»åŠ åœ¨æ–‡ä»¶çš„17è¡Œå·¦å³ï¼Œå†…å®¹å°±æ˜¯ä½ å·¥ç¨‹çš„æ ¹ç›®å½•ã€‚</li><li>æ–‡ä»¶é‡Œçš„<font color=#ff0000 size=5>SUBDIR&#x3D;Ã—Ã—Ã—</font> æŠŠæ‰€æœ‰åŒ…å«äº†cæ–‡ä»¶çš„å­ç›®å½•éƒ½æ·»åŠ è¿›å»ã€‚(â€˜&#39;è¡¨ç¤ºç»­ä¸€è¡Œ)ï¼Œctrl+få¯å¿«é€ŸæŸ¥æ‰¾ï¼Œä¿®æ”¹ä½ç½®å¤§æ¦‚åœ¨23è¡Œå·¦å³ã€‚</li><li>ä¿®æ”¹å®Œæˆä¹‹åå¦‚ä¸‹ï¼š  <figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs makefile">...ä¸Šç»­<br><span class="hljs-comment">#FLAVOR = release</span><br>FLAVOR = debug<br>SDK_PATH=e:/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template<br><span class="hljs-comment">#EXTRA_CCFLAGS += -u</span><br><br><span class="hljs-keyword">ifndef</span> PDIR <span class="hljs-comment"># &#123;</span><br>GEN_IMAGES= eagle.app.v6.out<br>GEN_BINS= eagle.app.v6.bin<br>SPECIAL_MKTARGETS=<span class="hljs-variable">$(APP_MKTARGETS)</span><br>SUBDIRS=    \<br>    user    \<br>    driver<br><span class="hljs-keyword">endif</span> <span class="hljs-comment"># &#125; PDIR</span><br>...ä¸‹ç»­<br></code></pre></td></tr></table></figure></li><li>æŠŠ<font color=#ff0000 size=5>COMPONENTS_eagle.app.v6&#x3D;Ã—Ã—Ã—</font> éœ€è¦çš„.aæ–‡ä»¶ä¿®æ”¹ä¸ºå­ç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„.aæ–‡ä»¶(å¬ä¸æ‡‚æ²¡å…³ç³»ï¼Œçœ‹æ•ˆæœä»£ç )ï¼Œå¤§æ¦‚åœ¨48è¡Œå·¦å³ã€‚  <figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs makefile">...ä¸Šç»­<br><span class="hljs-keyword">ifeq</span> (<span class="hljs-variable">$(FLAVOR)</span>,release)<br>TARGET_LDFLAGS += -g -O0<br><span class="hljs-keyword">endif</span><br><br>COMPONENTS_eagle.app.v6 = \<br>    user/libuser.a  \<br>    driver/libdriver.a <br>LINKFLAGS_eagle.app.v6 = \<br>    -L<span class="hljs-variable">$(SDK_PATH)</span>/lib        \<br>    -Wl,--gc-sections   \<br>...ä¸‹ç»­<br></code></pre></td></tr></table></figure>è¿™æ ·å°±ä¿®æ”¹å®Œæˆäº†ã€‚</li></ul><h2 id="å·¥ç¨‹çš„ç¼–è¯‘"><a href="#å·¥ç¨‹çš„ç¼–è¯‘" class="headerlink" title="å·¥ç¨‹çš„ç¼–è¯‘"></a>å·¥ç¨‹çš„ç¼–è¯‘</h2><ol><li>å·¦é”®ç‚¹å‡»å·¥ç¨‹åé€‰ä¸­å·¥ç¨‹-&gt;å³é”®å¼¹å‡ºèœå•-&gt;BuildProject å³å¯ç¼–è¯‘ã€‚å¦‚æœå‡ºç°BuildProjecté€‰é¡¹ç°è‰²å°±æ˜¯ä½ æ²¡é€‰ä¸­ã€‚å¦‚æœå¤±è´¥å¯ä»¥å°è¯•CleanProject(å°±åœ¨BuildProjectä¸‹é¢)ä¸€ä¸‹å·¥ç¨‹å†ç¼–è¯‘ã€‚</li><li>ç¼–è¯‘ä¹‹åè¾“å‡ºçª—å£å¤§è‡´å¦‚ä¸‹ï¼Œè¾“å‡ºä¸¤ä¸ªbinæ–‡ä»¶ï¼šeagle.flash.bin å’Œ eagle.irom0text.bin ,è¿™æ ·å°±å®Œæˆäº†å·¥ç¨‹çš„ç¼–è¯‘ã€‚è¿™ä¸ªå›ºä»¶æ˜¯ä¸æ”¯æŒOTAå‡çº§çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦bootã€‚ä¹Ÿæ²¡æœ‰user1.binå’Œuser2.binã€‚æ‰€ä»¥ä¸è¦è§‰å¾—å¥‡æ€ªã€‚<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs N">23:48:32 **** Incremental Build of configuration Default for project ESP8266_RTOS_SDK-1.5-project_template ****<br>make all <br>make[1]: Entering directory &#x27;/cygdrive/e/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/app&#x27;<br>make[2]: Entering directory &#x27;/cygdrive/e/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/app/user&#x27;<br>make[2]: Leaving directory &#x27;/cygdrive/e/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/app/user&#x27;<br>make[2]: Entering directory &#x27;/cygdrive/e/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/app/driver&#x27;<br>make[2]: Leaving directory &#x27;/cygdrive/e/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/app/driver&#x27;<br><br>!!!<br>SDK_PATH: e:/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template<br>BIN_PATH: e:/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/bin<br><br>No boot needed.<br>Generate eagle.flash.bin and eagle.irom0text.bin successully in BIN_PATH<br>eagle.flash.bin--------&gt;0x00000<br>eagle.irom0text.bin----&gt;0x20000<br>!!!<br>make[1]: Leaving directory &#x27;/cygdrive/e/esp8266/leixing/ESP8266_RTOS_SDK-1.5-project_template/app&#x27;<br><br>23:48:37 Build Finished (took 4s.472ms)<br></code></pre></td></tr></table></figure></li></ol><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™ç¯‡è¯´çš„å¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹äº‘é‡Œé›¾é‡Œã€‚å› ä¸ºå’Œå¹³æ—¶å¤§å®¶ç”¨çš„çš„ä¸éœ€è¦è‡ªå·±ç¼–å†™ç¼–è¯‘è§„åˆ™çš„IDEä¸åŒã€‚åƒkeilçš„è¯ä½ æ·»åŠ çš„å¤´æ–‡ä»¶ä¹Ÿéœ€è¦çš„æ‰‹åŠ¨æ·»åŠ åˆ°å·¥ç¨‹çš„IncludePathé‡Œé¢å»ã€‚ä½†æ˜¯ç”¨è¿™ä¸ªeclipseå¼€å‘esp8266å®Œå…¨ä½¿ç”¨makefileæ§åˆ¶çš„ï¼Œä½ çš„ç›®å½•ï¼Œå¤´æ–‡ä»¶ï¼Œcæ–‡ä»¶éƒ½æ˜¯éœ€è¦ä½ æ‰‹åŠ¨é…ç½®makefileçš„ï¼Œé“ç†éƒ½ä¸€æ ·éƒ½æ˜¯è¦å‘Šè¯‰ç¼–è¯‘å™¨æ€ä¹ˆå»ç¼–è¯‘é“¾æ¥æ–‡ä»¶ã€‚ä¸è¿‡æ˜¯ä½ è‡ªå·±æ‰¾åˆ°makefileæ·»åŠ è€Œå·²ã€‚ä¹‹åä¼šä¸“é—¨æœ‰ä¸€ç¯‡å¤§æ¦‚è¯´ä¸€ä¸‹æ•´ä¸ªå·¥ç¨‹å¦‚æœæˆ‘ä»¬æƒ³æ·»åŠ æ–°çš„åŠŸèƒ½æ–‡ä»¶å¤¹(æ¯”å¦‚å®ç°ä¸€ä¸ªtcpå®¢æˆ·ç«¯åŠŸèƒ½)ï¼Œæˆ‘ä»¬æ€ä¹ˆå»ä¿®æ”¹makefileã€‚æœ‰ä»€ä¹ˆç–‘é—®æ¬¢è¿è”ç³»æˆ‘ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ESP8266</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP8266å·¥ç¨‹çš„å¯¼å…¥</title>
    <link href="/2018/01/22/ESP8266%E5%B7%A5%E7%A8%8B%E7%9A%84%E5%AF%BC%E5%85%A5/"/>
    <url>/2018/01/22/ESP8266%E5%B7%A5%E7%A8%8B%E7%9A%84%E5%AF%BC%E5%85%A5/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h2><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²ä¸€ä¸‹ï¼ŒESP8266çš„å·¥ç¨‹æ€ä¹ˆå¯¼å…¥åˆ°Eclipseé‡Œã€‚</p><h2 id="å‡†å¤‡ä¸€ä¸ªSDKå·¥ç¨‹"><a href="#å‡†å¤‡ä¸€ä¸ªSDKå·¥ç¨‹" class="headerlink" title="å‡†å¤‡ä¸€ä¸ªSDKå·¥ç¨‹"></a>å‡†å¤‡ä¸€ä¸ªSDKå·¥ç¨‹</h2><ul><li>æ—¢ç„¶æ˜¯å¯¼å…¥é‚£ä¹ˆä½ é¦–å…ˆå¾—æœ‰ä¸€ä¸ªç°æœ‰çš„å·¥ç¨‹(ä¸å­˜åœ¨å»ºå·¥ç¨‹çš„ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½å¾’æ‰‹å»ºå·¥ç¨‹çš„)ï¼Œå·¥ç¨‹ä»ç½‘ä¸Šæ‰¾ä¸€ä¸ªå°±OKäº†ã€‚</li><li>ESP8266çš„SDKæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ— ç³»ç»Ÿ(NON-OS SDK)ï¼Œå¦ä¸€ç§æ˜¯è¿è¡Œäº†FreeRTOSçš„(RTOS SDK)ã€‚</li></ul><!---more----><table><tr><th width="15%">SDKç±»å‹</th><th width="55%">æè¿°</th><th width="30%">ä¼˜ç¼ºç‚¹</th></tr><tr><td>NOn-OS SDK</td><td>1.ä¸»è¦ä½¿â½¤å®šæ—¶å™¨å’Œå›è°ƒå‡½æ•°çš„â½…å¼å®ç°å„ä¸ªåŠŸèƒ½äº‹ä»¶çš„åµŒå¥—ï¼Œè¾¾åˆ°ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘ç‰¹å®šåŠŸèƒ½å‡½æ•°çš„â½¬çš„ã€‚<br>2.ä½¿â½¤ espconn æ¥â¼å®ç°â½¹ç»œæ“ä½œï¼Œâ½¤æˆ·éœ€è¦æŒ‰ç…§ espconn æ¥â¼çš„ä½¿â½¤è§„åˆ™è¿›â¾è½¯ä»¶å¼€å‘.</td><td>1.æ— ç³»ç»Ÿï¼Œé¡ºåºæ‰§è¡Œå¥½ç†è§£å ç”¨èµ„æºå°‘ï¼Œä½†æ˜¯ä¸èƒ½æœ‰while(1);<br>2.ä¸èƒ½æœ‰è¶…è¿‡10msçš„é˜»å¡(å»¶æ—¶)å‘ç”Ÿï¼Œå¦åˆ™å°†ä¼šé‡å¯ã€‚</td></tr><tr><td>RTOS SDK</td><td>1.ç”¨æˆ·å¯ä»¥ä½¿â½¤FreeRTOS çš„æ ‡å‡†æ¥â¼å®ç°èµ„æºç®¡ç†ã€å¾ªç¯æ“ä½œã€ä»»åŠ¡å†…å»¶æ—¶ã€ä»»åŠ¡é—´ä¿¡æ¯ä¼ é€’å’ŒåŒæ­¥ç­‰â¾¯å‘ä»»åŠ¡æµç¨‹çš„è®¾è®¡â½…å¼;<br>2.â½¹ç»œæ“ä½œæ¥â¼æ˜¯æ ‡å‡† lwIP APIï¼ŒåŒæ—¶æä¾›äº† BSD Socket API æ¥â¼çš„å°è£…å®ç°ï¼Œâ½¤æˆ·å¯ä»¥ç›´æ¥æŒ‰ç…§ Socket API çš„ä½¿â½¤â½…å¼æ¥å¼€å‘è½¯ä»¶åº”â½¤ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç¼–è¯‘è¿â¾å…¶ä»–å¹³å°çš„æ ‡å‡† Socket åº”â½¤; <br>3.å¼•â¼Šäº† cJSON åº“ï¼Œä½¿â½¤è¯¥åº“å‡½æ•°å¯ä»¥æ›´åŠ â½…ä¾¿çš„å®ç°å¯¹ JSON æ•°æ®åŒ…çš„è§£æ;<br>4.å…¼å®¹ non-OS SDK ä¸­çš„ Wi-Fi æ¥â¼ã€SmartConfig æ¥â¼ã€Sniffer ç›¸å…³æ¥â¼ã€ç³»ç»Ÿæ¥â¼ã€å®šæ—¶å™¨æ¥â¼ã€FOTA æ¥â¼å’Œå¤–å›´é©±åŠ¨æ¥â¼ï¼Œä¸â½€æŒ AT å®ç°ã€‚</td><td>1.æœ‰ç³»ç»Ÿï¼Œé€šè¿‡ä»»åŠ¡çš„è°ƒåº¦å®Œæˆç³»ç»Ÿçš„è¿è¡Œï¼Œå¯ä»¥æœ‰å»¶æ—¶ã€‚<br>2.ä½†æ˜¯èµ„æºå ç”¨è¾ƒå¤šã€‚</td></tr></table>  <ul><li>ä¾‹å­å¯ä»¥ä»ä¹é‘«å®˜æ–¹çš„<a href="http://espressif.com/zh-hans/support/download/sdks-demos">ä¸‹è½½åœ°å€</a>ä¸‹è½½.åœ¨ä¸‹å›¾æ‰€åœ¨çš„ç½‘é¡µä¸Šé¢æœ‰é€‰é¡¹é€‰æ‹©ESP8266EXä¹‹åå¯ä»¥ä»ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢é€‰æ‹©ä½ æ‰€éœ€è¦çš„SDKã€‚<br><img src="https://s1.ax1x.com/2018/01/22/p4Iub8.md.png" alt="ä¹é‘«SDKä¸‹è½½"></li><li>ç‚¹å‡»å³è¾¹çš„ä¸‹è½½æŒ‰é’®ä¼šè·³è½¬åˆ°GitHub(éœ€è¦ä½ æ‡‚ä¸€ç‚¹ç‚¹çš„gitçš„çŸ¥è¯†æ‰èƒ½ä¸‹è½½)ã€‚å¦‚æœå®åœ¨æ²¡åŠæ³•çš„è¯(æ±‚æ±‚ä½ å­¦ä¸€ç‚¹gitå§)ï¼Œæˆ‘æŠŠæˆ‘å†™æ–‡ç« çš„æ—¶å€™çš„æœ€æ–°çš„ä¸Šä¼ åˆ°ç½‘ç›˜ï¼Œå¤§å®¶å¯ä»¥å»ä¸‹è½½ é“¾æ¥: <a href="https://pan.baidu.com/s/1c39VpXQ">https://pan.baidu.com/s/1c39VpXQ</a> å¯†ç : dup8 ã€‚</li><li>ä¸‹è½½ä¸‹æ¥è§£å‹åˆ°ä½ æƒ³æ”¾ç½®çš„ç›®å½•ï¼Œä¸è¦æœ‰ä¸­æ–‡å’Œ(ç©ºæ ¼?)ï¼Œè¿™æ ·å·¥ç¨‹å°±å®Œæˆäº†åˆæ­¥çš„å¸ƒç½®ã€‚æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆäº†ã€‚</li></ul><h2 id="å¯¼å…¥å·¥ç¨‹"><a href="#å¯¼å…¥å·¥ç¨‹" class="headerlink" title="å¯¼å…¥å·¥ç¨‹"></a>å¯¼å…¥å·¥ç¨‹</h2><ul><li>ç¬¬ä¸€æ­¥:åº”è¯¥èƒ½æƒ³åˆ°å§ï¼Œé‚£å°±æ˜¯æ‰“å¼€Eclipe_IDE(ä¸ä¼šæ‰“å¼€å°±ç®—äº†ä½ ä¸é€‚åˆç”¨ç”µè„‘)ã€‚</li><li>ç¬¬äºŒæ­¥:æ‰“å¼€eclipseä¹‹åä¼šå‡ºç°æ¬¢è¿ç•Œé¢:â€Welcome to the Eclipse IDE for C&#x2F;C++ Developersâ€ã€‚</li><li>ç¬¬ä¸‰æ­¥:ç‚¹å‡» å·¥å…·æ -&gt;File-&gt;Import (å¦‚å›¾)è¿›å…¥å¯¼å…¥å·¥ç¨‹çª—å£ã€‚<br><img src="https://s1.ax1x.com/2018/01/22/p5SChq.png" alt="å¯¼å…¥å·¥ç¨‹1"></li><li>ç¬¬å››æ­¥:åœ¨selectçª—å£é€‰æ‹©C&#x2F;C++-&gt;Existing Code as Makefile Project-&gt;ç‚¹å‡»Nextè¿›è¡Œä¸‹ä¸€æ­¥<br><img src="https://s1.ax1x.com/2018/01/22/p5ptMT.png" alt="å¯¼å…¥å·¥ç¨‹2"></li><li>ç¬¬äº”æ­¥:Import Existing Code çª—å£é€‰æ‹©æµè§ˆä½ çš„å·¥ç¨‹è·¯å¾„(å°±æ˜¯è§£å‹å‡ºæ¥çš„æ–‡ä»¶çš„è·¯å¾„)-&gt;ä¸‹æ–¹é€‰æ‹© Cygwin GCC å·¥å…·-&gt;å†ç‚¹å‡»FinishæŒ‰é’®å®Œæˆå¯¼å…¥ã€‚å¦‚æœåœ¨è¿™ä¸€æ­¥å‘ç°æ²¡æœ‰Cygwin GCCé€‰é¡¹å›å¤´å»æ£€æŸ¥æ˜¯å¦ç”¨Eclipse_IDE.exeé€‰æ‹©äº†æ­£ç¡®çš„ Cygwin è·¯å¾„ã€‚<br><img src="https://s1.ax1x.com/2018/01/23/p5AYtg.png" alt="å¯¼å…¥å·¥ç¨‹3"></li><li>ç¬¬å…­æ­¥:è¿™æ—¶å€™ä½ ä¼šå‘ç°ï¼Œä»€ä¹ˆéƒ½æ²¡å‡ºç°ï¼æ€ä¹ˆåŠï¼Ÿï¼Œé‚£å°±æ˜¯æŠŠæ¬¢è¿ç•Œé¢å‰æ‰ï¼è¿™æ ·åœ¨å³è¾¹Projectæ å°±èƒ½å‘ç°ä¸€ä¸ªæŠ˜å çš„å·¥ç¨‹ï¼Œç‚¹å‡»å¯ä»¥å±•å¼€ï¼Œæ•´ä¸ªç•Œé¢å¤§è‡´å¦‚ä¸‹å›¾ã€‚æˆ‘çš„å› ä¸ºæ˜¯ç”¨gitç›´æ¥å…‹éš†ä¸‹æ¥çš„ï¼Œæ‰€ä»¥åœ¨å·¥ç¨‹åæ—è¾¹ä¼šæç¤ºæ©™è‰²çš„å­—ã€‚å¦‚æœä½ æ˜¯ä»ç™¾åº¦äº‘ä¸‹è½½çš„é‚£å°±æ²¡æœ‰ï¼Œè¿™ä¸ªæ— éœ€ç†ä¼šï¼Œéƒ½ä¸€æ ·(ç‰›é€¼å§ï¼Œgit)ã€‚è¿™æ—¶å€™é—®é¢˜è¾“å‡ºçª—å£åº”è¯¥æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰çš„ï¼Œå¦‚æœæç¤ºä»€ä¹ˆæ‰¾ä¸åˆ°g++ã€makeç­‰ç­‰ï¼Œè¿”å›å»æ£€æŸ¥æ˜¯å¦é€‰æ‹©çš„å·¥å…·æ˜¯Cygwin GCCï¼ï¼ï¼ã€‚<br><a href="https://imgchr.com/i/p5ERIS"><img src="https://s1.ax1x.com/2018/01/23/p5ERIS.png" alt="å·¥ç¨‹æ•´ä½“ç»“æ„å›¾"></a></li></ul><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>æˆ‘ä»¬éƒ½æ˜¯ç”¨åˆ«äººçš„å·¥ç¨‹(Demo)ä¸Šå¼€å‘çš„ï¼Œæ‰€ä»¥è¿™ä¸€æ­¥å±äºæ¯”è¾ƒåŸºç¡€çš„ï¼Œæˆ‘ä»¬å¯¼å…¥è¿›æ¥ä¹‹ååº”è¯¥æ˜¯ç¼–è¯‘é€šä¸è¿‡çš„ï¼ä¸ºä»€ä¹ˆï¼Œå› ä¸ºæˆ‘ä»¬çš„SDKè·¯å¾„å’Œå†™Demoçš„äººä¸ä¸€æ ·ã€‚è¿™ä¸ªæ¶‰åŠåˆ°makefileçš„ç¼–å†™äº†ï¼Œä¸è¿‡åˆ«äººå·²ç»æŠŠæ•´ä¸ªmakefileç¼–å†™çš„æ¯”è¾ƒâ€æ™ºèƒ½â€äº†ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³è¦ç¼–è¯‘æˆåŠŸçš„è¯å…¶å®æ˜¯ä¸éœ€è¦æ‡‚makefileçš„ã€‚æˆ‘ä»¬æ”¹ä¸€æ”¹SDKçš„è·¯å¾„å°±è¡Œäº†ã€‚è¿™ä¸ªä¸‹ä¸€èŠ‚å†è®²ã€‚</p><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p>ä¹é‘«å®˜æ–¹çš„å¿«é€Ÿä¸Šæ‰‹æŒ‡å¯¼æ–‡æ¡£åœ¨ä¸Šä¸€ç¯‡&lt;ESP8266å¼€å‘ç¯å¢ƒæ­å»º&gt;-&gt;åè®° é‡Œæœ‰ç½‘ç›˜é“¾æ¥åœ¨è¿™é‡Œå°±ä¸æ”¾äº†ã€‚é‡Œé¢æœ‰SDKæ–‡ä»¶ç›®å½•çš„è®²è§£7&#x2F;31é¡µï¼Œçœ‹ä¸€ä¸‹ä¾¿äºåé¢ç†è§£ã€‚  æˆ‘æ•´ç†äº†ä¸€ä¸‹ï¼š  </p><ol><li>RTOS SDKå·¥ç¨‹ç›®å½•è®²è§£</li></ol><ul><li>binï¼šç¼–è¯‘â½£æˆçš„ BIN æ–‡ä»¶ï¼Œå¯ç›´æ¥ä¸‹è½½åˆ° Flash ä¸­ã€‚  </li><li>documentsï¼šSDK ç›¸å…³çš„â½‚æ¡£(RTOS api)æˆ–é“¾æ¥ã€‚  </li><li>driver_libï¼šä¹é‘«å®˜æ–¹æä¾›çš„é©±åŠ¨ç¤ºä¾‹ä»£ç ã€‚(IIC SPI GPIOç­‰)  </li><li>examplesï¼šå¯ä¾›ç”¨æˆ·äºŒæ¬¡å¼€å‘çš„ç¤ºä¾‹ä»£ç ã€‚(æˆ‘ä»¬æŠŠä¸è¦çš„åˆ æ‰)  <ul><li>openssl_demoï¼šä¹é‘«å®˜æ–¹æä¾›çš„ OpenSSL æ¥å£åŠŸèƒ½ç¤ºä¾‹ä»£ç ã€‚  </li><li>project_templateï¼šä¹é‘«å®˜æ–¹æä¾›çš„å·¥ç¨‹æ¨¡æ¿ç¤ºä¾‹ä»£ç ã€‚(æˆ‘ä»¬ç”¨è¿™ä¸ªï¼Œå…¶ä»–çš„ä»¥åå†è¯´)  </li><li>smart_configï¼šä¹é‘«å®˜â½…æä¾›çš„ SmartConfig åŠŸèƒ½ç¤ºä¾‹ä»£ç ã€‚  </li><li>spiffs_testï¼šä¹é‘«å®˜æ–¹æä¾›çš„ SPIFFS æ–‡ä»¶ç³»ç»ŸåŠŸèƒ½ç¤ºä¾‹ä»£ç ã€‚  </li><li>websocket_demoï¼šä¹é‘«å®˜æ–¹æä¾›çš„ WebSocket åŠŸèƒ½ç¤ºä¾‹ä»£ç ã€‚</li></ul></li><li>includeï¼šSDK è‡ªå¸¦å¤´æ–‡ä»¶ï¼ŒåŒ…å«äº†ç”¨æˆ·å¯ä½¿â½¤çš„ç›¸å…³ API å‡½æ•°åŠå…¶ä»–å®å®šä¹‰ï¼Œç”¨æˆ·æ— éœ€ä¿®æ”¹ã€‚  </li><li>ldï¼šé“¾æ¥æ—¶æ‰€éœ€çš„è„šæœ¬æ–‡ä»¶ï¼Œå¦‚â½†ç‰¹æ®Šéœ€æ±‚ï¼Œç”¨æˆ·æ— éœ€ä¿®æ”¹ã€‚(æ ¹æ®è¿™ä¸ªå¯ä»¥ç”Ÿæˆå¤šé’Ÿbinæ–‡ä»¶)  </li><li>libï¼šSDK æä¾›çš„åº“æ–‡ä»¶ã€‚(åªèƒ½ç”¨apiä¸èƒ½æ”¹ä¸èƒ½çœ‹)  </li><li>third_partyï¼šä¹é‘«å¼€æ”¾æºä»£ç çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå½“å‰åŒ…å«FreeRTOSã€JSONã€LWIP,mbedTLSã€noPollã€OpenSSLã€SPIFFS å’Œ SSLã€‚  </li><li>toolsï¼šç¼–è¯‘ BIN æ–‡ä»¶æ‰€éœ€çš„å·¥ç¨‹å…·ï¼Œç”¨æˆ·æ— éœ€ä¿®æ”¹ã€‚</li></ul><ol start="2"><li>Non-OS SDKå·¥ç¨‹ç›®å½•è®²è§£</li></ol><ul><li>binï¼šç¼–è¯‘â½£æˆçš„ BIN æ–‡ä»¶ï¼Œå¯ç›´æ¥ä¸‹è½½åˆ° Flash ä¸­ã€‚  </li><li>documentsï¼šSDK ç›¸å…³çš„â½‚æ¡£æˆ–é“¾æ¥ã€‚  </li><li>driver_libï¼šå¤–è®¾é©±åŠ¨çš„åº“æ–‡ä»¶ï¼Œå¦‚ï¼šUARTã€I2C å’Œ GPIO ç­‰ã€‚  </li><li>examplesï¼šå¯ä¾›ç”¨æˆ·æ¬¡å¼€å‘çš„ç¤ºä¾‹ä»£ç ï¼Œå¦‚ IoT Demo ç­‰ã€‚   </li><li>includeï¼šSDK â¾ƒå¸¦å¤´æ–‡ä»¶ï¼ŒåŒ…å«äº†ç”¨æˆ·å¯ä½¿ç”¨çš„ç›¸å…³ API å‡½æ•°åŠå…¶ä»–å®å®šä¹‰ï¼Œç”¨æˆ·æ— éœ€ä¿®æ”¹ã€‚  </li><li>ldï¼šé“¾æ¥æ—¶æ‰€éœ€çš„è„šæœ¬æ–‡ä»¶ï¼Œè‹¥æ— ç‰¹æ®Šéœ€æ±‚ï¼Œç”¨æˆ·â½†éœ€ä¿®æ”¹ã€‚  </li><li>libï¼šSDK æä¾›çš„åº“æ–‡ä»¶ã€‚  </li><li>toolsï¼šç¼–è¯‘ BIN æ–‡ä»¶æ‰€éœ€çš„å·¥å…·ï¼Œç”¨æˆ·æ— éœ€ä¿®æ”¹ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>ESP8266</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP8266å¼€å‘ç¯å¢ƒçš„æ­å»º</title>
    <link href="/2018/01/21/ESP8266%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/"/>
    <url>/2018/01/21/ESP8266%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h2><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²ä¸€ä¸‹ï¼ŒESP8266çš„å¼€å‘ç¯å¢ƒæ€ä¹ˆæ­å»ºã€‚</p><h2 id="å¼€å‘å·¥å…·ä¸‹è½½"><a href="#å¼€å‘å·¥å…·ä¸‹è½½" class="headerlink" title="å¼€å‘å·¥å…·ä¸‹è½½:"></a>å¼€å‘å·¥å…·ä¸‹è½½:</h2><p>å¯¹äºESP8266çš„å¼€å‘å·¥å…·æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯eclipseæ­å»ºçš„ä¸€ä¸ªIDEã€‚è¿™æ˜¯å®‰ä¿¡å¯å…¬å¸å¼€å‘å‡ºæ¥çš„ï¼Œä»–ä»¬å…¬å¸è¿˜å‡ºäº†ä¸€æ¬¾ä»˜è´¹çš„ï¼Œåªéœ€è¦ç‚¹ä¸€ç‚¹å°±èƒ½ç”ŸæˆåŸºç¡€ä»£ç çš„å·¥å…·(ä¸ä»˜è´¹åªèƒ½ç”Ÿæˆä»£ç ä¸èƒ½ç¼–è¯‘)ã€‚<a href="http://pan.baidu.com/s/1skRvR1j">ç‚¹å‡»è¿™é‡Œ</a>ä¸‹è½½æœ€æ–°çš„IDEã€‚è¿™é‡Œæœ€æ–°æ›´æ–°æ˜¯2016å¹´ï¼Œåº”è¯¥å·²ç»åœæ­¢äº†æ›´æ–°ã€‚é˜²æ­¢é“¾æ¥å¤±æ•ˆï¼Œæˆ‘è½¬å­˜åˆ°æˆ‘çš„ç½‘ç›˜ï¼š<a href="https://pan.baidu.com/s/1c3OitUw">ESP8266å¼€å‘ç¯å¢ƒ</a> å¯†ç : qnkhã€‚å¦‚æœæˆ‘çš„å¤±æ•ˆäº†è¯·è”ç³»æˆ‘æ›´æ¢ã€‚</p><h2 id="å¼€å‘ç¯å¢ƒæ­å»ºæ­¥éª¤"><a href="#å¼€å‘ç¯å¢ƒæ­å»ºæ­¥éª¤" class="headerlink" title="å¼€å‘ç¯å¢ƒæ­å»ºæ­¥éª¤"></a>å¼€å‘ç¯å¢ƒæ­å»ºæ­¥éª¤</h2><p>å½“ä½ å¿å—äº†ç™¾åº¦äº‘é™é€Ÿä¸‹è½½å®Œæˆåæ­å–œä½ æœ€<font color=#00ffff size=5>è‰°éš¾</font>çš„ä¸€æ­¥å®Œæˆï¼ä¸‹è½½ä¹‹åçš„ä¼šæœ‰å››ä¸ªæ–‡ä»¶ï¼š</p><!---more----><table><thead><tr><th>æ–‡ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>cygwin.exe</td><td>cygwinå’Œxtensaç¼–è¯‘å™¨ç¯å¢ƒ</td></tr><tr><td>Eclipse.exe</td><td>eclipse c&#x2F;c++ å¼€å‘å·¥å…·æ‰“åŒ…</td></tr><tr><td>ESP_IDE.exe</td><td>ä¸€ä½“åŒ–å¼€å‘ç¯å¢ƒ(é…ç½®)å·¥å…·</td></tr><tr><td>ä¸‹è½½å‰è¯»æˆ‘ï¼ï¼ï¼.txt</td><td>å°±æ˜¯è¯´æ˜æ–‡æ¡£å’Œæ•™ç¨‹(æˆ‘çš„æ•™ç¨‹æ„ä¹‰ä½•åœ¨!!!)</td></tr></tbody></table><ol><li>æˆ‘ä»¬è¦æŠŠä¸‹è½½çš„æ–‡ä»¶æ”¾åˆ°ä½ æƒ³è¦æ”¾çš„ä½ç½®è¯¥ä½ç½®å¿…é¡»<font color=#ff0000 size=5>ä¸èƒ½æœ‰ç©ºæ ¼</font>(cygwinç›®å½•ä¸èƒ½æœ‰ç©ºæ ¼)ï¼Œæˆ‘ä¸€å¼€å§‹æ”¾åœ¨äº†æ”¾åœ¨äº†â€D:\Program Files\ESP8266IDE&quot; ç›®å½•ä¸‹å¯¼è‡´åé¢æ²¡æ³•é€‰æ‹© cygwinã€‚æœ€åæˆ‘é€‰æ‹©æ”¾åœ¨ â€œD:\ESP8266IDE&quot;ï¼Œ</li><li>ç‚¹å‡»æ‰“å¼€cygwin.exeå’ŒEclipse.exeè¿›è¡Œè‡ªè§£å‹åˆ°å½“å‰ç›®å½•ï¼Œè§£å‹å®Œæˆä¹‹åä¼šåœ¨ç”Ÿæˆä¸¤ä¸ªç›®å½•ï¼Œâ€cygwin å’Œ eclipseâ€ã€‚</li><li>ç‚¹å‡»ESP_IDE.exeè¿è¡Œï¼Œé€‰æ‹©cygwinç›®å½•å’Œeclipseç›®å½•ã€‚åŒæ—¶å³ä¸‹è§’çš„Not Askä¹Ÿå‹¾é€‰ï¼Œè¿™æ ·ä¸‹æ¬¡å°±ä¸ä¼šå†æ¬¡å¼¹å‡ºæ¥è®©ä½ é€‰æ‹©pathã€‚å¦‚æœå‡ºé—®é¢˜äº†åˆ é™¤ESP_IDE.exeåŒçº§ç›®å½•-&gt;config-&gt;cfg.xmlï¼Œå†æ¬¡æ‰“å¼€å°±ä¼šæç¤ºä½ é€‰æ‹©ã€‚<br><img src="https://s1.ax1x.com/2018/01/21/pfHHkF.png" alt="é€‰æ‹©å·¥å…·è·¯å¾„"></li><li>é¦–æ¬¡è¿è¡Œä¼šæç¤ºé€‰æ‹©å·¥ä½œç©ºé—´çš„è·¯å¾„ã€‚è‡ªå·±å»ºä¸€ä¸ªç›®å½•é€‰æ‹©å°±OKäº†,æˆ‘é€‰æ‹©â€D:\ESP8266IDE\workspacesâ€,å‹¾é€‰ä¸‹é¢çš„é€‰é¡¹ä¸‹æ¬¡å°±ä¸ä¼šå¼¹å‡ºæ¥è®©ä½ é€‰äº†ã€‚(å¤‡æ³¨ï¼šä¸€ä¸ªå·¥ä½œç©ºé—´å¯ä»¥åŒæ—¶æ‰“å¼€å¾ˆå¤šä¸ªå·¥ç¨‹ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªå·¥ç¨‹éƒ½éœ€è¦æ‰“å¼€ä¸€æ¬¡IDE)ã€‚<br><img src="https://s1.ax1x.com/2018/01/21/pfHbY4.png" alt="é€‰æ‹©å·¥ä½œç©ºé—´"></li></ol><h2 id="å®Œæˆæ­å»º"><a href="#å®Œæˆæ­å»º" class="headerlink" title="å®Œæˆæ­å»º"></a>å®Œæˆæ­å»º</h2><p>è¿™æ ·å°±å®Œæˆäº†å¼€å‘ç¯å¢ƒçš„é…ç½®äº†ï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰æœ‰ç‚¹ç®€å•çš„è¿‡åˆ†ã€‚æŠŠcygwin.exeã€Eclipse.exeåˆ é™¤èŠ‚çœç©ºé—´ã€‚æœ€åï¼Œåˆ«å¿˜äº†æŠŠESP_IDE.exeåˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼åˆ°æ¡Œé¢(ä¸æ‡‚çš„â€¦)ï¼Œè¿™æ ·ä½ ä¸‹æ¬¡ç›´æ¥ç‚¹å‡»å°±èƒ½æ‰“å¼€eclipseIDEäº†ã€‚  </p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><ol><li>è¿˜æœ‰å¦å¤–ä¸€ç§ä½¿ç”¨ubuntué•œåƒè¿›è¡Œç¼–è¯‘çš„æ–¹å¼ï¼Œä¸è¿‡æ²¡æœ‰è¿™ç§æ–¹ä¾¿æ‰€ä»¥å°±ä¸ä»‹ç»äº†(å®˜æ–¹æœ‰ä¸€ä¸ªæ–‡æ¡£å¯è‡ªè¡Œå»ä¹é‘«ä¸‹è½½ä¹Ÿå¯ä¸‹è½½æˆ‘ä¸Šä¼ åˆ°ç½‘ç›˜çš„é“¾æ¥:<a href="https://pan.baidu.com/s/1ggMazRl">https://pan.baidu.com/s/1ggMazRl</a> å¯†ç : g3y3 ,åœ¨ç¬¬9&#x2F;31é¡µå¼€å§‹è®²ã€‚æ‰€ä»¥æ„Ÿè°¢<a href="https://www.ai-thinker.com/">å®‰ä¿¡å¯å…¬å¸</a>çš„å¥‰çŒ®ï¼Œè®©æˆ‘ä»¬å¯ä»¥çœå»ä½¿ç”¨å®˜æ–¹ubuntué•œåƒç¼–è¯‘çš„å¼€å‘æ–¹å¼ï¼æ’’èŠ±ingâ€¦</li><li>arduino IDEå·¥å…·ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥å¼€å‘ï¼Œä¸è¿‡æˆ‘å¹¶ä¸å–œæ¬¢arduinoæ‰€ä»¥æˆ‘ä¸€çœ¼éƒ½æ²¡çœ‹è¿‡23333ã€‚</li></ol><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><ol><li>ä¹é‘«å…¬å¸å®˜æ–¹æ–‡æ¡£èµ„æ–™ã€å·¥å…·ã€demoä¸‹è½½åœ°å€:<a href="http://espressif.com/zh-hans/support/download/overview">http://espressif.com/zh-hans/support/download/overview</a>.</li><li>å®‰ä¿¡å¯å…¬å¸å®˜æ–¹çš„èµ„æ–™åœ°å€:<a href="http://wiki.ai-thinker.com/esp8266">http://wiki.ai-thinker.com/esp8266</a>.</li><li>å¼€å‘å¿«å…¬å¸æä¾›å…è´¹çš„ESP8266æ¨¡ç»„çš„ç”³è¯·:<a href="http://bbs.kaifakuai.com/thread-981-1-1.html">http://bbs.kaifakuai.com/thread-981-1-1.html</a>,æ³¨å†Œä¹‹åå°±å¯ä»¥ç”³è¯·(æˆ‘å½“æ—¶å°±æ˜¯å› ä¸ºç”³è¯·åˆ°äº†æ‰å¼€å§‹ç©ESP8266çš„ï¼Œè™½ç„¶å¾ˆä¾¿å®œä½†æ˜¯æŠµä¸ä½ä»–ä¸è¦é’±å•Šï¼ï¼ï¼).å½“ç„¶ä»–ä»¬å…¬å¸èµ„æ–™ä¹Ÿå¾ˆå¤šçš„ä¹Ÿå¾ˆæ´»è·ƒï¼Œå¤§å®¶å¯ä»¥åˆ°å¤„é€›é€›ã€‚å¼€å‘å¿«å®˜æ–¹å¼€å‘å¹³å°:<a href="http://developer.kaifakuai.com/">http://developer.kaifakuai.com</a>ã€‚QQç¾¤:445880047ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>ESP8266</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ESP8266å¼€å‘å†ç¨‹å‰è¨€</title>
    <link href="/2018/01/21/ESP8266%E5%BC%80%E5%8F%91%E5%89%8D%E8%A8%80/"/>
    <url>/2018/01/21/ESP8266%E5%BC%80%E5%8F%91%E5%89%8D%E8%A8%80/</url>
    
    <content type="html"><![CDATA[<h2 id="æ„ä¹‰ï¼š"><a href="#æ„ä¹‰ï¼š" class="headerlink" title="æ„ä¹‰ï¼š"></a>æ„ä¹‰ï¼š</h2><p>è¿™ç®—æ˜¯ç¬¬ä¸€ä¸ªæ•™ç¨‹å§ï¼ŒESP8266ä»å¤§ä¸‰åˆ°ç°åœ¨å­¦äº†åˆ°ç°åœ¨ï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆè®°å½•ã€‚å›å¤´åˆå¾—æ‹¿ç€ä»£ç ä¸€ç‚¹ä¸€ç‚¹çœ‹ï¼Œæ‰€ä»¥æ‰“ç®—è®°å½•ä¸€ä¸‹ã€‚åŒæ—¶ä¹Ÿä¼šå…¼é¡¾ä¸€äº›è§£é‡Šå’Œæ•™ç¨‹æ€§è´¨çš„ä¸œè¥¿ï¼Œç»™èƒ½æ‰¾åˆ°è¿™çš„äººçœ‹çœ‹å§ï¼Œå¸Œæœ›èƒ½ç»™ä½ ä¸€ç‚¹å¸®åŠ©ã€‚</p><h2 id="æ›´æ–°ï¼š"><a href="#æ›´æ–°ï¼š" class="headerlink" title="æ›´æ–°ï¼š"></a>æ›´æ–°ï¼š</h2><p>æ›´æ–°çš„è¯ï¼Œä¸å®šæ—¶ã€‚è‡³äºå†…å®¹çš„é¡ºåºï¼Œå°±å…ˆæŒ‰ç…§ä¸€ä¸ªhello worldçš„å®ç°æ¥å†™ï¼Œä»å¼•è„šï¼ŒIDEï¼Œä¸‹è½½å·¥å…·ï¼Œæ¥çº¿åˆ°å†™hello worldï¼Œåˆ°ä¸‹è½½æŸ¥çœ‹ã€‚è¿™äº›è®²å®Œçš„è¯æ‰“å¼€ä½ ä¹Ÿå°±æ‡‚æ€ä¹ˆåšäº†ã€‚ä½†æ˜¯æˆ‘ä¸ä¼šå†™IOçš„ä½¿ç”¨å› ä¸ºæˆ‘è§‰å¾—ä»–çš„å®šä½ä½œä¸ºwifièŠ¯ç‰‡æ¯”è¾ƒå¥½ï¼Œå°±ä¸è¦æºæ‚å…¶ä»–çš„çš„ä¸œè¥¿äº†(ä¸ªäººçœ‹æ³•)ã€‚åé¢çš„è½¯ä»¶å±‚é¢çš„å®ç°(ä¸»è¦æ˜¯ç½‘ç»œé€šä¿¡çš„åº”ç”¨)çš„è¯ï¼Œä¹Ÿä¼šå†™ä¸€éƒ¨åˆ†ã€‚ä¸è¿‡æ„Ÿè§‰ç½‘ä¸Šå…¶å®æŒºå¤šçš„æ•™ç¨‹(æ¯”è¾ƒé›¶æ•£)ï¼Œæ‰€ä»¥ä¸æ’é™¤ä¼šç›´æ¥æŠŠæ¯”è¾ƒå¥½çš„æ¬è¿è¿‡æ¥ç„¶åé…åˆè‡ªå·±çš„ç†è§£è¯´ä¸€ä¸‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ESP8266</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Linuxç³»ç»Ÿç›®å½•è®²è§£</title>
    <link href="/2017/12/06/file%20system/"/>
    <url>/2017/12/06/file%20system/</url>
    
    <content type="html"><![CDATA[<hr><h2 id="bin-ç›®å½•"><a href="#bin-ç›®å½•" class="headerlink" title="&#x2F;bin ç›®å½•"></a>&#x2F;bin ç›®å½•</h2><ul><li>å…¨ç§°ï¼šBinary(Binaries)</li><li>ä½œç”¨ï¼šå­˜æ”¾äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¾‹å¦‚å‘½ä»¤è¡Œçš„cpå‘½ä»¤ã€‚</li><li>å¤‡æ³¨ï¼š&#x2F;binä¸‹çš„å‘½ä»¤æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥æ‰§è¡Œçš„ã€‚&#x2F;sbin(Spuer Binary)ç›®å½•ä¸‹çš„å‘½ä»¤åªæœ‰è¶…çº§ç”¨æˆ·æƒé™æ‰èƒ½æ‰§è¡Œï¼Œæ¯”å¦‚åˆ†åŒºæ“ä½œã€‚</li></ul><hr><h2 id="boot-ç›®å½•"><a href="#boot-ç›®å½•" class="headerlink" title="&#x2F;boot ç›®å½•"></a>&#x2F;boot ç›®å½•</h2><ul><li>å…¨ç§° ï¼šBoot</li><li>ä½œç”¨ ï¼šå­˜æ”¾æ“ä½œç³»ç»Ÿçš„å¼•å¯¼å¯åŠ¨éœ€è¦çš„æ–‡ä»¶ã€‚ä¸€èˆ¬100Må·¦å³(50~200)ã€‚</li><li>å¤‡æ³¨ ï¼šé‡Œé¢å­˜æ”¾çš„vmlinuzâ€¦æ–‡ä»¶å°±æ˜¯æ“ä½œç³»ç»Ÿçš„å†…æ ¸æ–‡ä»¶ï¼Œä»–åå­—å°±æ˜¯ç‰ˆæœ¬å·ã€‚é€šè¿‡bashè¿è¡Œ uname -r<br>å¯ä»¥çœ‹åˆ°ç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚grubå¼•å¯¼åŒæ ·åœ¨&#x2F;bootä¸‹ã€‚</li></ul><hr><h2 id="dev-ç›®å½•"><a href="#dev-ç›®å½•" class="headerlink" title="&#x2F;dev ç›®å½•"></a>&#x2F;dev ç›®å½•</h2><ul><li>å…¨ç§° ï¼šDevice</li><li>ä½œç”¨ ï¼šæŠŠè®¡ç®—æœºçš„ç¡¬ä»¶æŠ½è±¡ä¸ºæ–‡ä»¶å­˜å‚¨åœ¨&#x2F;devä¸‹é¢ã€‚è¯¸å¦‚ç¡¬ç›˜(hdÃ—),å¤„ç†å™¨(cpu),ç½‘å¡(net),usbç­‰ç­‰ã€‚</li></ul><hr><h2 id="etc-ç›®å½•"><a href="#etc-ç›®å½•" class="headerlink" title="&#x2F;etc ç›®å½•"></a>&#x2F;etc ç›®å½•</h2><ul><li>å…¨ç§° ï¼šEtcetera(å…¶ä»–)&#x2F;Editable Text Configuration(å¯ç¼–è¾‘é…ç½®æ–‡æœ¬)</li><li>ä½œç”¨ ï¼šä¿å­˜å‡ ä¹æ‰€æœ‰çš„é…ç½®æ–‡ä»¶ï¼Œç³»ç»Ÿçš„å„ä¸ªæœåŠ¡ã€ç»„ä»¶ã€è½¯ä»¶çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ°æ–¹ï¼Œä¸€èˆ¬ä»¥.cnfæˆ–.confç»“å°¾(configure)ã€‚</li></ul><hr><h2 id="home-ç›®å½•"><a href="#home-ç›®å½•" class="headerlink" title="&#x2F;home ç›®å½•"></a>&#x2F;home ç›®å½•</h2><ul><li>å…¨ç§° ï¼šHome</li><li>ä½œç”¨ ï¼šå­˜æ”¾é™¤rootç”¨æˆ·ä¹‹å¤–æ‰€æœ‰ç”¨æˆ·çš„â€™å®¶ç›®å½•â€™çš„ç›®å½•ã€‚<ul><li>ä¹Ÿå°±æ˜¯æ¯ä¸€ä¸ªç”¨æˆ·éƒ½ä¼šåœ¨&#x2F;ï½ˆomeä¸‹æœ‰ä¸€ä¸ªå¯¹åº”ç”¨æˆ·åçš„ç›®å½•ï¼Œç”¨äºå­˜æ”¾è¯¥ç”¨æˆ·çš„ç§æœ‰æ•°æ®ã€‚æ¯”å¦‚ç³»ç»Ÿé‡Œæœ‰ä¸€ä¸ªbegildç”¨æˆ·ï¼Œé‚£ä¹ˆ&#x2F;homeä¸‹å¿…æœ‰ä¸€ä¸ªBeildæ–‡ä»¶å¤¹ã€‚&#x2F;home&#x2F;begildä¸‹å­˜æ”¾è‡ªå·±çš„æ¡Œé¢ã€æ–‡æ¡£ç­‰ã€‚</li></ul></li></ul><hr><h2 id="lib-ç›®å½•"><a href="#lib-ç›®å½•" class="headerlink" title="&#x2F;lib ç›®å½•"></a>&#x2F;lib ç›®å½•</h2><ul><li>å…¨ç§° ï¼šLibrary(Libraries)</li><li>ä½œç”¨ ï¼šlinuxç³»ç»Ÿè¿è¡Œéœ€è¦çš„å…±äº«åº“æ–‡ä»¶ï¼Œç›¸å½“äºwindowsçš„.DLlæ–‡ä»¶(åŠ¨æ€é“¾æ¥åº“)ã€‚ä¸€èˆ¬ä»¥ .so (shared object)ç»“å°¾ã€‚</li><li>å¤‡æ³¨ï¼šåŒæ ·çš„è¿˜æœ‰&#x2F;lib32ã€&#x2F;lib64ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œä½œç”¨å’Œ&#x2F;libç›¸åŒï¼Œåªæ˜¯è¿ç”¨äº32ä½è¿˜æ˜¯64ä½ã€‚</li></ul><hr><h2 id="lost-found-ç›®å½•"><a href="#lost-found-ç›®å½•" class="headerlink" title="&#x2F;lost+foundã€€ç›®å½•"></a>&#x2F;lost+foundã€€ç›®å½•</h2><ul><li>å…¨ç§° ï¼šlost+found</li><li>ä½œç”¨ ï¼šç”¨äºå­˜æ”¾ç³»ç»Ÿå‘ç”Ÿé”™è¯¯çš„æ—¶å€™é—å¤±çš„æ–‡ä»¶ã€‚</li><li>å¤‡æ³¨ ï¼šåªæœ‰rootæƒé™æ‰èƒ½è®¿é—®</li></ul><hr><h2 id="mnt-ç›®å½•"><a href="#mnt-ç›®å½•" class="headerlink" title="&#x2F;mnt ç›®å½•"></a>&#x2F;mnt ç›®å½•</h2><ul><li>å…¨ç§° ï¼šMount(æŒ‚è½½)</li><li>ä½œç”¨ ï¼šå…¶ä»–æ–‡ä»¶ç³»ç»ŸæŒ‚è½½çš„æŒ‚è½½ç‚¹ã€‚ä½¿ç”¨mountå‘½ä»¤æŒ‚è½½(æ‰‹åŠ¨æŒ‚è½½)ã€‚</li><li>å¤‡æ³¨ ï¼šå…·å¤‡åŒæ ·ä½œç”¨çš„è¿˜æœ‰&#x2F;mediaç›®å½•ï¼Œä¸è¿‡mediaç›®å½•ä¸€èˆ¬ç”¨äºå®ç°è‡ªåŠ¨æŒ‚è½½ã€‚</li></ul><hr><h2 id="opt-ç›®å½•"><a href="#opt-ç›®å½•" class="headerlink" title="&#x2F;optã€€ç›®å½•"></a>&#x2F;optã€€ç›®å½•</h2><ul><li>å…¨ç§° ï¼šOptional application software packages(å¯é€‰çš„åº”ç”¨ç¨‹åº)</li><li>ä½œç”¨ ï¼šå­˜æ”¾ç¬¬ä¸‰æ–¹ã€å¤§å‹ã€ç‰ˆæƒä¿æŠ¤çš„è½¯ä»¶ã€æ¸¸æˆã€‚</li><li>å¤‡æ³¨ ï¼šå®‰è£…åˆ°&#x2F;optç›®å½•ä¸‹çš„ç¨‹åºï¼Œå®ƒæ‰€æœ‰çš„æ•°æ®ã€åº“æ–‡ä»¶ç­‰ç­‰éƒ½æ˜¯æ”¾åœ¨åŒä¸ªç›®å½•ä¸‹é¢ã€‚</li></ul><hr><h2 id="proc-ç›®å½•"><a href="#proc-ç›®å½•" class="headerlink" title="&#x2F;proc ç›®å½•"></a>&#x2F;proc ç›®å½•</h2><ul><li>å…¨ç§° ï¼š</li><li>ä½œç”¨ ï¼šå­˜æ”¾è¿›ç¨‹ä¿¡æ¯ï¼Œå†…æ ¸ä¿¡æ¯ï¼Œå†…å­˜ä½¿ç”¨ç­‰ç­‰å¿«é€Ÿå˜åŒ–çš„â€™æ–‡ä»¶â€™çš„ç›®å½•ã€‚</li><li>å¤‡æ³¨ ï¼šå®ƒæœ¬èº«ä¸å­˜åœ¨äºå®é™…çš„æ–‡ä»¶ç³»ç»Ÿé‡Œã€‚ä»–æ˜¯ä¸€ç§è™šæ‹Ÿçš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¾‹å¦‚æˆ‘ä»¬é€šè¿‡cat &#x2F;proc&#x2F;cpuinfoå‘½ä»¤å¯ä»¥æ‰“å¼€cpuinfoæ–‡ä»¶ã€‚é‡Œé¢å®Œæ•´çš„æè¿°äº†cpuçš„ä¿¡æ¯ã€‚</li></ul><hr><h2 id="root-ç›®å½•"><a href="#root-ç›®å½•" class="headerlink" title="&#x2F;root ç›®å½•"></a>&#x2F;root ç›®å½•</h2><ul><li>å…¨ç§° ï¼šRoot</li><li>ä½œç”¨ ï¼šrootç”¨æˆ·çš„å®¶ç›®å½•ï¼Œå…¶ä»–çš„ç”¨æˆ·å®¶ç›®å½•ä½äº&#x2F;homeä¸‹ã€‚</li></ul><hr><h2 id="tmp-ç›®å½•"><a href="#tmp-ç›®å½•" class="headerlink" title="&#x2F;tmp ç›®å½•"></a>&#x2F;tmp ç›®å½•</h2><ul><li>å…¨ç§° ï¼štemp</li><li>ä½œç”¨ ï¼šå­˜æ”¾ç³»ç»Ÿçš„ä¸´æ—¶æ–‡ä»¶,ä¾‹å¦‚å‹ç¼©æ–‡ä»¶é¢„è§ˆ.å…³æœºä¼šè‡ªåŠ¨æ¸…ç†,æ‰‹åŠ¨æ¸…ç†ç”¨tmpwatchå‘½ä»¤.</li></ul><hr><h2 id="usr-ç›®å½•"><a href="#usr-ç›®å½•" class="headerlink" title="&#x2F;usr ç›®å½•"></a>&#x2F;usr ç›®å½•</h2><ul><li>å…¨ç§° ï¼šunix software resource</li><li>ä½œç”¨ ï¼šè½¯ä»¶å®‰è£…çš„ç›®å½•.</li></ul><hr><h2 id="var-ç›®å½•"><a href="#var-ç›®å½•" class="headerlink" title="&#x2F;var ç›®å½•"></a>&#x2F;var ç›®å½•</h2><ul><li>å…¨ç§° ï¼švariable</li><li>ä½œç”¨ ï¼šå­˜æ”¾ç³»ç»Ÿ&#x2F;è½¯ä»¶è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ç¼“å­˜,ç™»å½•æ—¥å¿—ç­‰ç­‰æ–‡ä»¶.</li></ul>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linuxç›®å½•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cå‡½æ•°æŒ‡é’ˆ</title>
    <link href="/2017/10/28/C%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/"/>
    <url>/2017/10/28/C%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88/</url>
    
    <content type="html"><![CDATA[<p>å½“æˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„ä»£ç æ€ä¹ˆå»ç†è§£å®ƒçš„æ„ä¹‰å‘¢ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C">(* ( <span class="hljs-type">void</span> (*) () ) <span class="hljs-number">0</span>) ()<br></code></pre></td></tr></table></figure><p>è§£æè¿™ä¸ªå‡½æ•°éœ€è¦ä¸‹é¢å‡ ä¸ªçŸ¥è¯†</p><ol><li>å‡½æ•°ç”³æ˜åŒ…å«è¿”å›å€¼ï¼Œå‡½æ•°åï¼Œå‚æ•°åˆ—è¡¨ã€‚<ul><li>å¦‚è¿”å›å€¼æ˜¯â€™intâ€™ å‡½æ•°åä¸ºâ€™funâ€™,å‚æ•°åˆ—è¡¨ä¸ºâ€™voidâ€™ã€‚</li><li><pre><code class="C">int fun(void);<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-number">2.</span> å‡½æ•°æŒ‡é’ˆå’Œè¿”å›å€¼ä¸ºæŒ‡é’ˆçš„å‡½æ•°<br>   - å‡½æ•°æŒ‡é’ˆ:å‡½æ•°æŒ‡é’ˆpfunæŒ‡å‘çš„æ˜¯ä¸€ä¸ªè¿”å›å€¼ä¸º<span class="hljs-built_in">int</span>ç±»å‹ï¼Œå‚æ•°åˆ—è¡¨ä¸ºç©ºçš„å‡½æ•°ã€‚åªè¦æ˜¯ç¬¦åˆè¿™ä¸ª<span class="hljs-string">&#x27;å½¢çŠ¶&#x27;</span>çš„å‡½æ•°éƒ½å¯ä»¥å§åœ°å€èµ‹ç»™pfunã€‚<br>   - ```c<br>     <span class="hljs-built_in">int</span> (*pfun) (<span class="hljs-keyword">void</span>); <br></code></pre></td></tr></table></figure></code></pre></li><li>è¿”å›å€¼ä¸ºæŒ‡é’ˆçš„å‡½æ•°:è¿”å›å€¼ä¸ºint*ç±»å‹çš„æŒ‡é’ˆï¼Œå‚æ•°åˆ—è¡¨ä¸ºç©ºçš„å‡½æ•°fun1ã€‚å®ƒè¡¨ç¤ºfun1æ˜¯ä¸€ä¸ªç¡®å®šçš„å‡½æ•°ã€‚ä¸åƒpfunæ˜¯å¯ä»¥æŒ‡å‘ä»»ä½•ç¬¦åˆæ¨¡æ¿çš„å‡½æ•°ã€‚</li><li><pre><code class="c">int* fun1 (void); <figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ocaml">   æ‰€ä»¥åœ¨ä¹¦å†™çš„æ—¶å€™å¿…é¡»æ³¨æ„æ˜¯å¦éœ€è¦åŠ æ‹¬å·ã€‚<br><span class="hljs-number">3.</span> ç±»å‹è½¬åŒ–ç¬¦ã€‚å°±åƒæˆ‘ä»¬å¹³æ—¶è¯´çš„æ€ä¹ˆæŠŠä¸€ä¸ª<span class="hljs-built_in">int</span>å¼ºåˆ¶è½¬åŒ–ä¸º<span class="hljs-built_in">char</span>å‘¢ï¼Œå°±æ˜¯<br>   ``<span class="hljs-type">`C</span><br>   <span class="hljs-built_in">int</span> a = <span class="hljs-number">48</span>;<br>   <span class="hljs-built_in">char</span> b = (<span class="hljs-built_in">char</span>) a;<br></code></pre></td></tr></table></figure>æˆ‘ä»¬æ€ä¹ˆæ„å»ºä¸€ä¸ªç±»å‹è½¬åŒ–ç¬¦å‘¢ï¼Œå°±æ˜¯æŠŠç›®æ ‡ç±»å‹ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°æ¨¡æ¿çš„ç±»å‹è½¬åŒ–ç¬¦æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Œå°±æ˜¯æŠŠå‡½æ•°åå»æ‰ï¼Œç„¶åç”¨æ‹¬å·æŠŠä»–æ‹¬èµ·æ¥ã€‚æ¯”å¦‚ä¸Šé¢çš„å‡½æ•°æŒ‡é’ˆpfunè¿™ä¸ªæ¨¡æ¿ã€‚æˆ‘ä»¬åªéœ€è¦å°†pfunå»æ‰ï¼Œç„¶åæŠŠå‰©ä¸‹éƒ¨åˆ†æ‹¬èµ·æ¥ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C">(<span class="hljs-type">int</span> (*) (<span class="hljs-type">void</span>) )<br></code></pre></td></tr></table></figure>è¿™å°±æ˜¯ä¸€ä¸ªè¿”å›å€¼ä¸ºintå‚æ•°åˆ—è¡¨ä¸ºç©ºçš„å‡½æ•°æŒ‡é’ˆçš„å¼ºåˆ¶ç±»å‹è½¬åŒ–ç¬¦ã€‚</code></pre></li></ul></li></ol><hr><p>å®Œæˆä¸Šè¿°ç†è§£ä¹‹åï¼Œæˆ‘ä»¬ç€æ‰‹ç†è§£ä¸€ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C">(* ( <span class="hljs-type">void</span> (*) () ) <span class="hljs-number">0</span>) ()<br></code></pre></td></tr></table></figure><p>é¦–å…ˆé€šè¿‡ä¸‹é¢è¿™ä¸ªå¼å­å¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œé‚£ä¹ˆå·¦æ‹¬å·é‡Œé¢çš„å°±æ˜¯å‡½åã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C">(       funname     ) ()<br></code></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯ &#96;&#96;&#96;C<br>       * (void (*) () ) 0   &#x3D;&#x3D; funname<br>       <figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs delphi"><br>æŠŠ<span class="hljs-number">0</span>å¼ºåˆ¶ç±»å‹è½¬åŒ–ä¸ºvoid <span class="hljs-comment">(*) () å‹çš„å‡½æ•°æŒ‡é’ˆã€‚ä¹Ÿå°±æ˜¯æŒ‡å‘å‡½æ•°åœ°å€ä¸º0çš„æŒ‡é’ˆ ```C</span><br><span class="hljs-comment">                                                                        (void (*)</span> () ) <span class="hljs-number">0</span> <br></code></pre></td></tr></table></figure></p>]]></content>
    
    
    <categories>
      
      <category>cè¯­è¨€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æŒ‡é’ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ‹è¯•ç¼–è¯‘å™¨æ˜¯å¦æ”¯æŒåµŒå¥—æ³¨é‡Š</title>
    <link href="/2017/10/01/%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91%E5%99%A8%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%B5%8C%E5%A5%97%E6%B3%A8%E9%87%8A/"/>
    <url>/2017/10/01/%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91%E5%99%A8%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81%E5%B5%8C%E5%A5%97%E6%B3%A8%E9%87%8A/</url>
    
    <content type="html"><![CDATA[<p>é—®é¢˜ï¼šæŸäº›Cç¼–è¯‘å™¨å…è®¸åµŒå¥—æ³¨é‡Šã€‚è¯·å†™ä¸€ä¸ªæµ‹è¯•ç¨‹åºï¼Œè¦æ±‚ï¼šæ— è®ºæ˜¯å¯¹å…è®¸åµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨ï¼Œè¿˜æ˜¯å¯¹ä¸å…è®¸åµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨ï¼Œè¯¥ç¨‹åºéƒ½èƒ½æ­£å¸¸é€šè¿‡ç¼–è¯‘ï¼ˆæ— é”™è¯¯æ¶ˆæ¯å‡ºç°ï¼‰ï¼Œ ä½†æ˜¯è¿™ä¸¤ç§æƒ…å†µä¸‹ç¨‹åºæ‰§è¡Œçš„ç»“æœå´ä¸ç›¸åŒã€‚</p><p>æç¤ºï¼š åœ¨ç”¨åŒå¼•å·æ‹¬èµ·çš„å­—ç¬¦ä¸²ä¸­ï¼Œ æ³¨é‡Šç¬¦ &#x2F;* å±äºå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œè€Œåœ¨æ³¨é‡Šä¸­å‡ºç°çš„åŒå¼•å· â€œ â€œ åˆå±äºæ³¨é‡Šçš„ä¸€éƒ¨åˆ†ã€‚</p><p>å‡ºè‡ªâ€”â€”ã€ŠCé™·é˜±ä¸ç¼ºé™·ã€‹ç»ƒä¹ 1-1</p><!---more----><p>åµŒå¥—æ³¨é‡Šï¼šé¡¾åæ€ä¹‰å°±æ˜¯æ³¨é‡Šé‡ŒåµŒå¥—ç€æ³¨é‡Šã€‚æ¯”å¦‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/</span><br></code></pre></td></tr></table></figure><p>å¯¹äºè¿™æ®µä»£ç ï¼Œä¸åŒçš„ç¼–è¯‘å™¨è¯†åˆ«çš„ç»“æœä¸åŒï¼š</p><p><img src="https://s1.ax1x.com/2017/10/01/13Ezn.png"></p><p>æˆ‘ä»¬å¦‚ä½•é€šè¿‡ä»£ç çš„è¾“å‡ºåˆ¤å®šç¼–è¯‘å™¨æ˜¯å¦æ”¯æŒåµŒå¥—æ³¨é‡Šå‘¢ï¼Œé‡ç‚¹å°±æ˜¯è®©åŒä¸€æ®µä»£ç ï¼Œæ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨å’Œä¸æ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨æ³¨é‡Šæ‰ä¸åŒçš„åœ°æ–¹ã€‚æ ¹æ®é¢˜ç›®çš„æç¤ºå­—ç¬¦ä¸²ä¸­çš„ &#x2F;* æ˜¯å±äºå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ â€œ&#x2F;*aa*&#x2F;â€œ è¿™é‡Œé¢çš„æ³¨é‡Šæ ‡å·ç¼–è¯‘å™¨æ˜¯ä¸ä¼šç†ä¼šçš„ï¼Œè€Œ &#x2F;*â€œaa*â€œ&#x2F; è¿™é‡Œé¢çš„ â€œaaâ€ æ˜¯ä¸ä¼šè¯†åˆ«ä¸ºå­—ç¬¦ä¸²çš„ã€‚è¿˜æœ‰ä¸€ç‚¹æ— è®ºæ˜¯ â€œ â€œ è¿˜æ˜¯ &#x2F;**&#x2F;éƒ½æ˜¯å°±è¿‘åŒ¹é…çš„ã€‚</p><ul><li><ol><li>æˆ‘ä»¬é¦–å…ˆæ„å»ºä¸€ä¸ªåµŒå¥—çš„æ³¨é‡Šï¼Œè¿™ä¸ªæ³¨é‡Šåœ¨<strong>æ”¯æŒ</strong>åµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨é‡Œèƒ½ç¼–è¯‘é€šè¿‡ï¼Œè€Œåœ¨<strong>ä¸æ”¯æŒ</strong>çš„ç¼–è¯‘å™¨é‡Œç¼–è¯‘å¤±è´¥ï¼š<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/</span><br></code></pre></td></tr></table></figure>ä¸æ”¯æŒçš„ç³»ç»Ÿä¸­å‡ºç°äº†â€*&#x2F;â€œå¯¼è‡´ç¼–è¯‘å¤±è´¥</li></ol></li></ul><p><img src="https://s1.ax1x.com/2017/10/01/13Ezn.png"></p><ul><li><ol start="2"><li>æˆ‘ä»¬é€šè¿‡æ·»åŠ ä¸€ä¸ª â€œ ä½¿å¾—ä¸æ”¯æŒçš„ç³»ç»Ÿç¼–è¯‘æˆåŠŸ<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/&quot;</span><br></code></pre></td></tr></table></figure><img src="https://s1.ax1x.com/2017/10/01/13KdU.png"></li></ol></li><li><ol start="3"><li>å¯ä»¥çœ‹å‡ºè¿™æ ·æ·»åŠ ä¹‹åä¸æ”¯æŒçš„ç¼–è¯‘å™¨å·²ç»èƒ½ç¼–è¯‘æˆåŠŸå¹¶ä¸”æœ‰è¾“å‡ºä¸€å­—ç¬¦ä¸²ï¼Œæ”¯æŒçš„ç³»ç»Ÿç”±äºå¤šäº†ä¸€ä¸ª â€œ å¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼Œæ ¹æ®é¢˜ç›®æç¤ºæˆ‘ä»¬æ„å»ºä¸€ä¸ªå­—ç¬¦ä¸²â€  â€œå¹¶ä¸”â€&#x2F;*,*&#x2F;â€œ ä¸¤ä¸¤é…å¯¹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ·»åŠ ä¸€ä¸ª &#x2F;*å½¢æˆâ€&#x2F;*â€œ<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/&quot;</span><span class="hljs-comment">/*&quot;</span><br></code></pre></td></tr></table></figure><img src="https://s1.ax1x.com/2017/10/01/13MoF.png"></li></ol></li><li><ol start="4"><li>è¿™æ ·æ“ä½œä¹‹åæ”¯æŒ&#x2F;ä¸æ”¯æŒçš„ç¼–è¯‘å™¨è¾“å‡ºä¸åŒçš„å­—ç¬¦ä¸²(è“è‰²éƒ¨åˆ†),ä½†æ˜¯ä¸æ”¯æŒçš„ç¼–è¯‘å™¨å¤šäº† &#x2F;* â€œç¼–è¯‘å¤±è´¥ï¼Œè€Œå®ƒåˆšå¥½åˆæ˜¯å¤šè¡Œæ³¨é‡Šçš„å¤´,æ‰€ä»¥æˆ‘ä»¬å¾—åŠ ä¸€ä¸ªå°¾ *&#x2F; ä½¿å¾—ä»–ä»¬é…å¯¹ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/&quot;</span><span class="hljs-comment">/*&quot;*/</span><br></code></pre></td></tr></table></figure><img src="https://s1.ax1x.com/2017/10/01/13li4.png"></li></ol></li><li><ol start="5"><li>æˆ‘ä»¬ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºä¸æ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨å·²ç»èƒ½é€šè¿‡ç¼–è¯‘å¹¶ä¸”æœ‰åŒºåˆ«å»æ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨çš„è¾“å‡ºã€‚ä½†æ˜¯æ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨ç”±äºå¤šäº†*&#x2F;å¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼Œå› ä¸ºä¸æ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨çš„æ³¨é‡Šä¹‹é—´æ— è®ºæ˜¯ä»€ä¹ˆéƒ½å¯ä»¥å¿½ç•¥ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æœ€åçš„   *&#x2F; ä¹‹å‰åŠ ä¸€ä¸ª &#x2F;* è®©æ”¯æŒåµŒå¥—æ³¨é‡Šçš„ç¼–è¯‘å™¨èƒ½æ‰¾åˆ°é…å¯¹çš„æ³¨é‡Šå¯¹ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/&quot;</span><span class="hljs-comment">/*&quot;/**/</span><br></code></pre></td></tr></table></figure><img src="https://s1.ax1x.com/2017/10/01/131JJ.png"></li></ol></li></ul><p>é€šè¿‡ä¸Šè¿°æ­¥éª¤æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªåˆé€‚çš„è¯­å¥ä½¿å¾—åœ¨ä¸¤ç§ç¼–è¯‘å™¨ä¸­ç¼–è¯‘æˆåŠŸå¹¶ä¸”æœ‰ä¸åŒçš„è¾“å‡ºã€‚</p><p><img src="https://s1.ax1x.com/2017/10/01/133W9.png"></p><p>é€šè¿‡ä¸€æ®µç®€å•çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹æ•ˆæœ</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">ISSupNestComment</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;This compiler %s support nested comment \r\n&quot;</span>,<br>           ISSupNestComment()? <span class="hljs-string">&quot;&quot;</span>: <span class="hljs-string">&quot;does not&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">ISSupNestComment</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">char</span> *Str=<span class="hljs-comment">/*&quot;/*&quot;*/</span><span class="hljs-string">&quot;*/&quot;</span><span class="hljs-comment">/*&quot;/**/</span>;<br>    <span class="hljs-keyword">if</span>(Str[<span class="hljs-number">0</span>]==<span class="hljs-string">&#x27;*&#x27;</span>)<span class="hljs-comment">//&quot;*/&quot;ä¸æ”¯æŒåµŒå¥—æ³¨é‡Š</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span>           <span class="hljs-comment">//&quot;/*&quot;æ”¯æŒåµŒå¥—æ³¨é‡Š</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è‡ªå·±åšå®Œè¿™ä¸ªæ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ï¼Œä¸Šç½‘æœäº†ä¸€æ³¢ï¼Œå‘ç°åˆ«äººæƒ³çš„æ›´æ˜¯ç²¾å¦™ã€‚ä¸ç¦å‘å‡ºä¸€å¥—èµèµä¸‰è¿ï¼Œå§æ§½ç‰›é€¼666ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹ä¸€å¤§ä½¬ä»¬æ˜¯æ€ä¹ˆåšçš„ã€‚</p><h1 id="1-Doug-McIlroy"><a href="#1-Doug-McIlroy" class="headerlink" title="1.Doug McIlroy"></a>1.Doug McIlroy</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-comment">/*/*/</span><span class="hljs-number">0</span>*<span class="hljs-comment">/**/</span><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p> è¿™ä¸ªè§£æ³•ä¸»è¦åˆ©ç”¨äº†ç¼–è¯‘å™¨ä½œè¯æ³•åˆ†ææ—¶çš„â€œå¤§å˜´æ³•â€è§„åˆ™ã€‚ç¼–è¯‘å™¨æ”¯æŒåµŒå¥—æ³¨é‡Šï¼Œåˆ™ä¸Šå¼å°†è¢«è§£é‡Šä¸º<strong>1</strong>.ç¼–è¯‘å™¨ä¸æ”¯æŒåµŒå¥—æ³¨é‡Šï¼Œåˆ™ä¸Šå¼å°†è¢«è§£é‡Šä¸º <strong>0*1</strong>.</p><p><img src="https://s1.ax1x.com/2017/10/01/135Wj.png"></p><h1 id="2-TimWu"><a href="#2-TimWu" class="headerlink" title="2.TimWu"></a>2.<a href="http://www.cppblog.com/Tim/archive/2011/03/25/142726.html">TimWu</a></h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> A <span class="hljs-comment">/* aaa /* a*/</span> a</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> B */</span><br><br><span class="hljs-type">bool</span> <span class="hljs-title function_">CanNesting</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> B</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">else</span></span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä»–åˆ©ç”¨çš„å¤šè¡Œæ³¨é‡Šå’Œå®å®šä¹‰çš„ç‰¹æ€§ï¼Œç¼–è¯‘å™¨æ”¯æŒåµŒå¥—æ³¨é‡Šå®å®šä¹‰Båˆ™ä¼šè¢«æ³¨é‡Šæ‰å¯¼è‡´æ²¡æœ‰å®å®šä¹‰Bã€‚ç¼–è¯‘å™¨ä¸æ”¯æŒåµŒå¥—æ³¨é‡Šï¼Œå®å®šä¹‰Båˆ™ä¼šå®šä¹‰ä¸º *&#x2F;ã€‚é€šè¿‡é¢„ç¼–è¯‘åˆ¤æ–­å°±å¯ä»¥è¾“å‡ºç»“æœã€‚</p><p><img src="https://s1.ax1x.com/2017/10/01/13OTU.png"></p>]]></content>
    
    
    <categories>
      
      <category>cè¯­è¨€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åµŒå¥—æ³¨é‡Š</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤„ç†å™¨å¤§å°ç«¯å­˜å‚¨æ¨¡å¼</title>
    <link href="/2017/09/13/%E5%A4%A7%E5%B0%8F%E7%AB%AF/"/>
    <url>/2017/09/13/%E5%A4%A7%E5%B0%8F%E7%AB%AF/</url>
    
    <content type="html"><![CDATA[<p>å¤§ç«¯æ¨¡å¼ï¼šæ˜¯æŒ‡æ•°æ®çš„<strong>é«˜å­—èŠ‚</strong>ä¿å­˜åœ¨å†…å­˜çš„<strong>ä½åœ°å€</strong>ä¸­ï¼Œè€Œæ•°æ®çš„<strong>ä½å­—èŠ‚</strong>ä¿å­˜åœ¨å†…å­˜çš„<strong>é«˜åœ°å€</strong>ä¸­ã€‚</p><p>å°ç«¯æ¨¡å¼ï¼šæ˜¯æŒ‡æ•°æ®çš„<strong>é«˜å­—èŠ‚</strong>ä¿å­˜åœ¨å†…å­˜çš„<strong>é«˜åœ°å€</strong>ä¸­ï¼Œè€Œæ•°æ®çš„<strong>ä½å­—èŠ‚</strong>ä¿å­˜åœ¨å†…å­˜çš„<strong>ä½åœ°å€</strong>ä¸­ã€‚</p><p>ä¾‹å¦‚ï¼šä¸€ä¸ªæ•°æ®æ— ç¬¦å·32ä½æ•´æ•°0x12345678,å…¶ä¸­0x12å±äºé«˜å­—èŠ‚(æƒå€¼å¤§)è€Œ0x78å±äºä½å­—èŠ‚(æƒå€¼å°),åœ¨ä¸åŒçš„æ¨¡å¼ä¸‹å­˜å‚¨çš„æ–¹å¼å¦‚ä¸‹è¡¨ï¼š</p><table><thead><tr><th>å†…å­˜åœ°å€</th><th>0x1000</th><th>0x1001</th><th>0x1002</th><th>0x1003</th></tr></thead><tbody><tr><td>å¤§ç«¯æ¨¡å¼</td><td>0x12</td><td>0x34</td><td>0x56</td><td>0x78</td></tr><tr><td>å°ç«¯æ¨¡å¼</td><td>0x78</td><td>0x56</td><td>0x34</td><td>0x12</td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥çœ‹å¾—å‡ºæ¥å¤§ç«¯æ¨¡å¼å’Œæˆ‘ä»¬çš„é˜…è¯»ä¹ æƒ¯ç›¸åŒï¼Œæƒå€¼ä»å·¦å¾€å³æ˜¯é«˜ä½-&gt;ä½ä½è€Œåœ°å€åˆ™æ˜¯ä½ä½-&gt;é«˜ä½ã€‚å°ç«¯æ¨¡å¼åˆ™æ˜¯éšç€åœ°å€ä»å·¦å¾€å³å¢å¤§æƒå€¼å¢å¤§ã€‚åœ°å€å°±ä»£è¡¨äº†æƒå€¼çš„å¤§å°ã€‚</p><!---more----><p>åˆ©ç”¨ä¸‹é¢cä»£ç å¯ä»¥çœ‹åˆ°è¿è¡Œç¯å¢ƒæ˜¯å¦‚ä½•å­˜å‚¨ä¸€ä¸ªuintæ•°æ®çš„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">endian</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc,<span class="hljs-type">char</span> arg[])</span><br>&#123;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> a=<span class="hljs-number">0x12345678</span>;<br>    <span class="hljs-type">char</span> *ap=&amp;a;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0x%x storage in system is:\r\n&quot;</span>,a);<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">4</span>;i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;addr:0x%x,value:0x%x\r\n&quot;</span>,ap+i,ap[i]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;system storage by %s_endian&quot;</span>,endian()? <span class="hljs-string">&quot;Big&quot;</span>:<span class="hljs-string">&quot;Little&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œçš„ç»“æœå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹å‡ºè¯¥ç³»ç»Ÿæ˜¯å°ç«¯ç³»ç»Ÿã€‚</p><p><a href="https://imgchr.com/i/1Mp4A"><img src="https://s1.ax1x.com/2017/10/01/1Md81.png"></a></p><p>æˆ‘ä»¬å¦‚ä½•ç®€å•çš„åˆ¤æ–­ä¸€ä¸ªç³»ç»Ÿçš„å¤§å°ç«¯å‘¢ã€‚æˆ‘ä»¬çŸ¥é“**å…±ç”¨ä½“(è”åˆä½“)**å­˜å‚¨åœ¨å†…å­˜é‡Œæ˜¯å…±ç”¨ä¸€å—åœ°å€çš„ï¼Œå…¶å ç”¨ç©ºé—´å†³å®šäºæœ€å¤§æˆå‘˜æ‰€éœ€çš„ç©ºé—´,ä»–ä»¬çš„èµ·å§‹åœ°å€ç›¸åŒã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ä¸ªå…±ç”¨ä½“,æˆå‘˜åˆ†åˆ«æ˜¯ä¸€ä¸ªintå’Œä¸€ä¸ªcharã€‚é€šè¿‡ç»™intèµ‹å€¼1ï¼Œç„¶åæ£€æµ‹charå¯¹åº”çš„å€¼æ˜¯å¤šå°‘ï¼Œå¦‚æœæ˜¯1ä»£è¡¨ç³»ç»Ÿå°†æ•°æ®1æ”¾åˆ°äº†intçš„èµ·å§‹åœ°å€(å› ä¸ºcharæ˜¯ä¸€ä¸ªå­—èŠ‚å¿…ç„¶åœ¨èµ·å§‹åœ°å€)ã€‚è€Œèµ·å§‹åœ°å€æ˜¯ä½åœ°å€ï¼Œä½åœ°å€å­˜æ”¾çš„1(æƒå€¼å°)æ¨å‡ºè¯¥ç³»ç»Ÿæ˜¯å°ç«¯ç³»ç»Ÿã€‚å¦åˆ™è¯¥ç³»ç»Ÿæ˜¯å¤§ç«¯ç³»ç»Ÿã€‚</p><p>Cä»£ç å¦‚ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">int</span> <span class="hljs-title function_">endian</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-class"><span class="hljs-keyword">union</span>&#123;</span><br>        <span class="hljs-type">int</span> a;<br>        <span class="hljs-type">char</span> b;<br>    &#125;endunion;<br>    endunion.a=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(endunion.b==<span class="hljs-number">1</span>)<span class="hljs-comment">//å¦‚æœæˆå‘˜bæ˜¯1åˆ™è¯æ˜éšåœ°å€é¡ºåºå’Œæ•°å­—æƒå€¼é¡ºåºç›¸åŒæ˜¯å°ç«¯æ¨¡å¼</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<span class="hljs-comment">//å°ç«¯</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<span class="hljs-comment">//å¤§ç«¯</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ç”¨ä¸€ä¸ªæ›´åŠ ç®€æ´çš„åŠæ³•(åŸç†éƒ½æ˜¯æ£€æµ‹intçš„èµ·å§‹åœ°å€å­˜æ”¾çš„æ˜¯ä»€ä¹ˆå€¼)ï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">int</span> <span class="hljs-title function_">endian</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> a=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> !(*((<span class="hljs-type">char</span> *)&amp;a));<span class="hljs-comment">//å–açš„åœ°å€ï¼Œå°†å…¶å¼ºåˆ¶è½¬åŒ–ä¸ºcharæŒ‡é’ˆï¼Œç„¶åå–å‡ºè¯¥åœ°å€å­˜æ”¾çš„å€¼å¹¶å–å;</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>cè¯­è¨€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¤§å°ç«¯å­˜å‚¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
